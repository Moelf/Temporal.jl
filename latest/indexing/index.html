<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C        D
2017-07-12  100.3636  100.1648  98.2338  101.3241
2017-07-13  100.243   98.5948   97.1929  102.2526
2017-07-14  100.6716  96.9082   97.4083  102.2339
2017-07-15  101.5672  95.8729   97.8078  103.5297
2017-07-16  102.0489  96.0167   96.444   102.7946
2017-07-17  101.392   94.6429   97.339   102.3832
2017-07-18  102.8788  94.7369   98.5514  100.9488
2017-07-19  102.7803  94.4993   98.8266  101.3678
2017-07-20  102.4428  93.7351   97.5152  101.1775
⋮
2018-03-11  83.4576   113.0902  71.2205  111.0925
2018-03-12  84.3419   112.9838  71.6185  112.5399
2018-03-13  85.4552   112.122   70.9664  112.4726
2018-03-14  84.49     110.798   71.717   113.8213
2018-03-15  83.6113   111.8859  74.1656  112.0828
2018-03-16  82.5415   111.0348  73.5778  110.5667
2018-03-17  82.9797   111.1524  74.0446  111.452
2018-03-18  82.563    111.8021  74.0457  110.6039
2018-03-19  83.5868   110.8084  75.5746  110.5928
2018-03-20  83.5908   110.3613  75.5898  112.6387

julia&gt; X[1]
Index       A         B         C        D
2017-07-12  100.3636  100.1648  98.2338  101.3241

julia&gt; X[1, :]
Index       A         B         C        D
2017-07-12  100.3636  100.1648  98.2338  101.3241

julia&gt; X[:, 1]
Index       A
2017-07-12  100.3636
2017-07-13  100.243
2017-07-14  100.6716
2017-07-15  101.5672
2017-07-16  102.0489
2017-07-17  101.392
2017-07-18  102.8788
2017-07-19  102.7803
2017-07-20  102.4428
⋮
2018-03-11  83.4576
2018-03-12  84.3419
2018-03-13  85.4552
2018-03-14  84.49
2018-03-15  83.6113
2018-03-16  82.5415
2018-03-17  82.9797
2018-03-18  82.563
2018-03-19  83.5868
2018-03-20  83.5908

julia&gt; X[1, 1]
Index       A
2017-07-12  100.3636
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A        B         C         D
2017-07-12  98.6212  98.9292   102.1572  100.2332
2017-07-13  97.6503  98.2679   102.4446  101.2512
2017-07-14  96.5785  99.4954   101.5669  101.2002
2017-07-15  96.5926  99.5785   102.1012  101.2615
2017-07-16  96.4157  100.6828  100.4304  99.1977
2017-07-17  95.8935  99.6343   99.4275   97.7482
2017-07-18  95.4285  101.3566  99.6399   100.1473
2017-07-19  95.0151  100.0085  100.0705  101.4808
2017-07-20  95.5041  99.5333   101.202   101.4034
⋮
2018-03-11  92.6997  95.2451   107.3298  78.9368
2018-03-12  92.6345  95.6048   109.2535  79.287
2018-03-13  92.7715  94.3455   108.2504  78.9299
2018-03-14  94.4689  94.737    107.6857  76.9856
2018-03-15  93.7799  94.306    107.9559  77.5246
2018-03-16  93.792   95.3931   105.1672  78.2266
2018-03-17  92.8502  94.1439   103.8899  76.4632
2018-03-18  93.6786  95.041    105.4167  76.5951
2018-03-19  93.7656  96.3846   105.7839  76.7108
2018-03-20  96.4712  97.2784   106.8643  76.8287

julia&gt; X[trues(size(X,1)), :]
Index       A        B         C         D
2017-07-12  98.6212  98.9292   102.1572  100.2332
2017-07-13  97.6503  98.2679   102.4446  101.2512
2017-07-14  96.5785  99.4954   101.5669  101.2002
2017-07-15  96.5926  99.5785   102.1012  101.2615
2017-07-16  96.4157  100.6828  100.4304  99.1977
2017-07-17  95.8935  99.6343   99.4275   97.7482
2017-07-18  95.4285  101.3566  99.6399   100.1473
2017-07-19  95.0151  100.0085  100.0705  101.4808
2017-07-20  95.5041  99.5333   101.202   101.4034
⋮
2018-03-11  92.6997  95.2451   107.3298  78.9368
2018-03-12  92.6345  95.6048   109.2535  79.287
2018-03-13  92.7715  94.3455   108.2504  78.9299
2018-03-14  94.4689  94.737    107.6857  76.9856
2018-03-15  93.7799  94.306    107.9559  77.5246
2018-03-16  93.792   95.3931   105.1672  78.2266
2018-03-17  92.8502  94.1439   103.8899  76.4632
2018-03-18  93.6786  95.041    105.4167  76.5951
2018-03-19  93.7656  96.3846   105.7839  76.7108
2018-03-20  96.4712  97.2784   106.8643  76.8287

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-07-15  96.5926
2017-07-20  95.5041
2017-07-21  96.8023
2017-07-31  100.6817
2017-08-01  100.0394
2017-08-02  99.6499
2017-08-06  97.5099
2017-08-07  95.6297
2017-08-10  96.1008
⋮
2018-02-17  92.4251
2018-02-20  91.9816
2018-02-21  92.4027
2018-02-23  92.8766
2018-03-01  93.0699
2018-03-02  92.3646
2018-03-08  92.4236
2018-03-10  92.7853
2018-03-12  92.6345
2018-03-16  93.792

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-07-12  98.6212
2017-07-13  97.6503
2017-07-14  96.5785
2017-07-15  96.5926
2017-07-16  96.4157
2017-07-19  95.0151
2017-07-20  95.5041
2017-07-21  96.8023
2017-07-22  96.2776
⋮
2018-02-23  92.8766
2018-02-28  92.17
2018-03-01  93.0699
2018-03-04  90.848
2018-03-07  91.1767
2018-03-10  92.7853
2018-03-14  94.4689
2018-03-15  93.7799
2018-03-17  92.8502
2018-03-18  93.6786
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-07-12  99.5933   98.951    99.9214   99.0931
2017-07-13  101.0971  98.3843   99.8834   98.5309
2017-07-14  101.0245  98.0651   99.5157   98.1121
2017-07-15  100.8491  99.3447   99.3279   97.1894
2017-07-16  101.6872  98.2223   100.7209  98.2745
2017-07-17  101.7541  98.3294   100.5286  98.9536
2017-07-18  102.5788  98.8444   101.55    100.3513
2017-07-19  102.7627  99.5383   100.6503  100.5384
2017-07-20  100.973   98.1226   99.987    100.0601
⋮
2018-03-11  93.4009   123.2644  77.0039   90.3083
2018-03-12  94.7473   123.016   77.756    90.7651
2018-03-13  94.5947   122.5674  76.8453   91.1004
2018-03-14  96.2284   123.6397  76.4615   90.6903
2018-03-15  94.9929   122.993   76.2156   91.5963
2018-03-16  93.5398   124.4046  75.5307   92.2541
2018-03-17  93.9543   124.3855  73.9306   91.774
2018-03-18  93.3796   125.335   73.1968   93.4356
2018-03-19  92.7662   125.1199  73.1718   93.2506
2018-03-20  93.8887   126.4285  72.1786   94.3489

julia&gt; X[1:10, :]
Index       A         B        C         D
2017-07-12  99.5933   98.951   99.9214   99.0931
2017-07-13  101.0971  98.3843  99.8834   98.5309
2017-07-14  101.0245  98.0651  99.5157   98.1121
2017-07-15  100.8491  99.3447  99.3279   97.1894
2017-07-16  101.6872  98.2223  100.7209  98.2745
2017-07-17  101.7541  98.3294  100.5286  98.9536
2017-07-18  102.5788  98.8444  101.55    100.3513
2017-07-19  102.7627  99.5383  100.6503  100.5384
2017-07-20  100.973   98.1226  99.987    100.0601
2017-07-21  99.8616   97.9726  99.7178   99.803

julia&gt; X[end-100:end, 2:3]
Index       B         C
2017-12-10  117.2374  88.188
2017-12-11  117.2505  88.0852
2017-12-12  118.0058  88.3414
2017-12-13  117.5444  88.4167
2017-12-14  117.4204  86.7043
2017-12-15  118.6302  85.9991
2017-12-16  116.8873  86.4443
2017-12-17  116.8154  84.0378
2017-12-18  115.0102  83.6429
⋮
2018-03-11  123.2644  77.0039
2018-03-12  123.016   77.756
2018-03-13  122.5674  76.8453
2018-03-14  123.6397  76.4615
2018-03-15  122.993   76.2156
2018-03-16  124.4046  75.5307
2018-03-17  124.3855  73.9306
2018-03-18  125.335   73.1968
2018-03-19  125.1199  73.1718
2018-03-20  126.4285  72.1786

julia&gt; X[end, 2:end]
Index       B         C        D
2018-03-20  126.4285  72.1786  94.3489
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C        D
2017-07-12  98.5611   99.144    98.2568  99.9961
2017-07-13  99.2122   100.9451  98.1186  99.528
2017-07-14  100.513   102.1169  98.5462  100.1639
2017-07-15  99.8399   100.8921  98.6624  98.6093
2017-07-16  99.6123   99.944    99.4413  100.2809
2017-07-17  99.2834   100.3431  98.2072  99.556
2017-07-18  99.9022   101.1835  98.5634  99.4196
2017-07-19  99.5486   101.3754  98.4611  99.6646
2017-07-20  101.0185  102.1056  97.6745  97.6263
⋮
2018-03-11  88.4814   105.5041  87.1707  99.9108
2018-03-12  88.7859   106.4773  85.7824  99.0846
2018-03-13  87.0961   104.7926  83.8266  98.4893
2018-03-14  88.0856   105.7782  83.6606  100.3233
2018-03-15  87.8742   107.9819  83.0961  101.7367
2018-03-16  86.7755   108.8687  83.505   101.1715
2018-03-17  85.6303   107.5014  84.2173  100.25
2018-03-18  87.2911   107.5287  83.0658  99.755
2018-03-19  86.0403   108.5258  83.8421  99.4078
2018-03-20  85.4855   109.7656  84.9675  98.301

julia&gt; X[:, :A]
Index       A
2017-07-12  98.5611
2017-07-13  99.2122
2017-07-14  100.513
2017-07-15  99.8399
2017-07-16  99.6123
2017-07-17  99.2834
2017-07-18  99.9022
2017-07-19  99.5486
2017-07-20  101.0185
⋮
2018-03-11  88.4814
2018-03-12  88.7859
2018-03-13  87.0961
2018-03-14  88.0856
2018-03-15  87.8742
2018-03-16  86.7755
2018-03-17  85.6303
2018-03-18  87.2911
2018-03-19  86.0403
2018-03-20  85.4855

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-07-12  99.144    99.9961
2017-07-13  100.9451  99.528
2017-07-14  102.1169  100.1639
2017-07-15  100.8921  98.6093
2017-07-16  99.944    100.2809
2017-07-17  100.3431  99.556
2017-07-18  101.1835  99.4196
2017-07-19  101.3754  99.6646
2017-07-20  102.1056  97.6263
⋮
2018-03-11  105.5041  99.9108
2018-03-12  106.4773  99.0846
2018-03-13  104.7926  98.4893
2018-03-14  105.7782  100.3233
2018-03-15  107.9819  101.7367
2018-03-16  108.8687  101.1715
2018-03-17  107.5014  100.25
2018-03-18  107.5287  99.755
2018-03-19  108.5258  99.4078
2018-03-20  109.7656  98.301
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C         D
2016-01-01  100.2641  100.7771  101.154   100.3461
2016-01-02  98.627    102.804   101.1935  100.3161
2016-01-03  98.7008   102.1026  102.2856  99.6111
2016-01-04  98.6937   102.8657  102.5442  100.5954
2016-01-05  98.4004   103.6749  103.6086  100.0815
2016-01-06  98.9588   104.5892  104.9362  101.0069
2016-01-07  97.8384   103.7255  104.1685  101.1364
2016-01-08  98.4716   105.1196  105.4461  101.5513
2016-01-09  97.3477   105.162   104.0336  100.1508
⋮
2017-12-22  88.3967   84.01     133.7998  108.2526
2017-12-23  89.0637   84.8438   132.0998  107.2905
2017-12-24  89.1637   85.0679   133.2903  107.7136
2017-12-25  90.3636   86.0392   133.6633  107.7301
2017-12-26  90.244    85.9196   134.8193  105.3148
2017-12-27  91.1653   85.672    135.2627  103.9506
2017-12-28  90.5091   83.6033   133.655   103.2895
2017-12-29  91.0846   85.3898   134.4963  103.6933
2017-12-30  89.766    85.4533   134.448   101.9001
2017-12-31  88.7685   85.86     132.6604  101.8577

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A        B        C         D
2017-07-01  93.4551  97.0018  109.8969  114.0117

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C         D
2016-01-01  100.2641  100.7771  101.154   100.3461
2016-01-02  98.627    102.804   101.1935  100.3161
2016-01-03  98.7008   102.1026  102.2856  99.6111
2016-01-04  98.6937   102.8657  102.5442  100.5954
2016-01-05  98.4004   103.6749  103.6086  100.0815
2016-01-06  98.9588   104.5892  104.9362  101.0069
2016-01-07  97.8384   103.7255  104.1685  101.1364
2016-01-08  98.4716   105.1196  105.4461  101.5513
2016-01-09  97.3477   105.162   104.0336  100.1508
⋮
2016-12-22  89.905    77.807    102.7148  124.4251
2016-12-23  90.4722   77.1583   104.1698  124.0593
2016-12-24  89.7335   77.6455   105.1206  124.22
2016-12-25  90.7435   79.0343   105.2291  124.1315
2016-12-26  90.8116   80.6736   105.0538  126.1786
2016-12-27  91.1783   80.7395   104.1103  126.96
2016-12-28  90.6052   80.5246   103.372   127.2661
2016-12-29  90.4942   80.7227   102.2175  127.7155
2016-12-30  90.1775   81.3364   104.23    128.6117
2016-12-31  91.6507   79.372    103.1286  127.3411

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
