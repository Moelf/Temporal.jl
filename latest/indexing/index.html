<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-22  99.5971   99.9693   100.8121  99.5549
2017-11-23  100.6843  99.3072   99.4247   101.7218
2017-11-24  100.0866  99.7655   97.9018   102.65
2017-11-25  100.8631  99.5304   97.9679   101.1897
2017-11-26  99.2211   99.7201   97.0582   102.0647
2017-11-27  99.2644   98.8808   96.5442   102.489
2017-11-28  99.803    98.8324   96.997    103.7491
2017-11-29  99.2986   99.1607   96.0229   103.3958
2017-11-30  98.6968   100.2605  94.2617   104.2196
⋮
2018-07-22  100.3988  106.6651  79.5869   112.0212
2018-07-23  98.9437   107.6947  80.322    112.3391
2018-07-24  98.2111   108.7481  80.177    112.7651
2018-07-25  96.6554   109.5798  80.0189   112.6119
2018-07-26  95.0972   110.5146  80.9976   112.4499
2018-07-27  94.7418   109.5506  79.4174   111.7126
2018-07-28  96.5978   108.5391  79.4488   112.3716
2018-07-29  95.5416   107.6893  78.5244   112.7357
2018-07-30  94.6521   107.3742  78.0866   113.8292
2018-07-31  94.1387   108.1415  77.9907   113.7606

julia&gt; X[1]
Index       A        B        C         D
2017-11-22  99.5971  99.9693  100.8121  99.5549

julia&gt; X[1, :]
Index       A        B        C         D
2017-11-22  99.5971  99.9693  100.8121  99.5549

julia&gt; X[:, 1]
Index       A
2017-11-22  99.5971
2017-11-23  100.6843
2017-11-24  100.0866
2017-11-25  100.8631
2017-11-26  99.2211
2017-11-27  99.2644
2017-11-28  99.803
2017-11-29  99.2986
2017-11-30  98.6968
⋮
2018-07-22  100.3988
2018-07-23  98.9437
2018-07-24  98.2111
2018-07-25  96.6554
2018-07-26  95.0972
2018-07-27  94.7418
2018-07-28  96.5978
2018-07-29  95.5416
2018-07-30  94.6521
2018-07-31  94.1387

julia&gt; X[1, 1]
Index       A
2017-11-22  99.5971
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A        B         C         D
2017-11-22  99.3813  100.7684  100.6515  99.0376
2017-11-23  97.3425  99.1954   100.5761  97.8134
2017-11-24  96.1865  100.4788  102.4673  95.8772
2017-11-25  98.0016  99.8762   101.6315  95.9333
2017-11-26  98.0112  101.4268  101.7533  95.9346
2017-11-27  97.7907  101.0165  99.8282   95.3151
2017-11-28  98.0515  99.6472   99.7559   93.5043
2017-11-29  97.9143  99.0647   99.8865   93.7297
2017-11-30  98.8259  99.8205   99.741    93.4281
⋮
2018-07-22  79.9778  98.2355   82.5711   87.9787
2018-07-23  79.832   98.9987   82.2321   86.8128
2018-07-24  79.0878  99.4273   83.9644   88.2107
2018-07-25  79.8228  96.2567   84.3703   88.5508
2018-07-26  79.6784  96.9062   85.1877   87.7215
2018-07-27  78.3014  96.6557   85.8122   87.0933
2018-07-28  78.8307  98.3271   84.1135   87.1301
2018-07-29  78.0104  97.5814   84.696    87.9898
2018-07-30  77.7429  97.5043   85.7792   87.0778
2018-07-31  77.4986  96.5206   84.4581   85.9837

julia&gt; X[trues(size(X,1)), :]
Index       A        B         C         D
2017-11-22  99.3813  100.7684  100.6515  99.0376
2017-11-23  97.3425  99.1954   100.5761  97.8134
2017-11-24  96.1865  100.4788  102.4673  95.8772
2017-11-25  98.0016  99.8762   101.6315  95.9333
2017-11-26  98.0112  101.4268  101.7533  95.9346
2017-11-27  97.7907  101.0165  99.8282   95.3151
2017-11-28  98.0515  99.6472   99.7559   93.5043
2017-11-29  97.9143  99.0647   99.8865   93.7297
2017-11-30  98.8259  99.8205   99.741    93.4281
⋮
2018-07-22  79.9778  98.2355   82.5711   87.9787
2018-07-23  79.832   98.9987   82.2321   86.8128
2018-07-24  79.0878  99.4273   83.9644   88.2107
2018-07-25  79.8228  96.2567   84.3703   88.5508
2018-07-26  79.6784  96.9062   85.1877   87.7215
2018-07-27  78.3014  96.6557   85.8122   87.0933
2018-07-28  78.8307  98.3271   84.1135   87.1301
2018-07-29  78.0104  97.5814   84.696    87.9898
2018-07-30  77.7429  97.5043   85.7792   87.0778
2018-07-31  77.4986  96.5206   84.4581   85.9837

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-22  99.3813
2017-11-24  96.1865
2017-11-25  98.0016
2017-11-26  98.0112
2017-11-29  97.9143
2017-11-30  98.8259
2017-12-02  98.4971
2017-12-03  97.4853
2017-12-05  98.5625
⋮
2018-07-12  82.1267
2018-07-14  82.3183
2018-07-15  81.9185
2018-07-17  80.9222
2018-07-21  81.4833
2018-07-25  79.8228
2018-07-27  78.3014
2018-07-28  78.8307
2018-07-29  78.0104
2018-07-31  77.4986

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-22  99.3813
2017-11-24  96.1865
2017-11-26  98.0112
2017-11-27  97.7907
2017-11-28  98.0515
2017-11-29  97.9143
2017-11-30  98.8259
2017-12-03  97.4853
2017-12-04  97.3777
⋮
2018-06-27  83.5286
2018-06-28  83.4887
2018-06-29  84.9175
2018-07-08  81.8266
2018-07-11  81.9363
2018-07-17  80.9222
2018-07-18  81.0561
2018-07-23  79.832
2018-07-26  79.6784
2018-07-31  77.4986
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C        D
2017-11-22  99.9047   99.8434   99.3768  99.3395
2017-11-23  99.3838   100.9411  98.1048  100.6035
2017-11-24  99.2858   101.161   98.0233  99.4285
2017-11-25  98.6708   100.7145  98.8114  99.8686
2017-11-26  98.9679   100.709   97.8849  98.7373
2017-11-27  100.5901  100.4639  97.5128  98.9674
2017-11-28  100.9483  100.2877  98.4468  100.202
2017-11-29  101.0913  99.0      97.9995  99.9188
2017-11-30  100.0227  100.4519  98.3335  98.1933
⋮
2018-07-22  90.1299   107.8662  87.7354  98.6833
2018-07-23  92.6923   106.6147  88.3422  97.958
2018-07-24  91.86     105.0314  87.5363  98.5185
2018-07-25  90.0447   103.7278  87.0286  97.3052
2018-07-26  89.6176   104.6012  87.2294  97.9935
2018-07-27  89.4042   104.3263  87.8548  96.2411
2018-07-28  91.4372   106.8403  89.026   94.8588
2018-07-29  90.2943   106.6565  87.814   94.3342
2018-07-30  89.358    105.0268  87.3743  93.0228
2018-07-31  89.0959   104.9551  87.5386  92.4791

julia&gt; X[1:10, :]
Index       A         B         C        D
2017-11-22  99.9047   99.8434   99.3768  99.3395
2017-11-23  99.3838   100.9411  98.1048  100.6035
2017-11-24  99.2858   101.161   98.0233  99.4285
2017-11-25  98.6708   100.7145  98.8114  99.8686
2017-11-26  98.9679   100.709   97.8849  98.7373
2017-11-27  100.5901  100.4639  97.5128  98.9674
2017-11-28  100.9483  100.2877  98.4468  100.202
2017-11-29  101.0913  99.0      97.9995  99.9188
2017-11-30  100.0227  100.4519  98.3335  98.1933
2017-12-01  100.1623  100.422   97.628   97.474

julia&gt; X[end-100:end, 2:3]
Index       B         C
2018-04-22  99.3199   91.5305
2018-04-23  100.1498  90.469
2018-04-24  98.6607   90.4807
2018-04-25  96.7875   90.2915
2018-04-26  97.4468   90.7268
2018-04-27  98.0281   90.6316
2018-04-28  97.7173   90.8443
2018-04-29  95.4353   90.6884
2018-04-30  95.8417   91.4996
⋮
2018-07-22  107.8662  87.7354
2018-07-23  106.6147  88.3422
2018-07-24  105.0314  87.5363
2018-07-25  103.7278  87.0286
2018-07-26  104.6012  87.2294
2018-07-27  104.3263  87.8548
2018-07-28  106.8403  89.026
2018-07-29  106.6565  87.814
2018-07-30  105.0268  87.3743
2018-07-31  104.9551  87.5386

julia&gt; X[end, 2:end]
Index       B         C        D
2018-07-31  104.9551  87.5386  92.4791
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B        C         D
2017-11-22  100.4534  98.6752  100.2783  100.1686
2017-11-23  100.6365  99.798   100.6295  99.0332
2017-11-24  99.9127   98.8157  101.5477  96.925
2017-11-25  98.9808   97.5218  102.3877  96.7515
2017-11-26  100.7592  97.3161  104.0298  95.8682
2017-11-27  101.7232  98.5856  104.2487  94.5896
2017-11-28  101.6923  98.4659  102.6579  94.9066
2017-11-29  103.3186  99.2802  104.1948  94.7714
2017-11-30  103.4804  98.5472  103.1831  96.5379
⋮
2018-07-22  103.2459  92.7524  89.0981   86.6084
2018-07-23  103.1278  91.502   88.3703   86.9882
2018-07-24  101.8654  91.288   86.5445   88.7574
2018-07-25  101.3961  92.6539  88.2944   89.0467
2018-07-26  102.8319  90.1403  88.2881   88.7226
2018-07-27  102.8032  89.1192  88.5717   89.1966
2018-07-28  104.2427  90.3436  88.8457   90.499
2018-07-29  106.3219  90.1283  88.8895   89.9161
2018-07-30  107.2336  90.3714  88.0222   89.3035
2018-07-31  107.2629  90.3504  88.6013   90.372

julia&gt; X[:, :A]
Index       A
2017-11-22  100.4534
2017-11-23  100.6365
2017-11-24  99.9127
2017-11-25  98.9808
2017-11-26  100.7592
2017-11-27  101.7232
2017-11-28  101.6923
2017-11-29  103.3186
2017-11-30  103.4804
⋮
2018-07-22  103.2459
2018-07-23  103.1278
2018-07-24  101.8654
2018-07-25  101.3961
2018-07-26  102.8319
2018-07-27  102.8032
2018-07-28  104.2427
2018-07-29  106.3219
2018-07-30  107.2336
2018-07-31  107.2629

julia&gt; X[:, [:B, :D]]
Index       B        D
2017-11-22  98.6752  100.1686
2017-11-23  99.798   99.0332
2017-11-24  98.8157  96.925
2017-11-25  97.5218  96.7515
2017-11-26  97.3161  95.8682
2017-11-27  98.5856  94.5896
2017-11-28  98.4659  94.9066
2017-11-29  99.2802  94.7714
2017-11-30  98.5472  96.5379
⋮
2018-07-22  92.7524  86.6084
2018-07-23  91.502   86.9882
2018-07-24  91.288   88.7574
2018-07-25  92.6539  89.0467
2018-07-26  90.1403  88.7226
2018-07-27  89.1192  89.1966
2018-07-28  90.3436  90.499
2018-07-29  90.1283  89.9161
2018-07-30  90.3714  89.3035
2018-07-31  90.3504  90.372
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A        B         C         D
2016-01-01  99.8434  98.8253   98.7735   98.8307
2016-01-02  98.8699  98.7886   98.1971   99.2109
2016-01-03  98.8785  98.9377   98.9625   98.2794
2016-01-04  97.6244  98.7981   99.4388   96.8336
2016-01-05  97.3515  99.2231   100.5988  95.9395
2016-01-06  96.7999  99.2187   100.2083  95.3444
2016-01-07  97.5911  99.0493   99.7107   95.2598
2016-01-08  97.8109  98.8041   100.0221  95.3764
2016-01-09  96.5988  100.5064  99.2314   92.9171
⋮
2017-12-22  80.1171  100.5424  106.9563  107.7047
2017-12-23  79.9169  100.3312  107.5738  106.3028
2017-12-24  80.2937  100.7548  106.9135  104.8594
2017-12-25  81.5464  101.1247  107.6966  104.1559
2017-12-26  81.4577  99.3114   106.757   103.1976
2017-12-27  80.3034  98.6912   108.442   104.9567
2017-12-28  80.1352  100.5117  108.7224  104.7166
2017-12-29  78.8612  101.5078  109.0288  107.1243
2017-12-30  79.9201  102.7302  109.2863  108.2243
2017-12-31  79.7375  102.3704  110.3122  109.1807

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A        B         C         D
2017-07-01  92.1501  106.0602  113.3853  98.8908

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C         D
2016-01-01  99.8434   98.8253   98.7735   98.8307
2016-01-02  98.8699   98.7886   98.1971   99.2109
2016-01-03  98.8785   98.9377   98.9625   98.2794
2016-01-04  97.6244   98.7981   99.4388   96.8336
2016-01-05  97.3515   99.2231   100.5988  95.9395
2016-01-06  96.7999   99.2187   100.2083  95.3444
2016-01-07  97.5911   99.0493   99.7107   95.2598
2016-01-08  97.8109   98.8041   100.0221  95.3764
2016-01-09  96.5988   100.5064  99.2314   92.9171
⋮
2016-12-22  104.7985  93.7365   116.4855  72.53
2016-12-23  106.0511  92.6654   114.6775  74.865
2016-12-24  106.7556  90.7173   114.7581  75.3087
2016-12-25  106.8875  91.5019   115.826   74.3085
2016-12-26  108.2831  91.5234   115.4417  75.2904
2016-12-27  110.2308  92.2666   115.8892  76.92
2016-12-28  110.4004  91.2921   115.1875  77.3723
2016-12-29  110.0818  91.0064   115.771   77.3844
2016-12-30  109.772   90.2459   116.2139  76.2357
2016-12-31  109.7662  90.025    115.8762  76.3917

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
