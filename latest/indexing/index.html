<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-22  99.7522   100.3688  100.0759  98.638
2017-11-23  101.3732  99.7607   100.9749  98.6527
2017-11-24  101.5432  99.4081   100.3592  99.2495
2017-11-25  100.1194  99.6871   99.9791   100.3987
2017-11-26  99.3271   101.5653  102.4529  100.3493
2017-11-27  101.4656  101.3816  101.3647  102.2423
2017-11-28  100.941   101.9556  101.0077  100.7818
2017-11-29  101.3586  102.3315  101.2848  103.1978
2017-11-30  99.7281   101.9334  99.1472   104.3666
⋮
2018-07-22  91.501    113.6761  95.0359   92.4991
2018-07-23  93.395    114.1763  93.5963   93.1952
2018-07-24  93.3037   113.8208  93.0014   92.2148
2018-07-25  93.6825   114.7185  92.6964   91.1141
2018-07-26  92.8047   117.1969  92.3592   91.3675
2018-07-27  93.7239   117.9619  92.516    92.9724
2018-07-28  92.8171   118.1824  93.3468   93.0004
2018-07-29  91.5829   116.883   93.3567   92.4199
2018-07-30  90.9792   114.8011  93.4572   92.4181
2018-07-31  90.8341   115.1624  92.6326   93.7552

julia&gt; X[1]
Index       A        B         C         D
2017-11-22  99.7522  100.3688  100.0759  98.638

julia&gt; X[1, :]
Index       A        B         C         D
2017-11-22  99.7522  100.3688  100.0759  98.638

julia&gt; X[:, 1]
Index       A
2017-11-22  99.7522
2017-11-23  101.3732
2017-11-24  101.5432
2017-11-25  100.1194
2017-11-26  99.3271
2017-11-27  101.4656
2017-11-28  100.941
2017-11-29  101.3586
2017-11-30  99.7281
⋮
2018-07-22  91.501
2018-07-23  93.395
2018-07-24  93.3037
2018-07-25  93.6825
2018-07-26  92.8047
2018-07-27  93.7239
2018-07-28  92.8171
2018-07-29  91.5829
2018-07-30  90.9792
2018-07-31  90.8341

julia&gt; X[1, 1]
Index       A
2017-11-22  99.7522
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-22  99.8167   99.9909   101.595   100.0652
2017-11-23  99.4725   101.2272  100.5701  99.932
2017-11-24  99.6006   100.3355  101.282   100.9797
2017-11-25  99.9593   101.7382  100.757   101.7678
2017-11-26  100.8863  101.4868  101.9587  99.6804
2017-11-27  100.9106  99.2394   101.4474  101.0889
2017-11-28  102.3856  100.1505  101.4797  101.2464
2017-11-29  102.8614  99.7654   102.069   102.0407
2017-11-30  101.9727  100.7738  101.3789  100.7233
⋮
2018-07-22  88.4351   105.1187  99.8316   112.5258
2018-07-23  86.7484   105.5484  98.0709   112.4259
2018-07-24  87.8401   104.2252  98.5769   111.7336
2018-07-25  88.4069   104.5762  99.0948   112.4363
2018-07-26  88.5498   102.5208  99.6209   114.0532
2018-07-27  89.784    103.3782  101.0484  114.2338
2018-07-28  90.3241   104.1832  102.1258  114.8626
2018-07-29  90.1197   103.7789  101.7036  116.6018
2018-07-30  90.6069   104.8135  101.765   117.3865
2018-07-31  91.5707   103.9873  101.1296  117.6122

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-11-22  99.8167   99.9909   101.595   100.0652
2017-11-23  99.4725   101.2272  100.5701  99.932
2017-11-24  99.6006   100.3355  101.282   100.9797
2017-11-25  99.9593   101.7382  100.757   101.7678
2017-11-26  100.8863  101.4868  101.9587  99.6804
2017-11-27  100.9106  99.2394   101.4474  101.0889
2017-11-28  102.3856  100.1505  101.4797  101.2464
2017-11-29  102.8614  99.7654   102.069   102.0407
2017-11-30  101.9727  100.7738  101.3789  100.7233
⋮
2018-07-22  88.4351   105.1187  99.8316   112.5258
2018-07-23  86.7484   105.5484  98.0709   112.4259
2018-07-24  87.8401   104.2252  98.5769   111.7336
2018-07-25  88.4069   104.5762  99.0948   112.4363
2018-07-26  88.5498   102.5208  99.6209   114.0532
2018-07-27  89.784    103.3782  101.0484  114.2338
2018-07-28  90.3241   104.1832  102.1258  114.8626
2018-07-29  90.1197   103.7789  101.7036  116.6018
2018-07-30  90.6069   104.8135  101.765   117.3865
2018-07-31  91.5707   103.9873  101.1296  117.6122

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-23  99.4725
2017-11-24  99.6006
2017-11-25  99.9593
2017-11-26  100.8863
2017-11-27  100.9106
2017-11-29  102.8614
2017-11-30  101.9727
2017-12-03  102.3505
2017-12-07  102.7484
⋮
2018-07-13  88.3865
2018-07-14  88.5463
2018-07-18  88.8067
2018-07-20  90.2323
2018-07-21  89.7869
2018-07-22  88.4351
2018-07-24  87.8401
2018-07-26  88.5498
2018-07-29  90.1197
2018-07-30  90.6069

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-24  99.6006
2017-11-25  99.9593
2017-11-29  102.8614
2017-11-30  101.9727
2017-12-01  101.763
2017-12-02  102.282
2017-12-05  100.719
2017-12-07  102.7484
2017-12-11  100.7153
⋮
2018-07-15  88.6905
2018-07-17  89.0477
2018-07-18  88.8067
2018-07-20  90.2323
2018-07-23  86.7484
2018-07-24  87.8401
2018-07-27  89.784
2018-07-28  90.3241
2018-07-30  90.6069
2018-07-31  91.5707
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-22  102.3393  97.8089   99.8363   100.1909
2017-11-23  101.5238  96.6705   99.9376   101.575
2017-11-24  100.8728  97.5158   100.3645  100.9127
2017-11-25  101.371   98.8716   99.5549   100.9381
2017-11-26  103.857   97.6999   98.6706   101.9066
2017-11-27  102.9775  97.9046   99.1638   101.8895
2017-11-28  100.6078  96.7853   97.2145   101.3502
2017-11-29  100.0874  96.2408   96.955    101.3124
2017-11-30  98.9876   96.3594   97.2612   100.5959
⋮
2018-07-22  106.5303  110.6611  116.365   88.1022
2018-07-23  107.0846  110.6506  116.0212  87.9515
2018-07-24  105.2499  111.5951  116.0568  87.0169
2018-07-25  104.506   111.8882  116.1972  87.1063
2018-07-26  105.4567  110.7669  115.9824  88.2335
2018-07-27  104.7811  108.8986  114.8227  88.0413
2018-07-28  105.8023  108.1342  116.3859  86.1043
2018-07-29  106.8561  109.1676  116.0347  85.2082
2018-07-30  106.0575  110.0906  116.3954  84.6306
2018-07-31  105.2662  109.3519  116.4769  84.6556

julia&gt; X[1:10, :]
Index       A         B        C         D
2017-11-22  102.3393  97.8089  99.8363   100.1909
2017-11-23  101.5238  96.6705  99.9376   101.575
2017-11-24  100.8728  97.5158  100.3645  100.9127
2017-11-25  101.371   98.8716  99.5549   100.9381
2017-11-26  103.857   97.6999  98.6706   101.9066
2017-11-27  102.9775  97.9046  99.1638   101.8895
2017-11-28  100.6078  96.7853  97.2145   101.3502
2017-11-29  100.0874  96.2408  96.955    101.3124
2017-11-30  98.9876   96.3594  97.2612   100.5959
2017-12-01  98.243    96.4454  97.5049   100.1531

julia&gt; X[end-100:end, 2:3]
Index       B         C
2018-04-22  94.1219   105.2189
2018-04-23  96.2949   106.1486
2018-04-24  97.1775   106.9022
2018-04-25  97.0013   107.4487
2018-04-26  95.9606   107.1776
2018-04-27  95.4149   107.424
2018-04-28  96.2187   105.1659
2018-04-29  98.8263   104.5565
2018-04-30  97.8505   103.7012
⋮
2018-07-22  110.6611  116.365
2018-07-23  110.6506  116.0212
2018-07-24  111.5951  116.0568
2018-07-25  111.8882  116.1972
2018-07-26  110.7669  115.9824
2018-07-27  108.8986  114.8227
2018-07-28  108.1342  116.3859
2018-07-29  109.1676  116.0347
2018-07-30  110.0906  116.3954
2018-07-31  109.3519  116.4769

julia&gt; X[end, 2:end]
Index       B         C         D
2018-07-31  109.3519  116.4769  84.6556
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-22  100.2792  99.6536   99.646    98.6239
2017-11-23  99.116    99.983    101.0074  99.5815
2017-11-24  98.5582   99.5456   101.3312  100.4134
2017-11-25  96.2778   101.6216  99.9809   101.1835
2017-11-26  97.5285   101.819   99.7577   101.2541
2017-11-27  98.8732   99.9225   100.2662  100.8531
2017-11-28  97.7379   100.64    100.1876  100.4895
2017-11-29  98.4731   101.2665  100.5233  101.2031
2017-11-30  99.485    99.9712   102.3993  102.6459
⋮
2018-07-22  89.9321   87.3942   108.0833  87.9627
2018-07-23  88.7914   85.9177   107.9544  88.4869
2018-07-24  86.6832   86.1707   106.5015  88.7455
2018-07-25  87.1663   86.1821   105.9088  90.328
2018-07-26  87.5523   86.3142   105.5033  90.8805
2018-07-27  88.3132   86.0657   106.0675  93.1805
2018-07-28  88.7725   86.3068   103.228   91.7117
2018-07-29  89.6366   84.8855   103.4882  91.2716
2018-07-30  89.6304   85.4048   103.3398  91.5719
2018-07-31  90.1887   84.9856   103.6798  92.2065

julia&gt; X[:, :A]
Index       A
2017-11-22  100.2792
2017-11-23  99.116
2017-11-24  98.5582
2017-11-25  96.2778
2017-11-26  97.5285
2017-11-27  98.8732
2017-11-28  97.7379
2017-11-29  98.4731
2017-11-30  99.485
⋮
2018-07-22  89.9321
2018-07-23  88.7914
2018-07-24  86.6832
2018-07-25  87.1663
2018-07-26  87.5523
2018-07-27  88.3132
2018-07-28  88.7725
2018-07-29  89.6366
2018-07-30  89.6304
2018-07-31  90.1887

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-11-22  99.6536   98.6239
2017-11-23  99.983    99.5815
2017-11-24  99.5456   100.4134
2017-11-25  101.6216  101.1835
2017-11-26  101.819   101.2541
2017-11-27  99.9225   100.8531
2017-11-28  100.64    100.4895
2017-11-29  101.2665  101.2031
2017-11-30  99.9712   102.6459
⋮
2018-07-22  87.3942   87.9627
2018-07-23  85.9177   88.4869
2018-07-24  86.1707   88.7455
2018-07-25  86.1821   90.328
2018-07-26  86.3142   90.8805
2018-07-27  86.0657   93.1805
2018-07-28  86.3068   91.7117
2018-07-29  84.8855   91.2716
2018-07-30  85.4048   91.5719
2018-07-31  84.9856   92.2065
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C         D
2016-01-01  99.4286   99.54     101.3086  100.0753
2016-01-02  100.8103  99.9136   103.5411  100.0703
2016-01-03  98.8495   98.3373   103.7651  99.315
2016-01-04  99.5256   97.1437   104.2395  99.8155
2016-01-05  99.5072   99.7476   105.8184  99.4401
2016-01-06  100.497   100.0642  106.5561  99.5188
2016-01-07  99.8438   97.8973   107.6203  99.2174
2016-01-08  100.815   98.92     107.1165  98.8547
2016-01-09  102.0479  99.0373   106.4418  99.402
⋮
2017-12-22  91.7338   91.1319   72.2432   122.2316
2017-12-23  92.4175   90.9847   70.733    121.1565
2017-12-24  91.1447   90.4304   69.0839   121.7235
2017-12-25  91.2235   89.7573   69.9875   122.1686
2017-12-26  92.6919   88.6222   70.3032   120.947
2017-12-27  92.9542   91.702    70.3122   120.7309
2017-12-28  93.0123   91.8108   70.6829   121.5077
2017-12-29  93.998    92.1375   70.1404   122.4503
2017-12-30  94.4236   91.6214   69.258    123.2481
2017-12-31  94.5146   91.2667   70.5488   122.7391

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A         B       C        D
2017-07-01  105.8966  96.409  92.9173  102.0032

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C         D
2016-01-01  99.4286   99.54     101.3086  100.0753
2016-01-02  100.8103  99.9136   103.5411  100.0703
2016-01-03  98.8495   98.3373   103.7651  99.315
2016-01-04  99.5256   97.1437   104.2395  99.8155
2016-01-05  99.5072   99.7476   105.8184  99.4401
2016-01-06  100.497   100.0642  106.5561  99.5188
2016-01-07  99.8438   97.8973   107.6203  99.2174
2016-01-08  100.815   98.92     107.1165  98.8547
2016-01-09  102.0479  99.0373   106.4418  99.402
⋮
2016-12-22  84.1434   92.0186   112.0423  100.9578
2016-12-23  84.5432   91.5172   112.906   100.1875
2016-12-24  83.5132   90.9527   112.885   101.6618
2016-12-25  83.6358   91.7116   111.3284  101.6226
2016-12-26  83.6607   90.7752   112.1173  101.2474
2016-12-27  83.4531   90.0352   112.1075  99.4874
2016-12-28  82.8157   89.6178   111.8069  100.827
2016-12-29  81.7778   90.5928   113.1616  102.0543
2016-12-30  81.3176   90.2822   110.2302  99.9533
2016-12-31  80.5888   92.7632   110.6949  100.5965

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
