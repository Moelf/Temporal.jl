<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  99.2579   99.2988   99.0977   98.8771
2017-11-24  99.7551   99.4905   100.6576  97.8504
2017-11-25  100.9762  99.3137   101.7175  96.0355
2017-11-26  100.9917  100.1958  100.2453  95.1499
2017-11-27  101.5567  99.4382   100.7193  95.0884
2017-11-28  102.2929  98.5221   100.2792  95.2204
2017-11-29  103.2357  99.7355   101.5447  94.8546
2017-11-30  102.5016  101.3307  103.7178  95.4308
2017-12-01  101.045   99.774    104.0928  95.0304
⋮
2018-07-23  84.742    98.3483   125.0061  115.4788
2018-07-24  84.5889   96.9198   126.707   116.1145
2018-07-25  85.918    97.3602   128.4708  115.8185
2018-07-26  86.1687   97.1056   128.8742  115.4364
2018-07-27  85.725    98.3254   128.6413  115.846
2018-07-28  86.5081   97.2107   129.8011  116.4927
2018-07-29  86.0306   95.7554   127.8302  115.9256
2018-07-30  85.2441   95.1274   128.0661  116.492
2018-07-31  85.3002   95.7109   126.5389  116.0495
2018-08-01  85.5531   96.8614   126.5059  114.6061

julia&gt; X[1]
Index       A        B        C        D
2017-11-23  99.2579  99.2988  99.0977  98.8771

julia&gt; X[1, :]
Index       A        B        C        D
2017-11-23  99.2579  99.2988  99.0977  98.8771

julia&gt; X[:, 1]
Index       A
2017-11-23  99.2579
2017-11-24  99.7551
2017-11-25  100.9762
2017-11-26  100.9917
2017-11-27  101.5567
2017-11-28  102.2929
2017-11-29  103.2357
2017-11-30  102.5016
2017-12-01  101.045
⋮
2018-07-23  84.742
2018-07-24  84.5889
2018-07-25  85.918
2018-07-26  86.1687
2018-07-27  85.725
2018-07-28  86.5081
2018-07-29  86.0306
2018-07-30  85.2441
2018-07-31  85.3002
2018-08-01  85.5531

julia&gt; X[1, 1]
Index       A
2017-11-23  99.2579
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  100.2242  99.231    100.2173  100.5847
2017-11-24  98.9724   96.4671   99.8265   101.3124
2017-11-25  97.1708   96.2993   102.2225  100.7919
2017-11-26  97.3795   96.4455   101.2099  101.6496
2017-11-27  96.6669   96.2465   100.8883  101.4907
2017-11-28  97.9013   95.3066   101.1899  102.1175
2017-11-29  95.9929   95.5225   99.7931   102.533
2017-11-30  95.3948   96.6695   99.4799   101.6873
2017-12-01  96.2951   96.2003   100.6933  103.7479
⋮
2018-07-23  75.7664   113.0963  100.3037  112.039
2018-07-24  76.37     113.4861  99.5218   113.3547
2018-07-25  76.3346   115.3156  99.8261   114.3991
2018-07-26  76.7072   115.7084  98.4036   114.1621
2018-07-27  77.7203   116.557   99.5499   112.9328
2018-07-28  77.2595   116.0376  101.3423  113.2648
2018-07-29  80.1331   116.6656  100.1653  112.1072
2018-07-30  80.2598   116.4668  101.1055  111.3718
2018-07-31  81.2802   116.7834  100.8144  111.2806
2018-08-01  80.8822   115.8388  101.4432  111.1104

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-11-23  100.2242  99.231    100.2173  100.5847
2017-11-24  98.9724   96.4671   99.8265   101.3124
2017-11-25  97.1708   96.2993   102.2225  100.7919
2017-11-26  97.3795   96.4455   101.2099  101.6496
2017-11-27  96.6669   96.2465   100.8883  101.4907
2017-11-28  97.9013   95.3066   101.1899  102.1175
2017-11-29  95.9929   95.5225   99.7931   102.533
2017-11-30  95.3948   96.6695   99.4799   101.6873
2017-12-01  96.2951   96.2003   100.6933  103.7479
⋮
2018-07-23  75.7664   113.0963  100.3037  112.039
2018-07-24  76.37     113.4861  99.5218   113.3547
2018-07-25  76.3346   115.3156  99.8261   114.3991
2018-07-26  76.7072   115.7084  98.4036   114.1621
2018-07-27  77.7203   116.557   99.5499   112.9328
2018-07-28  77.2595   116.0376  101.3423  113.2648
2018-07-29  80.1331   116.6656  100.1653  112.1072
2018-07-30  80.2598   116.4668  101.1055  111.3718
2018-07-31  81.2802   116.7834  100.8144  111.2806
2018-08-01  80.8822   115.8388  101.4432  111.1104

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-23  100.2242
2017-11-26  97.3795
2017-11-27  96.6669
2017-11-30  95.3948
2017-12-01  96.2951
2017-12-03  95.3472
2017-12-05  93.8856
2017-12-07  95.3632
2017-12-12  92.8798
⋮
2018-07-19  74.6279
2018-07-20  75.8684
2018-07-21  75.5375
2018-07-22  76.2116
2018-07-23  75.7664
2018-07-24  76.37
2018-07-25  76.3346
2018-07-26  76.7072
2018-07-27  77.7203
2018-08-01  80.8822

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-23  100.2242
2017-11-25  97.1708
2017-11-26  97.3795
2017-11-28  97.9013
2017-11-29  95.9929
2017-11-30  95.3948
2017-12-03  95.3472
2017-12-05  93.8856
2017-12-07  95.3632
⋮
2018-07-11  74.6493
2018-07-12  75.5279
2018-07-13  75.2112
2018-07-19  74.6279
2018-07-20  75.8684
2018-07-22  76.2116
2018-07-23  75.7664
2018-07-24  76.37
2018-07-25  76.3346
2018-07-31  81.2802
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  99.6354   98.4678   103.1937  100.2768
2017-11-24  99.7328   98.9916   102.3001  100.4094
2017-11-25  99.3774   98.4976   102.8194  98.4073
2017-11-26  101.5193  98.9442   102.7443  98.5428
2017-11-27  102.6034  99.6373   101.7445  97.1884
2017-11-28  104.7912  100.6437  102.1694  97.6594
2017-11-29  104.4644  100.3609  102.519   97.6496
2017-11-30  104.2713  100.9696  102.5352  98.8246
2017-12-01  105.1499  100.1869  102.8641  98.0796
⋮
2018-07-23  118.4114  89.2363   106.6888  85.2272
2018-07-24  119.4964  89.6054   107.2164  85.3812
2018-07-25  119.6536  91.044    107.064   84.2986
2018-07-26  121.5912  92.658    108.8358  84.0769
2018-07-27  122.3401  92.2204   109.1219  83.785
2018-07-28  122.7092  93.7088   110.7563  84.4919
2018-07-29  123.8261  94.0495   110.4987  84.0083
2018-07-30  121.1233  93.5904   109.6476  85.465
2018-07-31  120.3438  93.8448   105.449   85.6089
2018-08-01  120.137   95.0724   104.8985  85.6926

julia&gt; X[1:10, :]
Index       A         B         C         D
2017-11-23  99.6354   98.4678   103.1937  100.2768
2017-11-24  99.7328   98.9916   102.3001  100.4094
2017-11-25  99.3774   98.4976   102.8194  98.4073
2017-11-26  101.5193  98.9442   102.7443  98.5428
2017-11-27  102.6034  99.6373   101.7445  97.1884
2017-11-28  104.7912  100.6437  102.1694  97.6594
2017-11-29  104.4644  100.3609  102.519   97.6496
2017-11-30  104.2713  100.9696  102.5352  98.8246
2017-12-01  105.1499  100.1869  102.8641  98.0796
2017-12-02  106.1445  101.3582  101.8563  97.5626

julia&gt; X[end-100:end, 2:3]
Index       B         C
2018-04-23  98.6832   109.6706
2018-04-24  98.9451   108.2695
2018-04-25  98.9644   106.6536
2018-04-26  100.7091  105.6002
2018-04-27  100.8814  105.9686
2018-04-28  100.5858  106.4985
2018-04-29  101.1457  108.6331
2018-04-30  101.9323  109.0211
2018-05-01  102.9747  108.9285
⋮
2018-07-23  89.2363   106.6888
2018-07-24  89.6054   107.2164
2018-07-25  91.044    107.064
2018-07-26  92.658    108.8358
2018-07-27  92.2204   109.1219
2018-07-28  93.7088   110.7563
2018-07-29  94.0495   110.4987
2018-07-30  93.5904   109.6476
2018-07-31  93.8448   105.449
2018-08-01  95.0724   104.8985

julia&gt; X[end, 2:end]
Index       B        C         D
2018-08-01  95.0724  104.8985  85.6926
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B        C         D
2017-11-23  100.6208  99.3333  100.1839  100.5419
2017-11-24  100.8866  99.3847  99.5667   100.0888
2017-11-25  102.3403  98.1617  98.6923   99.275
2017-11-26  101.5446  99.1574  99.2985   99.5562
2017-11-27  100.5414  98.4704  100.8141  101.093
2017-11-28  98.4675   96.9692  99.5209   101.2048
2017-11-29  98.6242   98.0686  99.0811   99.9887
2017-11-30  98.9641   98.703   98.2434   100.1029
2017-12-01  99.3053   97.3686  98.7398   102.2455
⋮
2018-07-23  117.4839  86.8003  131.4582  112.0598
2018-07-24  115.9439  84.4832  131.8141  111.9462
2018-07-25  115.1818  85.4533  131.2669  112.1872
2018-07-26  115.2602  84.396   132.0925  111.9161
2018-07-27  115.0074  84.641   131.8119  112.2702
2018-07-28  113.2056  84.7461  129.386   114.3054
2018-07-29  113.4507  84.7958  129.7171  116.2711
2018-07-30  113.3408  85.6252  130.6178  114.9845
2018-07-31  113.9333  85.1573  131.0907  115.165
2018-08-01  113.6046  85.4853  130.9592  116.3811

julia&gt; X[:, :A]
Index       A
2017-11-23  100.6208
2017-11-24  100.8866
2017-11-25  102.3403
2017-11-26  101.5446
2017-11-27  100.5414
2017-11-28  98.4675
2017-11-29  98.6242
2017-11-30  98.9641
2017-12-01  99.3053
⋮
2018-07-23  117.4839
2018-07-24  115.9439
2018-07-25  115.1818
2018-07-26  115.2602
2018-07-27  115.0074
2018-07-28  113.2056
2018-07-29  113.4507
2018-07-30  113.3408
2018-07-31  113.9333
2018-08-01  113.6046

julia&gt; X[:, [:B, :D]]
Index       B        D
2017-11-23  99.3333  100.5419
2017-11-24  99.3847  100.0888
2017-11-25  98.1617  99.275
2017-11-26  99.1574  99.5562
2017-11-27  98.4704  101.093
2017-11-28  96.9692  101.2048
2017-11-29  98.0686  99.9887
2017-11-30  98.703   100.1029
2017-12-01  97.3686  102.2455
⋮
2018-07-23  86.8003  112.0598
2018-07-24  84.4832  111.9462
2018-07-25  85.4533  112.1872
2018-07-26  84.396   111.9161
2018-07-27  84.641   112.2702
2018-07-28  84.7461  114.3054
2018-07-29  84.7958  116.2711
2018-07-30  85.6252  114.9845
2018-07-31  85.1573  115.165
2018-08-01  85.4853  116.3811
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C         D
2016-01-01  99.6417   98.6319   99.679    100.4268
2016-01-02  99.6044   98.8993   99.8382   100.5993
2016-01-03  97.4812   99.7901   99.7668   100.4471
2016-01-04  96.6238   100.9413  100.4331  100.0471
2016-01-05  97.1094   99.1646   100.0909  100.6964
2016-01-06  97.1574   99.3916   98.0103   102.7609
2016-01-07  96.6395   100.2517  99.9691   103.2797
2016-01-08  96.7477   100.7843  99.4271   104.2412
2016-01-09  96.039    99.3903   100.0802  102.2033
⋮
2017-12-22  102.5801  116.2172  104.0153  85.5227
2017-12-23  102.8934  114.725   102.1472  86.683
2017-12-24  102.087   113.3674  100.4247  86.0979
2017-12-25  101.9984  113.7194  99.6982   84.9729
2017-12-26  100.4949  112.1568  100.3872  84.3219
2017-12-27  101.0404  111.6218  100.7453  84.0188
2017-12-28  102.0062  110.4955  101.5717  85.2999
2017-12-29  100.8862  111.0889  99.8146   84.2856
2017-12-30  102.2354  112.1276  99.436    83.7914
2017-12-31  103.0834  111.8619  98.2434   83.9108

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A         B         C         D
2017-07-01  103.5487  105.3277  101.5165  79.9013

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C         D
2016-01-01  99.6417   98.6319   99.679    100.4268
2016-01-02  99.6044   98.8993   99.8382   100.5993
2016-01-03  97.4812   99.7901   99.7668   100.4471
2016-01-04  96.6238   100.9413  100.4331  100.0471
2016-01-05  97.1094   99.1646   100.0909  100.6964
2016-01-06  97.1574   99.3916   98.0103   102.7609
2016-01-07  96.6395   100.2517  99.9691   103.2797
2016-01-08  96.7477   100.7843  99.4271   104.2412
2016-01-09  96.039    99.3903   100.0802  102.2033
⋮
2016-12-22  106.1239  111.7855  85.7112   83.4155
2016-12-23  106.8234  112.2397  86.6604   83.0761
2016-12-24  106.5614  112.5305  86.5772   83.9873
2016-12-25  105.8622  111.7155  86.353    84.376
2016-12-26  105.5532  112.9586  85.5078   83.6297
2016-12-27  104.6322  112.2861  85.8198   84.582
2016-12-28  102.2167  112.5144  85.0853   83.607
2016-12-29  101.0898  111.9989  85.1498   82.2228
2016-12-30  100.0693  112.7086  85.8818   79.9885
2016-12-31  100.8344  109.4623  86.972    79.1192

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
