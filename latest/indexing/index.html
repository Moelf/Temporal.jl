<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-10-27  100.5124  98.7877   99.9838   100.1103
2017-10-28  100.9551  99.5541   100.8824  99.5385
2017-10-29  101.4558  101.0901  100.0646  100.1552
2017-10-30  102.2291  101.4927  99.6969   100.7299
2017-10-31  103.0816  102.2554  100.0857  100.8225
2017-11-01  102.2917  101.941   99.4575   100.4312
2017-11-02  100.9313  102.0877  100.7192  100.3487
2017-11-03  99.8117   102.1115  102.1708  99.155
2017-11-04  100.1969  101.3026  101.9505  99.2625
⋮
2018-06-26  73.7736   114.5892  103.7465  83.054
2018-06-27  73.6944   116.1978  103.6779  82.8941
2018-06-28  75.0948   116.297   102.2492  83.2693
2018-06-29  76.7547   116.7043  101.387   82.803
2018-06-30  74.5157   116.8124  98.9428   81.8611
2018-07-01  75.6677   117.8303  98.9384   81.8026
2018-07-02  77.6638   116.111   98.5672   82.0371
2018-07-03  78.702    116.9097  99.0013   82.1822
2018-07-04  79.8296   116.0764  98.2477   81.2799
2018-07-05  77.9583   115.9348  98.9959   81.7269

julia&gt; X[1]
Index       A         B        C        D
2017-10-27  100.5124  98.7877  99.9838  100.1103

julia&gt; X[1, :]
Index       A         B        C        D
2017-10-27  100.5124  98.7877  99.9838  100.1103

julia&gt; X[:, 1]
Index       A
2017-10-27  100.5124
2017-10-28  100.9551
2017-10-29  101.4558
2017-10-30  102.2291
2017-10-31  103.0816
2017-11-01  102.2917
2017-11-02  100.9313
2017-11-03  99.8117
2017-11-04  100.1969
⋮
2018-06-26  73.7736
2018-06-27  73.6944
2018-06-28  75.0948
2018-06-29  76.7547
2018-06-30  74.5157
2018-07-01  75.6677
2018-07-02  77.6638
2018-07-03  78.702
2018-07-04  79.8296
2018-07-05  77.9583

julia&gt; X[1, 1]
Index       A
2017-10-27  100.5124
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-10-27  100.7271  100.1547  100.3305  99.8073
2017-10-28  100.7774  99.818    100.0749  101.7133
2017-10-29  100.0278  100.9644  101.6917  101.2979
2017-10-30  102.0467  102.6935  99.9903   101.2106
2017-10-31  104.1101  103.7989  99.7684   101.7517
2017-11-01  104.0448  102.2426  101.0447  101.6297
2017-11-02  104.8906  101.7607  102.495   101.3497
2017-11-03  105.3787  102.0203  102.5082  100.4127
2017-11-04  104.7175  102.3767  101.1828  100.2497
⋮
2018-06-26  77.5594   65.6504   103.1046  101.8513
2018-06-27  77.3251   67.1018   103.9124  102.6941
2018-06-28  77.2808   66.997    103.9272  102.3287
2018-06-29  76.6683   68.4617   105.0491  101.0824
2018-06-30  76.5854   67.9367   103.2967  100.581
2018-07-01  76.5081   65.4194   103.4564  100.4419
2018-07-02  76.8498   65.9005   102.3086  100.7811
2018-07-03  78.0611   64.7708   103.3932  101.1851
2018-07-04  78.2615   63.0758   102.9887  99.522
2018-07-05  77.1773   63.8096   101.4222  98.8891

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-10-27  100.7271  100.1547  100.3305  99.8073
2017-10-28  100.7774  99.818    100.0749  101.7133
2017-10-29  100.0278  100.9644  101.6917  101.2979
2017-10-30  102.0467  102.6935  99.9903   101.2106
2017-10-31  104.1101  103.7989  99.7684   101.7517
2017-11-01  104.0448  102.2426  101.0447  101.6297
2017-11-02  104.8906  101.7607  102.495   101.3497
2017-11-03  105.3787  102.0203  102.5082  100.4127
2017-11-04  104.7175  102.3767  101.1828  100.2497
⋮
2018-06-26  77.5594   65.6504   103.1046  101.8513
2018-06-27  77.3251   67.1018   103.9124  102.6941
2018-06-28  77.2808   66.997    103.9272  102.3287
2018-06-29  76.6683   68.4617   105.0491  101.0824
2018-06-30  76.5854   67.9367   103.2967  100.581
2018-07-01  76.5081   65.4194   103.4564  100.4419
2018-07-02  76.8498   65.9005   102.3086  100.7811
2018-07-03  78.0611   64.7708   103.3932  101.1851
2018-07-04  78.2615   63.0758   102.9887  99.522
2018-07-05  77.1773   63.8096   101.4222  98.8891

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-10-27  100.7271
2017-10-28  100.7774
2017-10-29  100.0278
2017-10-30  102.0467
2017-10-31  104.1101
2017-11-02  104.8906
2017-11-03  105.3787
2017-11-05  104.1487
2017-11-06  105.5838
⋮
2018-06-19  75.2854
2018-06-21  75.7909
2018-06-23  77.0734
2018-06-24  75.6646
2018-06-26  77.5594
2018-06-28  77.2808
2018-07-01  76.5081
2018-07-02  76.8498
2018-07-03  78.0611
2018-07-05  77.1773

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-10-30  102.0467
2017-10-31  104.1101
2017-11-01  104.0448
2017-11-02  104.8906
2017-11-06  105.5838
2017-11-07  104.5626
2017-11-09  105.2129
2017-11-11  105.0467
2017-11-12  103.5615
⋮
2018-06-12  78.9965
2018-06-19  75.2854
2018-06-21  75.7909
2018-06-22  75.2108
2018-06-26  77.5594
2018-06-27  77.3251
2018-06-28  77.2808
2018-06-30  76.5854
2018-07-01  76.5081
2018-07-02  76.8498
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A        B         C         D
2017-10-27  98.266   100.7355  100.9619  99.9662
2017-10-28  98.8282  101.5145  102.0894  98.5245
2017-10-29  98.4679  100.5188  100.9978  99.4547
2017-10-30  98.4249  101.0996  100.6118  100.9462
2017-10-31  98.969   99.9874   99.6333   102.3324
2017-11-01  98.8649  98.9333   100.8333  102.3884
2017-11-02  99.3114  99.3124   101.8445  101.9971
2017-11-03  99.1584  99.3814   104.482   101.9696
2017-11-04  99.9094  100.9522  104.2641  101.1787
⋮
2018-06-26  86.3621  102.2896  71.5618   138.6803
2018-06-27  85.0069  102.7134  69.9283   139.32
2018-06-28  84.7379  100.8113  69.6801   141.2385
2018-06-29  83.694   99.7704   70.4966   140.8142
2018-06-30  81.7143  100.0251  70.2357   140.6864
2018-07-01  80.781   98.4347   70.3954   142.7838
2018-07-02  79.9308  97.4743   70.3567   142.3359
2018-07-03  79.4216  98.6511   70.0186   144.769
2018-07-04  78.8041  96.4941   69.637    146.0885
2018-07-05  78.5271  96.2898   69.183    145.8067

julia&gt; X[1:10, :]
Index       A        B         C         D
2017-10-27  98.266   100.7355  100.9619  99.9662
2017-10-28  98.8282  101.5145  102.0894  98.5245
2017-10-29  98.4679  100.5188  100.9978  99.4547
2017-10-30  98.4249  101.0996  100.6118  100.9462
2017-10-31  98.969   99.9874   99.6333   102.3324
2017-11-01  98.8649  98.9333   100.8333  102.3884
2017-11-02  99.3114  99.3124   101.8445  101.9971
2017-11-03  99.1584  99.3814   104.482   101.9696
2017-11-04  99.9094  100.9522  104.2641  101.1787
2017-11-05  98.1138  100.1082  103.0088  100.2428

julia&gt; X[end-100:end, 2:3]
Index       B         C
2018-03-27  90.7624   82.7207
2018-03-28  90.7852   82.074
2018-03-29  90.8486   81.9159
2018-03-30  89.9329   82.0996
2018-03-31  90.0328   81.9861
2018-04-01  90.2153   83.2726
2018-04-02  91.0218   82.492
2018-04-03  92.3275   83.4487
2018-04-04  90.61     83.5825
⋮
2018-06-26  102.2896  71.5618
2018-06-27  102.7134  69.9283
2018-06-28  100.8113  69.6801
2018-06-29  99.7704   70.4966
2018-06-30  100.0251  70.2357
2018-07-01  98.4347   70.3954
2018-07-02  97.4743   70.3567
2018-07-03  98.6511   70.0186
2018-07-04  96.4941   69.637
2018-07-05  96.2898   69.183

julia&gt; X[end, 2:end]
Index       B        C       D
2018-07-05  96.2898  69.183  145.8067
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-10-27  100.5571  98.8894   99.856    100.9851
2017-10-28  99.2922   99.0121   99.4385   101.2706
2017-10-29  98.5579   98.1211   99.9176   99.2884
2017-10-30  97.7113   99.8812   98.5444   101.2185
2017-10-31  98.1755   100.1314  100.5332  101.7055
2017-11-01  97.3235   102.5866  100.5388  101.0165
2017-11-02  99.235    101.7576  100.2122  101.4308
2017-11-03  98.4315   101.4528  100.2432  101.4033
2017-11-04  98.8775   99.207    101.5941  100.2311
⋮
2018-06-26  103.539   71.1706   98.9948   95.5689
2018-06-27  102.8463  72.2402   98.7235   96.8232
2018-06-28  102.8109  72.5658   98.7215   99.1331
2018-06-29  102.4959  72.9195   98.1566   98.3888
2018-06-30  101.8475  71.4505   98.5702   97.8802
2018-07-01  100.1803  70.4309   97.5472   95.4267
2018-07-02  100.5639  71.1802   98.1345   94.0874
2018-07-03  101.3896  68.5053   100.2293  94.9088
2018-07-04  101.3382  69.2007   102.0558  96.4653
2018-07-05  102.254   69.3783   103.4267  94.3321

julia&gt; X[:, :A]
Index       A
2017-10-27  100.5571
2017-10-28  99.2922
2017-10-29  98.5579
2017-10-30  97.7113
2017-10-31  98.1755
2017-11-01  97.3235
2017-11-02  99.235
2017-11-03  98.4315
2017-11-04  98.8775
⋮
2018-06-26  103.539
2018-06-27  102.8463
2018-06-28  102.8109
2018-06-29  102.4959
2018-06-30  101.8475
2018-07-01  100.1803
2018-07-02  100.5639
2018-07-03  101.3896
2018-07-04  101.3382
2018-07-05  102.254

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-10-27  98.8894   100.9851
2017-10-28  99.0121   101.2706
2017-10-29  98.1211   99.2884
2017-10-30  99.8812   101.2185
2017-10-31  100.1314  101.7055
2017-11-01  102.5866  101.0165
2017-11-02  101.7576  101.4308
2017-11-03  101.4528  101.4033
2017-11-04  99.207    100.2311
⋮
2018-06-26  71.1706   95.5689
2018-06-27  72.2402   96.8232
2018-06-28  72.5658   99.1331
2018-06-29  72.9195   98.3888
2018-06-30  71.4505   97.8802
2018-07-01  70.4309   95.4267
2018-07-02  71.1802   94.0874
2018-07-03  68.5053   94.9088
2018-07-04  69.2007   96.4653
2018-07-05  69.3783   94.3321
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C        D
2016-01-01  100.4251  100.0569  98.4731  100.1542
2016-01-02  101.6844  99.717    99.1902  101.1325
2016-01-03  101.5268  99.0933   97.3451  102.0317
2016-01-04  102.4331  98.6774   96.3964  102.007
2016-01-05  101.4945  97.5991   97.036   100.7309
2016-01-06  100.9888  96.1881   98.086   99.5214
2016-01-07  100.5925  95.6669   98.8814  99.0206
2016-01-08  100.2509  95.1511   96.9572  98.7705
2016-01-09  100.5467  93.5968   98.9118  98.427
⋮
2017-12-22  81.411    77.5838   85.8422  59.3189
2017-12-23  80.8272   76.1676   86.4596  60.4535
2017-12-24  80.7596   74.9037   87.1937  58.9017
2017-12-25  78.5796   75.5778   87.6857  59.1929
2017-12-26  79.6338   75.6797   88.9347  59.7434
2017-12-27  79.9145   74.3171   89.6236  57.4851
2017-12-28  80.1537   75.7312   89.204   58.7467
2017-12-29  80.0908   74.9189   92.3226  61.0696
2017-12-30  80.6868   76.9768   92.9266  59.66
2017-12-31  81.6242   74.9387   94.3958  59.3929

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A         B        C        D
2017-07-01  103.2533  89.5077  85.9572  72.1224

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C        D
2016-01-01  100.4251  100.0569  98.4731  100.1542
2016-01-02  101.6844  99.717    99.1902  101.1325
2016-01-03  101.5268  99.0933   97.3451  102.0317
2016-01-04  102.4331  98.6774   96.3964  102.007
2016-01-05  101.4945  97.5991   97.036   100.7309
2016-01-06  100.9888  96.1881   98.086   99.5214
2016-01-07  100.5925  95.6669   98.8814  99.0206
2016-01-08  100.2509  95.1511   96.9572  98.7705
2016-01-09  100.5467  93.5968   98.9118  98.427
⋮
2016-12-22  101.7792  96.3559   91.0176  70.4339
2016-12-23  101.353   96.3635   89.5435  69.9247
2016-12-24  103.0534  95.7456   89.4024  70.0777
2016-12-25  103.8342  94.9589   89.8232  69.7494
2016-12-26  104.523   93.3273   90.0466  70.0339
2016-12-27  104.8103  92.9913   92.1371  68.2946
2016-12-28  105.7144  94.566    92.2292  69.834
2016-12-29  106.8926  93.2348   93.2272  67.161
2016-12-30  107.3723  93.3324   92.8809  66.0723
2016-12-31  106.8979  92.6086   92.7379  65.4422

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
