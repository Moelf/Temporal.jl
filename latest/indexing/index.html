<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-07-12  100.2518  99.1814   101.3625  100.0873
2017-07-13  100.4002  99.5835   101.7856  99.3381
2017-07-14  99.8234   99.685    102.0828  99.0116
2017-07-15  98.6323   100.0008  102.7892  99.6367
2017-07-16  98.7332   97.8768   103.2313  100.5995
2017-07-17  98.1941   98.3268   103.6514  98.3131
2017-07-18  96.3498   99.7114   103.9232  97.6695
2017-07-19  96.1653   99.8153   103.535   97.6523
2017-07-20  94.8911   98.8878   105.3708  97.9788
⋮
2018-03-11  81.725    94.9715   108.8183  103.0736
2018-03-12  82.2875   94.3954   108.5507  104.0599
2018-03-13  82.8411   95.1416   108.291   105.3676
2018-03-14  82.9599   95.3305   107.7011  106.1368
2018-03-15  82.166    93.512    107.3371  108.8939
2018-03-16  84.1482   91.2724   106.572   110.5483
2018-03-17  83.9655   90.8445   106.8065  111.3411
2018-03-18  83.9956   90.32     107.3578  111.8968
2018-03-19  83.3262   89.6969   107.453   110.8924
2018-03-20  84.0261   89.8935   107.9354  109.8415

julia&gt; X[1]
Index       A         B        C         D
2017-07-12  100.2518  99.1814  101.3625  100.0873

julia&gt; X[1, :]
Index       A         B        C         D
2017-07-12  100.2518  99.1814  101.3625  100.0873

julia&gt; X[:, 1]
Index       A
2017-07-12  100.2518
2017-07-13  100.4002
2017-07-14  99.8234
2017-07-15  98.6323
2017-07-16  98.7332
2017-07-17  98.1941
2017-07-18  96.3498
2017-07-19  96.1653
2017-07-20  94.8911
⋮
2018-03-11  81.725
2018-03-12  82.2875
2018-03-13  82.8411
2018-03-14  82.9599
2018-03-15  82.166
2018-03-16  84.1482
2018-03-17  83.9655
2018-03-18  83.9956
2018-03-19  83.3262
2018-03-20  84.0261

julia&gt; X[1, 1]
Index       A
2017-07-12  100.2518
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-07-12  100.1931  99.0825   100.814   99.5604
2017-07-13  99.6614   98.3363   100.9446  97.3007
2017-07-14  99.7203   97.4571   100.8418  97.0542
2017-07-15  100.9053  96.2994   100.2877  97.6592
2017-07-16  101.6409  96.8637   100.7009  98.2461
2017-07-17  99.728    96.6019   99.8082   98.3617
2017-07-18  99.3149   97.2101   101.3107  97.6017
2017-07-19  98.5246   98.6112   102.5664  97.8628
2017-07-20  99.0129   97.6033   102.9538  97.8298
⋮
2018-03-11  94.1695   129.9668  101.76    88.5211
2018-03-12  94.6012   128.7188  98.722    89.8041
2018-03-13  93.7342   127.7801  99.4378   90.4385
2018-03-14  93.204    127.786   98.4654   91.0212
2018-03-15  91.9338   127.7101  98.817    91.0363
2018-03-16  91.1654   127.4654  99.9917   90.7213
2018-03-17  91.1839   127.5788  97.8771   89.8959
2018-03-18  92.6855   126.9381  98.471    88.4494
2018-03-19  92.3851   126.6721  99.5774   89.3741
2018-03-20  93.4942   125.4661  99.8361   90.3404

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-07-12  100.1931  99.0825   100.814   99.5604
2017-07-13  99.6614   98.3363   100.9446  97.3007
2017-07-14  99.7203   97.4571   100.8418  97.0542
2017-07-15  100.9053  96.2994   100.2877  97.6592
2017-07-16  101.6409  96.8637   100.7009  98.2461
2017-07-17  99.728    96.6019   99.8082   98.3617
2017-07-18  99.3149   97.2101   101.3107  97.6017
2017-07-19  98.5246   98.6112   102.5664  97.8628
2017-07-20  99.0129   97.6033   102.9538  97.8298
⋮
2018-03-11  94.1695   129.9668  101.76    88.5211
2018-03-12  94.6012   128.7188  98.722    89.8041
2018-03-13  93.7342   127.7801  99.4378   90.4385
2018-03-14  93.204    127.786   98.4654   91.0212
2018-03-15  91.9338   127.7101  98.817    91.0363
2018-03-16  91.1654   127.4654  99.9917   90.7213
2018-03-17  91.1839   127.5788  97.8771   89.8959
2018-03-18  92.6855   126.9381  98.471    88.4494
2018-03-19  92.3851   126.6721  99.5774   89.3741
2018-03-20  93.4942   125.4661  99.8361   90.3404

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-07-12  100.1931
2017-07-14  99.7203
2017-07-16  101.6409
2017-07-17  99.728
2017-07-24  98.0028
2017-07-25  99.5703
2017-07-28  100.0744
2017-07-30  99.0134
2017-07-31  99.8482
⋮
2018-03-03  94.8248
2018-03-05  94.2479
2018-03-06  93.6948
2018-03-07  94.5039
2018-03-08  93.8987
2018-03-09  92.8092
2018-03-14  93.204
2018-03-16  91.1654
2018-03-19  92.3851
2018-03-20  93.4942

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-07-12  100.1931
2017-07-14  99.7203
2017-07-16  101.6409
2017-07-19  98.5246
2017-07-20  99.0129
2017-07-21  98.215
2017-07-22  98.9149
2017-07-27  98.7936
2017-07-29  98.3592
⋮
2018-02-21  94.3523
2018-02-22  93.8013
2018-02-27  96.428
2018-02-28  96.0626
2018-03-04  93.2247
2018-03-05  94.2479
2018-03-07  94.5039
2018-03-11  94.1695
2018-03-14  93.204
2018-03-20  93.4942
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-07-12  101.5063  98.9686   100.1469  99.6268
2017-07-13  101.5463  99.0422   100.6471  98.7905
2017-07-14  100.9329  100.4897  100.0223  97.5863
2017-07-15  101.6661  101.7126  99.7899   97.4069
2017-07-16  101.9346  101.3945  100.3287  96.9989
2017-07-17  101.4937  100.4396  100.3447  97.1871
2017-07-18  100.2333  101.0141  98.6983   95.3435
2017-07-19  100.8515  101.2898  97.5771   95.0217
2017-07-20  102.4799  100.8808  97.3168   94.1505
⋮
2018-03-11  95.5804   103.6218  90.7381   98.093
2018-03-12  93.5766   102.5484  91.4819   98.186
2018-03-13  93.4762   100.8631  92.6023   97.0838
2018-03-14  95.1828   102.7725  91.1067   96.9328
2018-03-15  93.9429   103.0041  90.463    96.4988
2018-03-16  93.0215   103.3495  90.0059   95.4772
2018-03-17  92.594    105.1114  89.7108   95.3242
2018-03-18  92.6089   103.6084  89.1321   95.6587
2018-03-19  92.3852   104.3135  88.716    94.3103
2018-03-20  91.4348   102.0752  89.7271   93.0157

julia&gt; X[1:10, :]
Index       A         B         C         D
2017-07-12  101.5063  98.9686   100.1469  99.6268
2017-07-13  101.5463  99.0422   100.6471  98.7905
2017-07-14  100.9329  100.4897  100.0223  97.5863
2017-07-15  101.6661  101.7126  99.7899   97.4069
2017-07-16  101.9346  101.3945  100.3287  96.9989
2017-07-17  101.4937  100.4396  100.3447  97.1871
2017-07-18  100.2333  101.0141  98.6983   95.3435
2017-07-19  100.8515  101.2898  97.5771   95.0217
2017-07-20  102.4799  100.8808  97.3168   94.1505
2017-07-21  101.3001  100.8851  98.7509   95.2313

julia&gt; X[end-100:end, 2:3]
Index       B         C
2017-12-10  109.933   67.5004
2017-12-11  111.1083  65.7615
2017-12-12  110.6463  65.2592
2017-12-13  111.3225  64.9323
2017-12-14  111.6627  67.5551
2017-12-15  111.8224  67.2238
2017-12-16  110.3624  67.0259
2017-12-17  111.616   65.7265
2017-12-18  112.652   65.6572
⋮
2018-03-11  103.6218  90.7381
2018-03-12  102.5484  91.4819
2018-03-13  100.8631  92.6023
2018-03-14  102.7725  91.1067
2018-03-15  103.0041  90.463
2018-03-16  103.3495  90.0059
2018-03-17  105.1114  89.7108
2018-03-18  103.6084  89.1321
2018-03-19  104.3135  88.716
2018-03-20  102.0752  89.7271

julia&gt; X[end, 2:end]
Index       B         C        D
2018-03-20  102.0752  89.7271  93.0157
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-07-12  100.2506  100.1207  99.4082   98.8383
2017-07-13  100.587   102.0907  99.3022   98.8321
2017-07-14  101.6163  101.9532  100.4783  97.5161
2017-07-15  101.1399  102.0046  100.813   97.6779
2017-07-16  100.6841  103.1704  101.3398  98.1211
2017-07-17  101.2541  103.5696  101.2554  98.5877
2017-07-18  102.0288  103.9802  103.3401  99.2006
2017-07-19  103.9813  102.7292  103.9791  98.8635
2017-07-20  104.094   104.108   103.3974  99.1658
⋮
2018-03-11  105.5574  90.2474   131.913   87.548
2018-03-12  104.6895  88.9309   131.3979  88.4427
2018-03-13  106.6687  87.4548   131.7544  88.1645
2018-03-14  104.9439  87.667    130.5419  88.271
2018-03-15  104.7432  87.27     130.1278  86.7623
2018-03-16  104.3062  86.7013   128.95    87.7836
2018-03-17  105.3506  85.7181   127.1399  87.1881
2018-03-18  104.7379  85.8673   126.7463  88.5662
2018-03-19  104.3903  85.4943   125.7681  88.8654
2018-03-20  104.9258  84.6613   125.0239  86.8134

julia&gt; X[:, :A]
Index       A
2017-07-12  100.2506
2017-07-13  100.587
2017-07-14  101.6163
2017-07-15  101.1399
2017-07-16  100.6841
2017-07-17  101.2541
2017-07-18  102.0288
2017-07-19  103.9813
2017-07-20  104.094
⋮
2018-03-11  105.5574
2018-03-12  104.6895
2018-03-13  106.6687
2018-03-14  104.9439
2018-03-15  104.7432
2018-03-16  104.3062
2018-03-17  105.3506
2018-03-18  104.7379
2018-03-19  104.3903
2018-03-20  104.9258

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-07-12  100.1207  98.8383
2017-07-13  102.0907  98.8321
2017-07-14  101.9532  97.5161
2017-07-15  102.0046  97.6779
2017-07-16  103.1704  98.1211
2017-07-17  103.5696  98.5877
2017-07-18  103.9802  99.2006
2017-07-19  102.7292  98.8635
2017-07-20  104.108   99.1658
⋮
2018-03-11  90.2474   87.548
2018-03-12  88.9309   88.4427
2018-03-13  87.4548   88.1645
2018-03-14  87.667    88.271
2018-03-15  87.27     86.7623
2018-03-16  86.7013   87.7836
2018-03-17  85.7181   87.1881
2018-03-18  85.8673   88.5662
2018-03-19  85.4943   88.8654
2018-03-20  84.6613   86.8134
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A        B         C        D
2016-01-01  99.8142  100.7021  99.128   100.415
2016-01-02  97.979   99.0632   97.9055  101.7764
2016-01-03  98.3911  100.8487  97.8576  102.0591
2016-01-04  97.8177  100.5582  98.5523  102.4378
2016-01-05  97.4763  101.6301  98.0327  102.1053
2016-01-06  96.6016  101.381   97.3376  102.2882
2016-01-07  96.5544  100.6296  95.5206  101.5777
2016-01-08  96.6368  100.7642  96.5015  102.1036
2016-01-09  97.449   101.3562  96.6196  102.6966
⋮
2017-12-22  92.3718  52.6071   80.3639  113.0852
2017-12-23  91.8886  52.6814   79.3486  113.0808
2017-12-24  91.7971  52.4156   78.1508  111.952
2017-12-25  90.4023  52.4038   77.4707  113.0629
2017-12-26  89.9217  53.7189   77.205   113.3838
2017-12-27  90.7358  54.3859   76.237   113.4077
2017-12-28  90.2617  53.9752   76.7506  113.8307
2017-12-29  89.2539  54.3521   76.3465  113.4192
2017-12-30  90.1904  55.1944   77.3832  112.8806
2017-12-31  91.241   53.4022   76.2164  114.6489

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A         B        C        D
2017-07-01  102.6675  69.8748  74.1193  111.7496

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A        B         C        D
2016-01-01  99.8142  100.7021  99.128   100.415
2016-01-02  97.979   99.0632   97.9055  101.7764
2016-01-03  98.3911  100.8487  97.8576  102.0591
2016-01-04  97.8177  100.5582  98.5523  102.4378
2016-01-05  97.4763  101.6301  98.0327  102.1053
2016-01-06  96.6016  101.381   97.3376  102.2882
2016-01-07  96.5544  100.6296  95.5206  101.5777
2016-01-08  96.6368  100.7642  96.5015  102.1036
2016-01-09  97.449   101.3562  96.6196  102.6966
⋮
2016-12-22  85.853   92.1475   70.33    98.2224
2016-12-23  84.7663  91.4808   71.5474  97.4785
2016-12-24  85.1347  92.6879   72.2488  97.811
2016-12-25  83.8461  93.212    72.9513  97.5988
2016-12-26  82.8977  92.2163   69.3434  97.7743
2016-12-27  82.3496  91.4306   68.1504  97.173
2016-12-28  82.0223  92.9737   68.9589  96.4035
2016-12-29  81.1195  91.0252   68.3967  96.1856
2016-12-30  80.6663  90.6665   68.7352  97.192
2016-12-31  80.6047  90.4813   67.7021  97.7961

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
