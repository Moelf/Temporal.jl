<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  98.3192   99.4964   100.5704  100.8317
2017-11-24  96.4178   99.938    99.2238   100.199
2017-11-25  97.6629   98.8944   99.9083   99.6547
2017-11-26  98.529    99.2285   99.8186   99.2315
2017-11-27  97.7478   100.2484  100.486   99.3285
2017-11-28  96.8123   101.3399  100.1651  100.3124
2017-11-29  97.5629   102.6531  100.188   99.6378
2017-11-30  97.5946   101.0735  100.2442  100.0542
2017-12-01  98.4235   99.3071   101.8621  98.7578
⋮
2018-07-23  113.5843  96.1383   124.0849  97.219
2018-07-24  112.3176  95.7441   122.0346  96.7158
2018-07-25  112.9214  95.4346   121.6572  96.7614
2018-07-26  111.5865  96.4868   122.3778  96.9982
2018-07-27  110.9158  97.7635   122.1499  95.8687
2018-07-28  110.4569  97.791    124.2119  94.5797
2018-07-29  111.3765  96.9964   124.5095  92.7362
2018-07-30  112.6991  96.6889   125.038   92.2777
2018-07-31  113.3458  95.6401   123.8469  93.4939
2018-08-01  113.0684  95.8291   122.5985  95.3242

julia&gt; X[1]
Index       A        B        C         D
2017-11-23  98.3192  99.4964  100.5704  100.8317

julia&gt; X[1, :]
Index       A        B        C         D
2017-11-23  98.3192  99.4964  100.5704  100.8317

julia&gt; X[:, 1]
Index       A
2017-11-23  98.3192
2017-11-24  96.4178
2017-11-25  97.6629
2017-11-26  98.529
2017-11-27  97.7478
2017-11-28  96.8123
2017-11-29  97.5629
2017-11-30  97.5946
2017-12-01  98.4235
⋮
2018-07-23  113.5843
2018-07-24  112.3176
2018-07-25  112.9214
2018-07-26  111.5865
2018-07-27  110.9158
2018-07-28  110.4569
2018-07-29  111.3765
2018-07-30  112.6991
2018-07-31  113.3458
2018-08-01  113.0684

julia&gt; X[1, 1]
Index       A
2017-11-23  98.3192
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  98.6633   98.8542   100.6007  100.3052
2017-11-24  97.1534   99.7687   102.2013  100.0276
2017-11-25  97.2188   100.8937  102.9409  100.2823
2017-11-26  99.9508   100.0184  102.5265  100.5513
2017-11-27  97.9025   100.214   101.2728  100.7348
2017-11-28  98.063    99.5362   101.7172  100.6809
2017-11-29  98.5032   99.1744   102.3177  99.8088
2017-11-30  97.9201   97.3282   102.661   99.9924
2017-12-01  96.4162   97.2255   101.1651  99.7464
⋮
2018-07-23  106.9786  126.0232  90.316    113.4061
2018-07-24  109.4582  125.4632  90.6158   111.8527
2018-07-25  107.1325  125.0482  89.8823   110.4822
2018-07-26  108.9247  126.2122  89.7023   112.6914
2018-07-27  108.0124  128.3294  90.3522   112.9228
2018-07-28  107.5786  127.8156  90.0506   110.504
2018-07-29  108.5244  127.9824  88.5537   110.1997
2018-07-30  110.0493  128.5962  89.4069   109.5091
2018-07-31  110.5581  128.7811  89.5631   109.0159
2018-08-01  109.7906  127.6826  89.4851   108.7848

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-11-23  98.6633   98.8542   100.6007  100.3052
2017-11-24  97.1534   99.7687   102.2013  100.0276
2017-11-25  97.2188   100.8937  102.9409  100.2823
2017-11-26  99.9508   100.0184  102.5265  100.5513
2017-11-27  97.9025   100.214   101.2728  100.7348
2017-11-28  98.063    99.5362   101.7172  100.6809
2017-11-29  98.5032   99.1744   102.3177  99.8088
2017-11-30  97.9201   97.3282   102.661   99.9924
2017-12-01  96.4162   97.2255   101.1651  99.7464
⋮
2018-07-23  106.9786  126.0232  90.316    113.4061
2018-07-24  109.4582  125.4632  90.6158   111.8527
2018-07-25  107.1325  125.0482  89.8823   110.4822
2018-07-26  108.9247  126.2122  89.7023   112.6914
2018-07-27  108.0124  128.3294  90.3522   112.9228
2018-07-28  107.5786  127.8156  90.0506   110.504
2018-07-29  108.5244  127.9824  88.5537   110.1997
2018-07-30  110.0493  128.5962  89.4069   109.5091
2018-07-31  110.5581  128.7811  89.5631   109.0159
2018-08-01  109.7906  127.6826  89.4851   108.7848

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-26  99.9508
2017-11-27  97.9025
2017-11-30  97.9201
2017-12-01  96.4162
2017-12-03  98.8117
2017-12-05  97.5913
2017-12-06  96.6438
2017-12-08  98.8517
2017-12-09  99.1201
⋮
2018-07-08  101.4499
2018-07-09  101.4684
2018-07-14  104.0806
2018-07-15  103.8815
2018-07-18  106.6848
2018-07-20  107.8469
2018-07-22  106.7115
2018-07-23  106.9786
2018-07-24  109.4582
2018-07-27  108.0124

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-24  97.1534
2017-11-26  99.9508
2017-11-27  97.9025
2017-11-29  98.5032
2017-12-01  96.4162
2017-12-03  98.8117
2017-12-05  97.5913
2017-12-07  97.1517
2017-12-10  99.125
⋮
2018-07-13  103.0368
2018-07-14  104.0806
2018-07-16  104.2628
2018-07-21  106.4829
2018-07-22  106.7115
2018-07-25  107.1325
2018-07-27  108.0124
2018-07-28  107.5786
2018-07-31  110.5581
2018-08-01  109.7906
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  100.7242  100.2486  101.0566  101.2282
2017-11-24  101.8939  99.4247   99.7377   100.5264
2017-11-25  102.2794  100.0931  102.5235  100.4557
2017-11-26  103.9967  99.0487   104.4304  101.1514
2017-11-27  104.8213  101.1359  104.5915  101.1678
2017-11-28  103.1712  99.2056   105.2518  101.2569
2017-11-29  102.4331  99.367    105.886   100.9497
2017-11-30  103.5421  99.4503   105.2759  100.3756
2017-12-01  103.8071  98.4422   105.1979  100.3658
⋮
2018-07-23  89.994    80.8179   119.5804  95.2426
2018-07-24  89.545    80.2439   119.6887  93.8265
2018-07-25  91.5985   79.0699   117.3206  94.0113
2018-07-26  90.7056   77.7225   116.9586  93.2299
2018-07-27  93.2364   78.2996   118.3632  92.6614
2018-07-28  95.2329   77.5741   118.3211  91.9596
2018-07-29  96.948    77.0484   119.0267  91.8598
2018-07-30  96.946    78.0964   118.3545  91.6659
2018-07-31  97.6952   76.9705   118.7268  93.4225
2018-08-01  97.1613   77.7893   120.1477  94.417

julia&gt; X[1:10, :]
Index       A         B         C         D
2017-11-23  100.7242  100.2486  101.0566  101.2282
2017-11-24  101.8939  99.4247   99.7377   100.5264
2017-11-25  102.2794  100.0931  102.5235  100.4557
2017-11-26  103.9967  99.0487   104.4304  101.1514
2017-11-27  104.8213  101.1359  104.5915  101.1678
2017-11-28  103.1712  99.2056   105.2518  101.2569
2017-11-29  102.4331  99.367    105.886   100.9497
2017-11-30  103.5421  99.4503   105.2759  100.3756
2017-12-01  103.8071  98.4422   105.1979  100.3658
2017-12-02  103.5275  97.9944   105.1206  99.2056

julia&gt; X[end-100:end, 2:3]
Index       B        C
2018-04-23  77.7414  122.9209
2018-04-24  79.4647  122.0431
2018-04-25  79.1268  122.4928
2018-04-26  79.8052  122.2012
2018-04-27  79.5642  121.9928
2018-04-28  79.7178  120.5711
2018-04-29  78.4999  119.76
2018-04-30  76.7721  119.6802
2018-05-01  77.0487  118.1124
⋮
2018-07-23  80.8179  119.5804
2018-07-24  80.2439  119.6887
2018-07-25  79.0699  117.3206
2018-07-26  77.7225  116.9586
2018-07-27  78.2996  118.3632
2018-07-28  77.5741  118.3211
2018-07-29  77.0484  119.0267
2018-07-30  78.0964  118.3545
2018-07-31  76.9705  118.7268
2018-08-01  77.7893  120.1477

julia&gt; X[end, 2:end]
Index       B        C         D
2018-08-01  77.7893  120.1477  94.417
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  100.2822  99.9927   99.5979   97.3696
2017-11-24  101.9219  101.611   100.2164  98.5306
2017-11-25  103.1006  101.0448  99.478    99.4351
2017-11-26  104.9948  103.4361  100.7554  97.7748
2017-11-27  105.5567  102.569   99.5185   98.7266
2017-11-28  106.9565  102.231   100.7553  98.4182
2017-11-29  106.8111  101.7379  101.7858  97.794
2017-11-30  106.6676  101.8881  98.7984   97.4519
2017-12-01  105.777   101.7958  97.9808   99.5179
⋮
2018-07-23  76.1681   115.1038  119.3501  105.515
2018-07-24  75.7027   115.8708  120.3812  105.6435
2018-07-25  76.585    115.102   121.2083  105.2403
2018-07-26  75.391    115.5545  120.9111  107.8564
2018-07-27  76.1072   114.2795  121.0371  109.7502
2018-07-28  77.2945   114.8218  120.8204  109.5256
2018-07-29  77.5833   116.1666  119.4675  107.8609
2018-07-30  76.7263   115.8583  118.7783  106.525
2018-07-31  77.017    115.9767  117.106   107.9162
2018-08-01  75.908    116.3623  117.8233  107.1797

julia&gt; X[:, :A]
Index       A
2017-11-23  100.2822
2017-11-24  101.9219
2017-11-25  103.1006
2017-11-26  104.9948
2017-11-27  105.5567
2017-11-28  106.9565
2017-11-29  106.8111
2017-11-30  106.6676
2017-12-01  105.777
⋮
2018-07-23  76.1681
2018-07-24  75.7027
2018-07-25  76.585
2018-07-26  75.391
2018-07-27  76.1072
2018-07-28  77.2945
2018-07-29  77.5833
2018-07-30  76.7263
2018-07-31  77.017
2018-08-01  75.908

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-11-23  99.9927   97.3696
2017-11-24  101.611   98.5306
2017-11-25  101.0448  99.4351
2017-11-26  103.4361  97.7748
2017-11-27  102.569   98.7266
2017-11-28  102.231   98.4182
2017-11-29  101.7379  97.794
2017-11-30  101.8881  97.4519
2017-12-01  101.7958  99.5179
⋮
2018-07-23  115.1038  105.515
2018-07-24  115.8708  105.6435
2018-07-25  115.102   105.2403
2018-07-26  115.5545  107.8564
2018-07-27  114.2795  109.7502
2018-07-28  114.8218  109.5256
2018-07-29  116.1666  107.8609
2018-07-30  115.8583  106.525
2018-07-31  115.9767  107.9162
2018-08-01  116.3623  107.1797
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C         D
2016-01-01  98.6355   100.2439  98.3429   99.5146
2016-01-02  98.8344   100.9326  99.4969   99.7721
2016-01-03  98.326    101.3728  101.2048  99.6251
2016-01-04  98.3451   99.3975   99.3633   100.7114
2016-01-05  98.9549   100.6375  99.7632   101.8935
2016-01-06  97.4128   100.7524  99.4342   102.4067
2016-01-07  96.4605   100.6415  98.9931   103.2832
2016-01-08  97.1504   100.7084  99.1022   101.9398
2016-01-09  96.3036   100.5476  99.9372   102.5721
⋮
2017-12-22  114.8707  51.3275   116.8742  115.6574
2017-12-23  114.2831  52.0193   116.4485  117.4699
2017-12-24  113.9258  53.8134   116.2619  117.9918
2017-12-25  113.4838  56.1629   116.9536  118.0234
2017-12-26  111.5514  56.5348   117.0817  117.1842
2017-12-27  112.6587  56.4338   117.3636  119.677
2017-12-28  114.1179  55.5099   118.533   121.0175
2017-12-29  113.591   55.6933   117.7791  119.8985
2017-12-30  112.6425  54.499    118.1593  120.8823
2017-12-31  112.1165  54.8212   116.952   121.313

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A         B        C         D
2017-07-01  123.2492  54.5431  129.8842  116.0977

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A        B         C         D
2016-01-01  98.6355  100.2439  98.3429   99.5146
2016-01-02  98.8344  100.9326  99.4969   99.7721
2016-01-03  98.326   101.3728  101.2048  99.6251
2016-01-04  98.3451  99.3975   99.3633   100.7114
2016-01-05  98.9549  100.6375  99.7632   101.8935
2016-01-06  97.4128  100.7524  99.4342   102.4067
2016-01-07  96.4605  100.6415  98.9931   103.2832
2016-01-08  97.1504  100.7084  99.1022   101.9398
2016-01-09  96.3036  100.5476  99.9372   102.5721
⋮
2016-12-22  100.365  74.241    117.026   132.3919
2016-12-23  98.9212  74.0894   115.7853  132.5399
2016-12-24  98.5964  72.3086   116.2551  132.9057
2016-12-25  98.1665  70.2486   118.2188  133.8731
2016-12-26  98.6555  69.5133   117.8972  131.9641
2016-12-27  98.2978  69.8855   117.5002  131.692
2016-12-28  97.7753  70.7703   118.3781  132.6271
2016-12-29  96.6782  71.4259   117.4384  132.5587
2016-12-30  96.5826  70.9096   118.5227  132.3853
2016-12-31  95.4603  68.7      118.2514  131.4355

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
