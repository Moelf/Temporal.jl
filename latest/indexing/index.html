<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C        D
2017-11-04  101.2831  100.9859  99.7802  99.1
2017-11-05  99.2744   101.6946  98.6217  98.6974
2017-11-06  98.2728   101.1912  98.5715  98.1637
2017-11-07  99.9237   100.4588  96.5547  97.7752
2017-11-08  99.2271   101.7086  96.6787  97.8371
2017-11-09  98.7764   102.9339  96.6183  98.6817
2017-11-10  97.328    102.6283  95.0671  97.5466
2017-11-11  96.9313   101.422   94.0238  97.4532
2017-11-12  95.568    100.7025  95.1161  99.0942
⋮
2018-07-04  98.549    115.3966  61.4727  104.8195
2018-07-05  100.5926  116.8586  60.0502  107.4158
2018-07-06  99.3473   117.5676  59.5518  106.554
2018-07-07  100.1089  117.6912  60.4702  106.5754
2018-07-08  98.8034   119.6786  60.6999  108.8203
2018-07-09  98.0183   119.3681  59.7947  108.0197
2018-07-10  98.2289   117.2159  59.7074  107.6152
2018-07-11  99.8487   119.2119  60.6925  106.7276
2018-07-12  99.6512   119.3072  60.2889  106.4742
2018-07-13  98.4612   121.0446  61.9109  106.3254

julia&gt; X[1]
Index       A         B         C        D
2017-11-04  101.2831  100.9859  99.7802  99.1

julia&gt; X[1, :]
Index       A         B         C        D
2017-11-04  101.2831  100.9859  99.7802  99.1

julia&gt; X[:, 1]
Index       A
2017-11-04  101.2831
2017-11-05  99.2744
2017-11-06  98.2728
2017-11-07  99.9237
2017-11-08  99.2271
2017-11-09  98.7764
2017-11-10  97.328
2017-11-11  96.9313
2017-11-12  95.568
⋮
2018-07-04  98.549
2018-07-05  100.5926
2018-07-06  99.3473
2018-07-07  100.1089
2018-07-08  98.8034
2018-07-09  98.0183
2018-07-10  98.2289
2018-07-11  99.8487
2018-07-12  99.6512
2018-07-13  98.4612

julia&gt; X[1, 1]
Index       A
2017-11-04  101.2831
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A        B        C         D
2017-11-04  98.9815  99.1087  100.1163  99.2148
2017-11-05  99.7544  98.5265  101.2456  100.4211
2017-11-06  99.4085  97.2119  100.2836  99.9737
2017-11-07  99.9642  94.4763  99.8713   100.8338
2017-11-08  99.5815  95.5722  100.8444  99.7428
2017-11-09  99.4959  97.0157  99.278    101.0712
2017-11-10  99.4552  97.5009  99.072    101.2053
2017-11-11  98.006   96.7053  97.2739   101.3806
2017-11-12  97.699   95.7459  95.8195   103.6139
⋮
2018-07-04  85.5075  95.7037  113.775   102.5596
2018-07-05  87.4775  95.7324  116.2379  102.4351
2018-07-06  87.5724  97.0363  116.6224  102.9324
2018-07-07  86.9954  97.9302  116.7908  102.9553
2018-07-08  86.9148  95.7863  116.6232  103.2781
2018-07-09  86.4521  95.2461  116.39    102.8131
2018-07-10  87.1237  95.6086  116.1888  103.6829
2018-07-11  86.9142  94.9959  118.7372  103.7393
2018-07-12  85.0549  95.0846  119.9995  105.8842
2018-07-13  85.0389  93.5923  119.9442  104.8664

julia&gt; X[trues(size(X,1)), :]
Index       A        B        C         D
2017-11-04  98.9815  99.1087  100.1163  99.2148
2017-11-05  99.7544  98.5265  101.2456  100.4211
2017-11-06  99.4085  97.2119  100.2836  99.9737
2017-11-07  99.9642  94.4763  99.8713   100.8338
2017-11-08  99.5815  95.5722  100.8444  99.7428
2017-11-09  99.4959  97.0157  99.278    101.0712
2017-11-10  99.4552  97.5009  99.072    101.2053
2017-11-11  98.006   96.7053  97.2739   101.3806
2017-11-12  97.699   95.7459  95.8195   103.6139
⋮
2018-07-04  85.5075  95.7037  113.775   102.5596
2018-07-05  87.4775  95.7324  116.2379  102.4351
2018-07-06  87.5724  97.0363  116.6224  102.9324
2018-07-07  86.9954  97.9302  116.7908  102.9553
2018-07-08  86.9148  95.7863  116.6232  103.2781
2018-07-09  86.4521  95.2461  116.39    102.8131
2018-07-10  87.1237  95.6086  116.1888  103.6829
2018-07-11  86.9142  94.9959  118.7372  103.7393
2018-07-12  85.0549  95.0846  119.9995  105.8842
2018-07-13  85.0389  93.5923  119.9442  104.8664

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-04  98.9815
2017-11-06  99.4085
2017-11-07  99.9642
2017-11-08  99.5815
2017-11-09  99.4959
2017-11-11  98.006
2017-11-17  93.8283
2017-11-21  93.2414
2017-11-25  93.1199
⋮
2018-06-09  81.2066
2018-06-12  82.0984
2018-06-13  80.3269
2018-06-18  79.0721
2018-06-27  82.431
2018-07-04  85.5075
2018-07-06  87.5724
2018-07-10  87.1237
2018-07-12  85.0549
2018-07-13  85.0389

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-04  98.9815
2017-11-05  99.7544
2017-11-08  99.5815
2017-11-09  99.4959
2017-11-11  98.006
2017-11-13  97.9753
2017-11-14  97.0631
2017-11-15  95.6103
2017-11-16  95.3539
⋮
2018-06-29  83.5524
2018-06-30  85.1935
2018-07-02  86.1416
2018-07-04  85.5075
2018-07-05  87.4775
2018-07-07  86.9954
2018-07-08  86.9148
2018-07-09  86.4521
2018-07-10  87.1237
2018-07-12  85.0549
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-04  101.4176  100.8984  98.6865   99.9248
2017-11-05  101.0342  101.7128  100.0395  100.7799
2017-11-06  101.3841  102.5175  100.0351  101.4887
2017-11-07  99.044    104.269   98.1951   100.7474
2017-11-08  96.8746   103.5173  97.7879   99.2384
2017-11-09  97.5308   103.409   96.2847   97.6757
2017-11-10  97.394    104.6988  95.9068   97.4461
2017-11-11  99.2197   103.8311  94.8759   95.3684
2017-11-12  100.4448  104.1799  95.1205   95.4597
⋮
2018-07-04  113.3497  90.3168   93.4725   90.7042
2018-07-05  113.1485  90.6301   93.976    88.6014
2018-07-06  112.6063  90.2372   91.8576   88.4513
2018-07-07  111.7271  90.9908   90.7791   87.5805
2018-07-08  112.8005  90.2416   89.4599   89.3718
2018-07-09  113.4216  88.7114   89.4782   88.833
2018-07-10  110.919   87.4319   88.9589   89.9667
2018-07-11  111.2948  86.5972   90.0673   88.6275
2018-07-12  111.6311  87.6733   91.1849   87.5594
2018-07-13  112.2957  87.3611   89.6671   86.8727

julia&gt; X[1:10, :]
Index       A         B         C         D
2017-11-04  101.4176  100.8984  98.6865   99.9248
2017-11-05  101.0342  101.7128  100.0395  100.7799
2017-11-06  101.3841  102.5175  100.0351  101.4887
2017-11-07  99.044    104.269   98.1951   100.7474
2017-11-08  96.8746   103.5173  97.7879   99.2384
2017-11-09  97.5308   103.409   96.2847   97.6757
2017-11-10  97.394    104.6988  95.9068   97.4461
2017-11-11  99.2197   103.8311  94.8759   95.3684
2017-11-12  100.4448  104.1799  95.1205   95.4597
2017-11-13  101.8878  103.2967  97.1992   94.7144

julia&gt; X[end-100:end, 2:3]
Index       B        C
2018-04-04  93.3634  94.0605
2018-04-05  94.0339  94.9161
2018-04-06  94.7819  95.159
2018-04-07  93.7305  93.74
2018-04-08  93.8366  92.6348
2018-04-09  92.4191  94.5014
2018-04-10  93.8048  94.9113
2018-04-11  93.2927  94.1942
2018-04-12  94.3351  94.4719
⋮
2018-07-04  90.3168  93.4725
2018-07-05  90.6301  93.976
2018-07-06  90.2372  91.8576
2018-07-07  90.9908  90.7791
2018-07-08  90.2416  89.4599
2018-07-09  88.7114  89.4782
2018-07-10  87.4319  88.9589
2018-07-11  86.5972  90.0673
2018-07-12  87.6733  91.1849
2018-07-13  87.3611  89.6671

julia&gt; X[end, 2:end]
Index       B        C        D
2018-07-13  87.3611  89.6671  86.8727
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-04  99.5701   100.5108  100.5942  99.6221
2017-11-05  99.7134   99.8559   101.1113  98.3867
2017-11-06  100.1203  100.123   101.799   97.8396
2017-11-07  101.2657  99.3291   99.4683   97.28
2017-11-08  100.2243  99.5029   98.2439   96.2344
2017-11-09  99.7058   99.22     98.3061   97.4298
2017-11-10  100.3035  100.5622  97.7386   97.4751
2017-11-11  99.8422   100.5777  97.1179   97.4259
2017-11-12  99.8189   100.6489  96.466    97.0249
⋮
2018-07-04  102.0308  102.6769  82.9229   103.7831
2018-07-05  102.5756  101.614   84.6704   102.2033
2018-07-06  103.0035  102.6363  84.3585   101.7007
2018-07-07  103.1361  102.8577  84.7662   100.4981
2018-07-08  102.1406  103.4968  86.7713   98.6112
2018-07-09  102.23    104.4431  86.3527   99.3287
2018-07-10  102.6899  101.6902  88.136    100.7698
2018-07-11  101.8269  100.3236  88.0379   100.7635
2018-07-12  102.547   98.8981   89.0145   101.0972
2018-07-13  102.2987  99.1501   89.5968   99.743

julia&gt; X[:, :A]
Index       A
2017-11-04  99.5701
2017-11-05  99.7134
2017-11-06  100.1203
2017-11-07  101.2657
2017-11-08  100.2243
2017-11-09  99.7058
2017-11-10  100.3035
2017-11-11  99.8422
2017-11-12  99.8189
⋮
2018-07-04  102.0308
2018-07-05  102.5756
2018-07-06  103.0035
2018-07-07  103.1361
2018-07-08  102.1406
2018-07-09  102.23
2018-07-10  102.6899
2018-07-11  101.8269
2018-07-12  102.547
2018-07-13  102.2987

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-11-04  100.5108  99.6221
2017-11-05  99.8559   98.3867
2017-11-06  100.123   97.8396
2017-11-07  99.3291   97.28
2017-11-08  99.5029   96.2344
2017-11-09  99.22     97.4298
2017-11-10  100.5622  97.4751
2017-11-11  100.5777  97.4259
2017-11-12  100.6489  97.0249
⋮
2018-07-04  102.6769  103.7831
2018-07-05  101.614   102.2033
2018-07-06  102.6363  101.7007
2018-07-07  102.8577  100.4981
2018-07-08  103.4968  98.6112
2018-07-09  104.4431  99.3287
2018-07-10  101.6902  100.7698
2018-07-11  100.3236  100.7635
2018-07-12  98.8981   101.0972
2018-07-13  99.1501   99.743
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C        D
2016-01-01  100.7144  100.3073  99.832   100.3785
2016-01-02  100.3326  99.5207   98.7058  100.6575
2016-01-03  99.0876   99.4141   99.6393  101.3032
2016-01-04  99.2193   100.0304  97.9264  102.0482
2016-01-05  99.3481   99.0644   97.036   101.0124
2016-01-06  100.2078  98.6327   97.0299  99.7115
2016-01-07  100.9788  97.8335   97.5464  101.2277
2016-01-08  99.8931   98.4285   97.2258  103.1656
2016-01-09  99.69     98.8689   97.4245  101.767
⋮
2017-12-22  92.92     135.5882  56.0759  84.8765
2017-12-23  93.4986   137.0883  56.3357  84.8383
2017-12-24  94.365    137.0298  54.7877  86.0703
2017-12-25  94.8627   136.3425  54.8763  86.0762
2017-12-26  94.1039   136.3819  55.0502  86.0632
2017-12-27  94.1284   137.1583  55.1841  85.5967
2017-12-28  95.0247   136.9263  55.0158  84.0896
2017-12-29  96.1618   136.3748  56.5848  83.5206
2017-12-30  96.8875   135.0173  56.4961  83.7961
2017-12-31  96.7428   133.2459  56.8513  83.6821

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A        B         C        D
2017-07-01  89.7392  128.7697  75.8089  92.9731

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C        D
2016-01-01  100.7144  100.3073  99.832   100.3785
2016-01-02  100.3326  99.5207   98.7058  100.6575
2016-01-03  99.0876   99.4141   99.6393  101.3032
2016-01-04  99.2193   100.0304  97.9264  102.0482
2016-01-05  99.3481   99.0644   97.036   101.0124
2016-01-06  100.2078  98.6327   97.0299  99.7115
2016-01-07  100.9788  97.8335   97.5464  101.2277
2016-01-08  99.8931   98.4285   97.2258  103.1656
2016-01-09  99.69     98.8689   97.4245  101.767
⋮
2016-12-22  103.2635  119.8547  75.8126  86.5894
2016-12-23  101.8068  120.5569  76.4127  85.6129
2016-12-24  101.3228  120.3262  75.7326  84.2511
2016-12-25  99.701    119.5023  74.8363  84.1865
2016-12-26  101.0168  117.1698  75.6396  83.8221
2016-12-27  100.1048  117.7249  76.1016  83.719
2016-12-28  100.9911  118.2906  74.237   84.5835
2016-12-29  100.8122  118.8292  74.3611  83.955
2016-12-30  100.6444  119.5945  72.0751  81.9275
2016-12-31  100.5582  120.8254  71.3959  81.5253

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
