<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · Temporal</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Temporal</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Installation-1"><span>Installation</span></a></li><li><a class="tocitem" href="#Introduction-1"><span>Introduction</span></a></li><li class="toplevel"><a class="tocitem" href="#Usage-1"><span>Usage</span></a></li><li><a class="tocitem" href="#Data-Input/Output-1"><span>Data Input/Output</span></a></li><li><a class="tocitem" href="#Subsetting/Indexing-1"><span>Subsetting/Indexing</span></a></li><li><a class="tocitem" href="#Combining/Joining-1"><span>Combining/Joining</span></a></li><li><a class="tocitem" href="#Collapsing/Aggregating-1"><span>Collapsing/Aggregating</span></a></li><li class="toplevel"><a class="tocitem" href="#Visualization-1"><span>Visualization</span></a></li><li class="toplevel"><a class="tocitem" href="#Miscellany-1"><span>Miscellany</span></a></li><li><a class="tocitem" href="#Acknowledgements-1"><span>Acknowledgements</span></a></li><li><a class="tocitem" href="#Temporal-vs.-TimeSeries-1"><span>Temporal vs. TimeSeries</span></a></li></ul></li><li><span class="tocitem">Calculations</span><ul><li><a class="tocitem" href="../calculation/">Methods</a></li><li><a class="tocitem" href="../aggregation/">Aggregation</a></li></ul></li><li><span class="tocitem">Data</span><ul><li><a class="tocitem" href="../io/">I/O</a></li><li><a class="tocitem" href="../indexing/">Subsetting</a></li><li><a class="tocitem" href="../combining/">Combining</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/overview.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Temporal-1"><a class="docs-heading-anchor" href="#Temporal-1">Temporal</a><a class="docs-heading-anchor-permalink" href="#Temporal-1" title="Permalink"></a></h1><p>This package provides a flexible &amp; efficient time series class, <code>TS</code>, for the <a href="http://julialang.org/">Julia</a> programming language. While still early in development, the overarching goal is for the class to be able to slice &amp; dice data with the rapid prototyping speed of <a href="https://www.r-project.org/">R</a>&#39;s <a href="https://github.com/joshuaulrich/xts"><code>xts</code></a> and <a href="https://www.python.org/">Python</a>&#39;s <a href="http://pandas.pydata.org/"><code>pandas</code></a> packages, while retaining the performance one expects from Julia.</p><h2 id="Installation-1"><a class="docs-heading-anchor" href="#Installation-1">Installation</a><a class="docs-heading-anchor-permalink" href="#Installation-1" title="Permalink"></a></h2><p>Temporal can be easily installed using Julia&#39;s built-in package manager.</p><pre><code class="language-julia">using Pkg
Pkg.add(&quot;Temporal&quot;)
using Temporal</code></pre><h2 id="Introduction-1"><a class="docs-heading-anchor" href="#Introduction-1">Introduction</a><a class="docs-heading-anchor-permalink" href="#Introduction-1" title="Permalink"></a></h2><h3 id="The-TS-Type-1"><a class="docs-heading-anchor" href="#The-TS-Type-1">The <code>TS</code> Type</a><a class="docs-heading-anchor-permalink" href="#The-TS-Type-1" title="Permalink"></a></h3><h4 id="Member-Variables-1"><a class="docs-heading-anchor" href="#Member-Variables-1">Member Variables</a><a class="docs-heading-anchor-permalink" href="#Member-Variables-1" title="Permalink"></a></h4><p><code>TS</code> objects store three member variables to facilitate data manipulation and analysis.</p><ul><li><code>values</code>: an <code>Array</code> of the values of the time series data</li><li><code>index</code>: a <code>Vector</code> whose elements are either of type <code>Date</code> or <code>DateTime</code> indexing the values of the time series</li><li><code>fields</code>: a <code>Vector</code> whose elements are of type <code>Symbol</code> representing the column names of the time series data</li></ul><h4 id="Constructors-1"><a class="docs-heading-anchor" href="#Constructors-1">Constructors</a><a class="docs-heading-anchor-permalink" href="#Constructors-1" title="Permalink"></a></h4><p>The <code>TS</code> object type can be created in a number of ways. One thing to note is that when constructing the <code>TS</code> object, passing only the <code>Array</code> of <code>values</code> will automatically create the <code>index</code> and the <code>fields</code> members. When not passed explicitly, the <code>index</code> defaults to a series of dates that ends with today&#39;s date, and begins <code>N-1</code> days before (where <code>N</code> is the number of rows of the <code>values</code>). The <code>fields</code> (or column names) are automatically set in a similar fashion as Excel when not given explicitly (A, B, C, ..., X, Y, Z, AA, AB, ...).</p><pre><code class="language-julia-repl">julia&gt; using Temporal, Dates

julia&gt; N, K = 100, 4;

julia&gt; Random.seed!(1);
ERROR: UndefVarError: Random not defined

julia&gt; values = rand(N, K);

julia&gt; TS(values)
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A       B       C       D
2019-10-09  0.1207  0.5958  0.419   0.4538
2019-10-10  0.449   0.9945  0.2828  0.4365
2019-10-11  0.6672  0.2751  0.973   0.5926
2019-10-12  0.1744  0.6713  0.2392  0.7966
2019-10-13  0.6787  0.0474  0.2811  0.5216
2019-10-14  0.8484  0.4441  0.4962  0.3142
2019-10-15  0.5274  0.7577  0.4416  0.4961
⋮
2020-01-09  0.633   0.6452  0.143   0.6635
2020-01-10  0.316   0.0307  0.5134  0.4324
2020-01-11  0.8282  0.2404  0.948   0.9226
2020-01-12  0.7159  0.8437  0.2419  0.4361
2020-01-13  0.7842  0.2332  0.6657  0.0319
2020-01-14  0.8164  0.4698  0.3203  0.2602
2020-01-15  0.5786  0.7864  0.7939  0.5703
2020-01-16  0.3264  0.8535  0.416   0.9491

julia&gt; index = today()-Day(N-1):Day(1):today();

julia&gt; TS(values, index)
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A       B       C       D
2019-10-09  0.1207  0.5958  0.419   0.4538
2019-10-10  0.449   0.9945  0.2828  0.4365
2019-10-11  0.6672  0.2751  0.973   0.5926
2019-10-12  0.1744  0.6713  0.2392  0.7966
2019-10-13  0.6787  0.0474  0.2811  0.5216
2019-10-14  0.8484  0.4441  0.4962  0.3142
2019-10-15  0.5274  0.7577  0.4416  0.4961
⋮
2020-01-09  0.633   0.6452  0.143   0.6635
2020-01-10  0.316   0.0307  0.5134  0.4324
2020-01-11  0.8282  0.2404  0.948   0.9226
2020-01-12  0.7159  0.8437  0.2419  0.4361
2020-01-13  0.7842  0.2332  0.6657  0.0319
2020-01-14  0.8164  0.4698  0.3203  0.2602
2020-01-15  0.5786  0.7864  0.7939  0.5703
2020-01-16  0.3264  0.8535  0.416   0.9491

julia&gt; fields = [:A, :B, :C, :D];

julia&gt; X = TS(values, index, fields)
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A       B       C       D
2019-10-09  0.1207  0.5958  0.419   0.4538
2019-10-10  0.449   0.9945  0.2828  0.4365
2019-10-11  0.6672  0.2751  0.973   0.5926
2019-10-12  0.1744  0.6713  0.2392  0.7966
2019-10-13  0.6787  0.0474  0.2811  0.5216
2019-10-14  0.8484  0.4441  0.4962  0.3142
2019-10-15  0.5274  0.7577  0.4416  0.4961
⋮
2020-01-09  0.633   0.6452  0.143   0.6635
2020-01-10  0.316   0.0307  0.5134  0.4324
2020-01-11  0.8282  0.2404  0.948   0.9226
2020-01-12  0.7159  0.8437  0.2419  0.4361
2020-01-13  0.7842  0.2332  0.6657  0.0319
2020-01-14  0.8164  0.4698  0.3203  0.2602
2020-01-15  0.5786  0.7864  0.7939  0.5703
2020-01-16  0.3264  0.8535  0.416   0.9491</code></pre><p>Equivalently, one can construct a TS object using the standard <code>rand</code> construction approach.</p><pre><code class="language-julia-repl">julia&gt; Random.seed!(1);
ERROR: UndefVarError: Random not defined

julia&gt; Y = rand(TS, (N,K))
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A       B       C       D
2019-10-09  0.2301  0.7776  0.1952  0.052
2019-10-10  0.1371  0.3752  0.1797  0.8482
2019-10-11  0.9162  0.8956  0.3743  0.1053
2019-10-12  0.1331  0.9591  0.2618  0.3934
2019-10-13  0.3603  0.4767  0.6911  0.1468
2019-10-14  0.162   0.8287  0.2339  0.5144
2019-10-15  0.9685  0.6685  0.4543  0.2678
⋮
2020-01-09  0.3575  0.8733  0.3275  0.9086
2020-01-10  0.7818  0.713   0.0924  0.8439
2020-01-11  0.6481  0.989   0.9617  0.8136
2020-01-12  0.9867  0.522   0.0399  0.4487
2020-01-13  0.8624  0.8575  0.4622  0.5734
2020-01-14  0.7957  0.9045  0.2714  0.9106
2020-01-15  0.9442  0.49    0.7812  0.5468
2020-01-16  0.2989  0.3722  0.874   0.5436

julia&gt; X == Y
false</code></pre><h3 id="Operations-1"><a class="docs-heading-anchor" href="#Operations-1">Operations</a><a class="docs-heading-anchor-permalink" href="#Operations-1" title="Permalink"></a></h3><p>The standard operations that apply to <code>Array</code> objects will generally also work for <code>TS</code> objects. (If there is an operation that does <em>not</em> have a method defined for the <code>TS</code> type that you feel is missing, please don&#39;t hesitate to submit an <a href="https://github.com/dysonance/Temporal.jl/issues">issue</a> and we will get it added ASAP.)</p><pre><code class="language-julia-repl">julia&gt; cumsum(X)
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A        B        C        D
2019-10-09  0.1207   0.5958   0.419    0.4538
2019-10-10  0.5698   1.5903   0.7018   0.8902
2019-10-11  1.237    1.8654   1.6748   1.4828
2019-10-12  1.4114   2.5367   1.9139   2.2794
2019-10-13  2.0901   2.5841   2.1951   2.8011
2019-10-14  2.9385   3.0282   2.6913   3.1153
2019-10-15  3.4659   3.786    3.1329   3.6114
⋮
2020-01-09  47.0578  49.5669  44.8276  46.8897
2020-01-10  47.3738  49.5976  45.3411  47.322
2020-01-11  48.202   49.838   46.2891  48.2447
2020-01-12  48.9179  50.6817  46.531   48.6808
2020-01-13  49.7021  50.9149  47.1967  48.7127
2020-01-14  50.5185  51.3847  47.517   48.9729
2020-01-15  51.0971  52.1711  48.311   49.5433
2020-01-16  51.4235  53.0246  48.727   50.4924

julia&gt; cumprod(1 + diff(log(Y)))
ERROR: MethodError: no method matching log(::TS{Float64,Dates.Date})
Closest candidates are:
  log(!Matched::Float16) at math.jl:1019
  log(!Matched::Complex{Float16}) at math.jl:1020
  log(!Matched::Float64) at special/log.jl:254
  ...

julia&gt; X + Y
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A       B       C       D
2019-10-09  0.3508  1.3734  0.6142  0.5057
2019-10-10  0.5861  1.3697  0.4625  1.2847
2019-10-11  1.5835  1.1707  1.3473  0.6979
2019-10-12  0.3075  1.6305  0.501   1.19
2019-10-13  1.039   0.5241  0.9723  0.6685
2019-10-14  1.0104  1.2728  0.7302  0.8286
2019-10-15  1.4959  1.4263  0.8959  0.7639
⋮
2020-01-09  0.9905  1.5185  0.4705  1.5721
2020-01-10  1.0978  0.7437  0.6058  1.2763
2020-01-11  1.4763  1.2294  1.9096  1.7362
2020-01-12  1.7025  1.3657  0.2818  0.8848
2020-01-13  1.6466  1.0907  1.1279  0.6053
2020-01-14  1.6121  1.3743  0.5918  1.1708
2020-01-15  1.5228  1.2765  1.5752  1.1171
2020-01-16  0.6253  1.2257  1.2901  1.4927

julia&gt; abs.(sin.(X))
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A       B       C       D
2019-10-09  0.1204  0.5611  0.4069  0.4384
2019-10-10  0.4341  0.8385  0.279   0.4227
2019-10-11  0.6188  0.2717  0.8266  0.5585
2019-10-12  0.1735  0.622   0.2369  0.715
2019-10-13  0.6278  0.0474  0.2775  0.4983
2019-10-14  0.7502  0.4296  0.4761  0.3091
2019-10-15  0.5033  0.6873  0.4273  0.476
⋮
2020-01-09  0.5916  0.6013  0.1425  0.6159
2020-01-10  0.3108  0.0307  0.4912  0.419
2020-01-11  0.7367  0.2381  0.8122  0.7972
2020-01-12  0.6563  0.7471  0.2396  0.4224
2020-01-13  0.7063  0.2311  0.6176  0.0319
2020-01-14  0.7287  0.4527  0.3149  0.2573
2020-01-15  0.5469  0.7078  0.7131  0.5399
2020-01-16  0.3206  0.7536  0.4041  0.8129</code></pre><h1 id="Usage-1"><a class="docs-heading-anchor" href="#Usage-1">Usage</a><a class="docs-heading-anchor-permalink" href="#Usage-1" title="Permalink"></a></h1><h2 id="Data-Input/Output-1"><a class="docs-heading-anchor" href="#Data-Input/Output-1">Data Input/Output</a><a class="docs-heading-anchor-permalink" href="#Data-Input/Output-1" title="Permalink"></a></h2><p>There are currently several options for how to get time series data into the Julia environment as <code>Temporal.TS</code> objects.</p><ul><li>Data Vendor Downloads<ul><li><a href="https://www.quandl.com/">Quandl</a></li><li><a href="https://finance.yahoo.com/">Yahoo! Finance</a></li><li><a href="https://finance.google.com">Google Finance</a></li></ul></li><li>Local Flat Files (CSV, TSV, etc.)</li></ul><h3 id="Quandl-Data-Downloads-1"><a class="docs-heading-anchor" href="#Quandl-Data-Downloads-1">Quandl Data Downloads</a><a class="docs-heading-anchor-permalink" href="#Quandl-Data-Downloads-1" title="Permalink"></a></h3><pre><code class="language-julia-repl">julia&gt; corn = quandl(&quot;CHRIS/CME_C1&quot;, from=&quot;2010-06-09&quot;, thru=string(Dates.today()), freq=&#39;w&#39;)  # weekly corn price history
502x8 TS{Float64,Dates.Date}: 2010-06-13 to 2020-01-19

Index       Open    High    Low     Last    Change  Settle  Volume    Previous Day Open Interest
2010-06-13  345.5   349.75  345.25  349.5   NaN     349.5   161773.0  353285.0
2010-06-20  357.0   364.0   356.5   360.75  NaN     360.75  101835.0  262392.0
2010-06-27  345.0   345.25  339.0   340.5   NaN     340.5   125609.0  159949.0
2010-07-04  362.5   365.75  361.25  364.0   NaN     364.0   17351.0   20723.0
2010-07-11  377.5   377.5   374.0   375.25  NaN     375.25  7471.0    5603.0
2010-07-18  391.0   395.5   387.75  394.75  NaN     394.75  87390.0   400595.0
2010-07-25  377.0   377.5   370.0   371.25  NaN     371.25  68229.0   401677.0
⋮
2019-12-01  365.75  372.25  365.0   370.5   8.5     371.25  15409.0   18148.0
2019-12-08  364.75  368.75  364.75  366.5   1.0     366.5   960.0     2286.0
2019-12-15  373.75  374.5   366.25  366.25  0.75    366.25  88.0      165.0
2019-12-22  386.5   389.5   386.0   387.75  1.25    387.75  68692.0   754264.0
2019-12-29  388.0   391.0   388.0   390.0   1.5     390.0   73843.0   748797.0
2020-01-05  391.5   392.0   385.5   386.0   5.0     386.5   112048.0  740797.0
2020-01-12  383.25  386.75  376.5   385.75  2.5     385.75  206470.0  733377.0
2020-01-19  388.75  390.25  386.5   387.0   1.5     387.5   129405.0  734647.0

julia&gt; corn = dropnan(corn)  # remove rows with any NaN
309x8 TS{Float64,Dates.Date}: 2014-02-23 to 2020-01-19

Index       Open    High    Low     Last    Change  Settle  Volume    Previous Day Open Interest
2014-02-23  455.5   456.5   450.25  452.2   2.6     453.0   145346.0  244376.0
2014-03-02  448.0   458.75  447.75  458.0   9.4     457.5   37182.0   38695.0
2014-03-09  485.25  495.0   478.0   481.0   4.6     481.0   7141.0    7124.0
2014-03-16  484.5   484.75  480.5   485.2   1.0     472.25  316.0     515.0
2014-03-23  478.5   481.0   476.0   477.4   0.4     479.0   87347.0   548999.0
2014-03-30  491.0   496.25  489.0   490.0   7.4     492.0   120358.0  530465.0
2014-04-06  498.0   502.0   492.5   502.0   1.5     501.5   104110.0  482614.0
⋮
2019-12-01  365.75  372.25  365.0   370.5   8.5     371.25  15409.0   18148.0
2019-12-08  364.75  368.75  364.75  366.5   1.0     366.5   960.0     2286.0
2019-12-15  373.75  374.5   366.25  366.25  0.75    366.25  88.0      165.0
2019-12-22  386.5   389.5   386.0   387.75  1.25    387.75  68692.0   754264.0
2019-12-29  388.0   391.0   388.0   390.0   1.5     390.0   73843.0   748797.0
2020-01-05  391.5   392.0   385.5   386.0   5.0     386.5   112048.0  740797.0
2020-01-12  383.25  386.75  376.5   385.75  2.5     385.75  206470.0  733377.0
2020-01-19  388.75  390.25  386.5   387.0   1.5     387.5   129405.0  734647.0</code></pre><h3 id="Yahoo!-Finance-Downloads-1"><a class="docs-heading-anchor" href="#Yahoo!-Finance-Downloads-1">Yahoo! Finance Downloads</a><a class="docs-heading-anchor-permalink" href="#Yahoo!-Finance-Downloads-1" title="Permalink"></a></h3><pre><code class="language-julia-repl">julia&gt; snapchat_prices = yahoo(&quot;SNAP&quot;, from=&quot;2017-03-03&quot;)  # historical prices for Snapchat since its IPO date
723x6 TS{Float64,Dates.Date}: 2017-03-03 to 2020-01-15

Index       Open    High    Low     Close  AdjClose  Volume
2017-03-03  26.39   29.44   26.06   27.09  27.09     1.481664e8
2017-03-06  28.17   28.25   23.77   23.77  23.77     7.2903e7
2017-03-07  22.21   22.5    20.64   21.44  21.44     7.18578e7
2017-03-08  22.03   23.43   21.31   22.81  22.81     4.98191e7
2017-03-09  23.17   23.68   22.51   22.71  22.71     2.58032e7
2017-03-10  23.36   23.4    22.0    22.07  22.07     1.83376e7
2017-03-13  22.05   22.15   20.96   21.09  21.09     2.06059e7
⋮
2020-01-06  16.65   16.79   16.41   16.78  16.78     1.59526e7
2020-01-07  16.87   17.065  16.55   17.03  17.03     2.11464e7
2020-01-08  16.98   17.01   16.65   16.67  16.67     1.56009e7
2020-01-09  17.29   17.93   17.04   17.36  17.36     6.27142e7
2020-01-10  17.66   17.73   17.28   17.41  17.41     2.56217e7
2020-01-13  17.48   18.0    17.3    18.0   18.0      2.23939e7
2020-01-14  17.99   18.09   17.665  17.99  17.99     2.53901e7
2020-01-15  18.0    18.52   17.97   18.19  18.19     2.33547e7

julia&gt; exxon_dividends = yahoo(&quot;XOM&quot;, event=&quot;div&quot;, from=&quot;2000-01-01&quot;, thru=&quot;2009-12-31&quot;)  # all dividend payments Exxon disbursed during the 2000&#39;s
42x1 TS{Float64,Dates.Date}: 2000-02-09 to 2009-11-09

Index       Dividends
2000-02-09  0.44
2000-05-11  0.44
2000-08-10  0.44
2000-11-09  0.44
2001-02-07  0.44
2001-02-08  0.44
2001-05-10  0.44
⋮
2008-02-07  0.35
2008-05-09  0.4
2008-08-11  0.4
2008-11-07  0.4
2009-02-06  0.4
2009-05-11  0.42
2009-08-11  0.42
2009-11-09  0.42</code></pre><h3 id="Flat-File-I/O-1"><a class="docs-heading-anchor" href="#Flat-File-I/O-1">Flat File I/O</a><a class="docs-heading-anchor-permalink" href="#Flat-File-I/O-1" title="Permalink"></a></h3><pre><code class="language-julia-repl">julia&gt; filepath = &quot;tmp.csv&quot;
&quot;tmp.csv&quot;

julia&gt; tswrite(corn, filepath)

julia&gt; tsread(filepath) == corn
true</code></pre><h2 id="Subsetting/Indexing-1"><a class="docs-heading-anchor" href="#Subsetting/Indexing-1">Subsetting/Indexing</a><a class="docs-heading-anchor-permalink" href="#Subsetting/Indexing-1" title="Permalink"></a></h2><p>Easily one of the more important parts of handling time series data is the ability to retrieve from that time series specific portions of the data that you want. To this end, <code>TS</code> objects provide a fairly flexible indexing interface to make it easier to slice &amp; dice data in the ways commonly desired, while maintaining an emphasis on speed and performance wherever possible.</p><p>As an example use case, let us analyze the price history of front-month crude oil futures.</p><pre><code class="language-julia-repl">julia&gt; crude = quandl(&quot;CHRIS/CME_CL1&quot;)  # download crude oil prices from Quandl
9247x8 TS{Float64,Dates.Date}: 1983-03-30 to 2020-01-15

Index       Open    High    Low     Last    Change  Settle  Volume      Previous Day Open Interest
1983-03-30  29.01   29.56   29.01   29.4    NaN     29.4    949.0       470.0
1983-03-31  29.4    29.6    29.25   29.29   NaN     29.29   521.0       523.0
1983-04-04  29.3    29.7    29.29   29.44   NaN     29.44   156.0       583.0
1983-04-05  29.5    29.8    29.5    29.71   NaN     29.71   175.0       623.0
1983-04-06  29.9    29.92   29.65   29.9    NaN     29.9    392.0       640.0
1983-04-07  29.9    30.2    29.86   30.17   NaN     30.17   817.0       795.0
1983-04-08  30.65   30.65   30.25   30.38   NaN     30.38   365.0       651.0
⋮
2020-01-06  63.71   64.72   62.64   62.83   0.22    63.27   716888.0    388479.0
2020-01-07  62.91   63.15   62.11   62.69   0.57    62.7    572417.0    368505.0
2020-01-08  62.84   65.65   59.15   59.98   3.09    59.61   1.190608e6  355552.0
2020-01-09  59.99   60.31   58.66   59.59   0.05    59.56   738556.0    321112.0
2020-01-10  59.61   59.78   58.85   59.12   0.52    59.04   579590.0    281957.0
2020-01-13  59.04   59.27   57.91   58.09   0.96    58.08   572099.0    235115.0
2020-01-14  58.03   58.72   57.72   58.14   0.15    58.23   494837.0    185715.0
2020-01-15  58.2    58.36   57.36   58.1    0.42    57.81   426110.0    136771.0

julia&gt; crude = dropnan(crude)  # remove the missing values from the downloaded data
1485x8 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Open    High    Low     Last    Change  Settle  Volume      Previous Day Open Interest
2014-02-18  100.32  103.25  100.23  102.43  2.13    102.43  168003.0    66485.0
2014-02-19  103.14  103.8   102.4   103.31  0.88    103.31  85672.0     29350.0
2014-02-20  103.41  103.5   102.75  103.05  0.39    102.92  36274.0     29350.0
2014-02-21  102.87  102.92  101.69  102.2   0.55    102.2   163793.0    320747.0
2014-02-24  102.29  103.45  101.97  102.82  0.62    102.82  169414.0    324685.0
2014-02-25  102.8   102.84  101.02  101.83  0.99    101.83  179081.0    320864.0
2014-02-26  102.04  102.9   101.58  102.55  0.76    102.59  187756.0    318599.0
⋮
2020-01-06  63.71   64.72   62.64   62.83   0.22    63.27   716888.0    388479.0
2020-01-07  62.91   63.15   62.11   62.69   0.57    62.7    572417.0    368505.0
2020-01-08  62.84   65.65   59.15   59.98   3.09    59.61   1.190608e6  355552.0
2020-01-09  59.99   60.31   58.66   59.59   0.05    59.56   738556.0    321112.0
2020-01-10  59.61   59.78   58.85   59.12   0.52    59.04   579590.0    281957.0
2020-01-13  59.04   59.27   57.91   58.09   0.96    58.08   572099.0    235115.0
2020-01-14  58.03   58.72   57.72   58.14   0.15    58.23   494837.0    185715.0
2020-01-15  58.2    58.36   57.36   58.1    0.42    57.81   426110.0    136771.0</code></pre><h3 id="Column-Indexing-1"><a class="docs-heading-anchor" href="#Column-Indexing-1">Column Indexing</a><a class="docs-heading-anchor-permalink" href="#Column-Indexing-1" title="Permalink"></a></h3><p>The <code>fields</code> member of the <code>Temporal.TS</code> object (wherein the column names are stored) are represented using Julia&#39;s builtin <code>Symbol</code> datatype.</p><pre><code class="language-julia-repl">julia&gt; crude[:Settle]
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Settle
2014-02-18  102.43
2014-02-19  103.31
2014-02-20  102.92
2014-02-21  102.2
2014-02-24  102.82
2014-02-25  101.83
2014-02-26  102.59
⋮
2020-01-06  63.27
2020-01-07  62.7
2020-01-08  59.61
2020-01-09  59.56
2020-01-10  59.04
2020-01-13  58.08
2020-01-14  58.23
2020-01-15  57.81

julia&gt; crude[[:Settle,:Volume]]
1485x2 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Settle  Volume
2014-02-18  102.43  168003.0
2014-02-19  103.31  85672.0
2014-02-20  102.92  36274.0
2014-02-21  102.2   163793.0
2014-02-24  102.82  169414.0
2014-02-25  101.83  179081.0
2014-02-26  102.59  187756.0
⋮
2020-01-06  63.27   716888.0
2020-01-07  62.7    572417.0
2020-01-08  59.61   1.190608e6
2020-01-09  59.56   738556.0
2020-01-10  59.04   579590.0
2020-01-13  58.08   572099.0
2020-01-14  58.23   494837.0
2020-01-15  57.81   426110.0

julia&gt; crude[1:100, :Volume]
100x1 TS{Float64,Dates.Date}: 2014-02-18 to 2014-07-10

Index       Volume
2014-02-18  168003.0
2014-02-19  85672.0
2014-02-20  36274.0
2014-02-21  163793.0
2014-02-24  169414.0
2014-02-25  179081.0
2014-02-26  187756.0
⋮
2014-06-30  229049.0
2014-07-01  231393.0
2014-07-02  249258.0
2014-07-03  185064.0
2014-07-07  170076.0
2014-07-08  249378.0
2014-07-09  265417.0
2014-07-10  253268.0</code></pre><p>A series of financial extractor convenience functions are also made available for commonly used tasks involving the selection of specific fields from historical financial market data.</p><pre><code class="language-julia-repl">julia&gt; vo(crude)  # volume
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Volume
2014-02-18  168003.0
2014-02-19  85672.0
2014-02-20  36274.0
2014-02-21  163793.0
2014-02-24  169414.0
2014-02-25  179081.0
2014-02-26  187756.0
⋮
2020-01-06  716888.0
2020-01-07  572417.0
2020-01-08  1.190608e6
2020-01-09  738556.0
2020-01-10  579590.0
2020-01-13  572099.0
2020-01-14  494837.0
2020-01-15  426110.0

julia&gt; op(crude)  # open
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Open
2014-02-18  100.32
2014-02-19  103.14
2014-02-20  103.41
2014-02-21  102.87
2014-02-24  102.29
2014-02-25  102.8
2014-02-26  102.04
⋮
2020-01-06  63.71
2020-01-07  62.91
2020-01-08  62.84
2020-01-09  59.99
2020-01-10  59.61
2020-01-13  59.04
2020-01-14  58.03
2020-01-15  58.2

julia&gt; hi(crude)  # high
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       High
2014-02-18  103.25
2014-02-19  103.8
2014-02-20  103.5
2014-02-21  102.92
2014-02-24  103.45
2014-02-25  102.84
2014-02-26  102.9
⋮
2020-01-06  64.72
2020-01-07  63.15
2020-01-08  65.65
2020-01-09  60.31
2020-01-10  59.78
2020-01-13  59.27
2020-01-14  58.72
2020-01-15  58.36

julia&gt; lo(crude)  # low
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Low
2014-02-18  100.23
2014-02-19  102.4
2014-02-20  102.75
2014-02-21  101.69
2014-02-24  101.97
2014-02-25  101.02
2014-02-26  101.58
⋮
2020-01-06  62.64
2020-01-07  62.11
2020-01-08  59.15
2020-01-09  58.66
2020-01-10  58.85
2020-01-13  57.91
2020-01-14  57.72
2020-01-15  57.36

julia&gt; cl(crude)  # close (note: will take fields named :Close, :AdjClose, :Settle, and :Last)
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Settle
2014-02-18  102.43
2014-02-19  103.31
2014-02-20  102.92
2014-02-21  102.2
2014-02-24  102.82
2014-02-25  101.83
2014-02-26  102.59
⋮
2020-01-06  63.27
2020-01-07  62.7
2020-01-08  59.61
2020-01-09  59.56
2020-01-10  59.04
2020-01-13  58.08
2020-01-14  58.23
2020-01-15  57.81</code></pre><pre><code class="language-julia">ohlc(crude)
ohlcv(crude)
hl(crude)
hlc(crude)
hl2(crude)   # average of high and low
hlc3(crude)  # average of high, low, and close
ohlc4(crude) # average of open, high, low, and close</code></pre><pre><code class="language-none">1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       A         
2014-02-18  101.5575  
2014-02-19  103.1625  
2014-02-20  103.145   
2014-02-21  102.42    
2014-02-24  102.6325  
2014-02-25  102.1225  
2014-02-26  102.2775  
⋮
2020-01-06  63.585    
2020-01-07  62.7175   
2020-01-08  61.8125   
2020-01-09  59.63     
2020-01-10  59.32     
2020-01-13  58.575    
2020-01-14  58.175    
2020-01-15  57.9325   
</code></pre><h3 id="Row-Indexing-1"><a class="docs-heading-anchor" href="#Row-Indexing-1">Row Indexing</a><a class="docs-heading-anchor-permalink" href="#Row-Indexing-1" title="Permalink"></a></h3><p>Rows of <code>TS</code> objects can be indexed in much the same way as Julia&#39;s standard <code>Array</code> objects. Since time is the key differentiating characteristic of a time series dataset, however, indexing only one dimension with an integer (or array of integers) defaults to indexing along the time (row) dimension.</p><pre><code class="language-julia-repl">julia&gt; crude[1]  # get the first row
1x8 TS{Float64,Dates.Date}: 2014-02-18 to 2014-02-18

Index       Open    High    Low     Last    Change  Settle  Volume    Previous Day Open Interest
2014-02-18  100.32  103.25  100.23  102.43  2.13    102.43  168003.0  66485.0

julia&gt; crude[end,:]  # get the last row
1x8 TS{Float64,Dates.Date}: 2020-01-15 to 2020-01-15

Index       Open  High   Low    Last  Change  Settle  Volume    Previous Day Open Interest
2020-01-15  58.2  58.36  57.36  58.1  0.42    57.81   426110.0  136771.0

julia&gt; crude[end-100:end, 1:4]
101x4 TS{Float64,Dates.Date}: 2019-08-21 to 2020-01-15

Index       Open   High   Low    Last
2019-08-21  56.05  57.13  55.55  55.85
2019-08-22  55.94  56.46  54.85  55.39
2019-08-23  55.35  55.6   53.24  53.97
2019-08-26  53.25  55.26  52.96  53.8
2019-08-27  53.76  55.72  53.69  55.69
2019-08-28  55.71  56.75  55.34  55.9
2019-08-29  55.88  56.89  55.43  56.61
⋮
2020-01-06  63.71  64.72  62.64  62.83
2020-01-07  62.91  63.15  62.11  62.69
2020-01-08  62.84  65.65  59.15  59.98
2020-01-09  59.99  60.31  58.66  59.59
2020-01-10  59.61  59.78  58.85  59.12
2020-01-13  59.04  59.27  57.91  58.09
2020-01-14  58.03  58.72  57.72  58.14
2020-01-15  58.2   58.36  57.36  58.1</code></pre><p>Additionally, rows can be selected/indexed using <code>Date</code> or <code>DateTime</code> objects (whichever type corresponds to the element type of the object&#39;s <code>index</code> member).</p><pre><code class="language-julia-repl">julia&gt; final_date = crude.index[end]
2020-01-15

julia&gt; crude[final_date]
1x8 TS{Float64,Dates.Date}: 2020-01-15 to 2020-01-15

Index       Open  High   Low    Last  Change  Settle  Volume    Previous Day Open Interest
2020-01-15  58.2  58.36  57.36  58.1  0.42    57.81   426110.0  136771.0

julia&gt; crude[collect(today()-Year(1):Day(1):today())]
251x8 TS{Float64,Dates.Date}: 2019-01-16 to 2020-01-15

Index       Open   High   Low    Last   Change  Settle  Volume      Previous Day Open Interest
2019-01-16  52.0   52.52  51.26  52.32  0.2     52.31   687958.0    145033.0
2019-01-17  52.3   52.58  50.98  52.21  0.24    52.07   285815.0    89777.0
2019-01-18  52.23  53.92  52.09  53.76  1.73    53.8    186006.0    61293.0
2019-01-22  53.73  54.24  51.8   52.77  1.23    52.57   39659.0     25682.0
2019-01-23  52.95  53.64  51.86  52.4   0.39    52.62   698010.0    499043.0
2019-01-24  52.45  53.47  52.07  53.18  0.51    53.13   708068.0    496877.0
2019-01-25  53.17  53.94  52.91  53.55  0.56    53.69   587559.0    481966.0
⋮
2020-01-06  63.71  64.72  62.64  62.83  0.22    63.27   716888.0    388479.0
2020-01-07  62.91  63.15  62.11  62.69  0.57    62.7    572417.0    368505.0
2020-01-08  62.84  65.65  59.15  59.98  3.09    59.61   1.190608e6  355552.0
2020-01-09  59.99  60.31  58.66  59.59  0.05    59.56   738556.0    321112.0
2020-01-10  59.61  59.78  58.85  59.12  0.52    59.04   579590.0    281957.0
2020-01-13  59.04  59.27  57.91  58.09  0.96    58.08   572099.0    235115.0
2020-01-14  58.03  58.72  57.72  58.14  0.15    58.23   494837.0    185715.0
2020-01-15  58.2   58.36  57.36  58.1   0.42    57.81   426110.0    136771.0</code></pre><p>Finally, Temporal provides a querying interface that allows one to use a standardized string format structure to specify ranges of dates. Inspired by R&#39;s xts package, one of the most useful utilities for prototyping in the REPL is the ease with which one can subset out dates simply by passing easily readable character strings. <code>Temporal</code> implements this same logic for <code>TS</code> objects.</p><p>On a tangential note, it&#39;s interesting to observe that while this indexing logic is implemented in low-level <code>C</code> code in other packages, this logic has been implemented in pure julia, making it far easier to read, interpret, understand, debug, and/or adapt to one&#39;s own purposes.</p><pre><code class="language-julia-repl">julia&gt; crude[&quot;2016&quot;]  # retrieve all rows from the year 2016
252x8 TS{Float64,Dates.Date}: 2016-01-04 to 2016-12-30

Index       Open   High   Low    Last   Change  Settle  Volume      Previous Day Open Interest
2016-01-04  37.6   38.39  36.33  36.88  0.28    36.76   426831.0    437108.0
2016-01-05  36.9   37.1   35.74  36.14  0.79    35.97   408389.0    437506.0
2016-01-06  36.18  36.39  33.77  34.06  2.0     33.97   528347.0    436383.0
2016-01-07  34.09  34.26  32.1   33.26  0.7     33.27   590277.0    431502.0
2016-01-08  33.3   34.34  32.64  32.88  0.11    33.16   567056.0    404315.0
2016-01-11  32.94  33.2   30.88  31.13  1.75    31.41   619080.0    337703.0
2016-01-12  30.44  32.21  29.93  30.58  0.97    30.44   620051.0    283331.0
⋮
2016-12-20  52.11  52.7   51.84  52.22  0.11    52.23   17494.0     20967.0
2016-12-21  53.56  53.79  52.32  52.51  0.81    52.49   466692.0    479955.0
2016-12-22  52.52  53.19  52.08  52.65  0.46    52.95   390212.0    471832.0
2016-12-23  52.68  53.28  52.26  53.25  0.07    53.02   278830.0    472794.0
2016-12-27  53.29  54.1   53.03  53.89  0.88    53.9    273372.0    458071.0
2016-12-28  53.93  54.37  53.56  53.66  0.16    54.06   320087.0    459982.0
2016-12-29  53.66  54.21  53.46  53.85  0.29    53.77   356339.0    458989.0
2016-12-30  53.87  54.09  53.41  53.89  0.05    53.72   266762.0    457983.0

julia&gt; crude[&quot;2015&quot;, 6]  # retrive the sixth column from 2015
252x1 TS{Float64,Dates.Date}: 2015-01-02 to 2015-12-31

Index       Settle
2015-01-02  52.69
2015-01-05  50.04
2015-01-06  47.93
2015-01-07  48.65
2015-01-08  48.79
2015-01-09  48.36
2015-01-12  46.07
⋮
2015-12-21  34.74
2015-12-22  36.14
2015-12-23  37.5
2015-12-24  38.1
2015-12-28  36.81
2015-12-29  37.87
2015-12-30  36.6
2015-12-31  37.04

julia&gt; crude[&quot;/2017&quot;, 1:4]  # retrieve first four columns for all rows through 2017
974x4 TS{Float64,Dates.Date}: 2014-02-18 to 2017-12-29

Index       Open    High    Low     Last
2014-02-18  100.32  103.25  100.23  102.43
2014-02-19  103.14  103.8   102.4   103.31
2014-02-20  103.41  103.5   102.75  103.05
2014-02-21  102.87  102.92  101.69  102.2
2014-02-24  102.29  103.45  101.97  102.82
2014-02-25  102.8   102.84  101.02  101.83
2014-02-26  102.04  102.9   101.58  102.55
⋮
2017-12-19  57.3    57.64   57.16   57.49
2017-12-20  57.66   58.12   57.44   58.03
2017-12-21  58.02   58.38   57.63   58.23
2017-12-22  58.21   58.5    57.87   58.36
2017-12-26  58.4    60.01   58.32   59.8
2017-12-27  59.79   59.93   59.33   59.59
2017-12-28  59.53   59.94   59.44   59.89
2017-12-29  59.91   60.51   59.82   60.1

julia&gt; crude[&quot;2015/&quot;, end-2:end]  # retrieve last three columns for the year 2015 and on
1264x3 TS{Float64,Dates.Date}: 2015-01-02 to 2020-01-15

Index       Settle  Volume      Previous Day Open Interest
2015-01-02  52.69   284836.0    306406.0
2015-01-05  50.04   392285.0    303470.0
2015-01-06  47.93   478105.0    294918.0
2015-01-07  48.65   486387.0    279774.0
2015-01-08  48.79   397064.0    260411.0
2015-01-09  48.36   460540.0    232826.0
2015-01-12  46.07   424561.0    201262.0
⋮
2020-01-06  63.27   716888.0    388479.0
2020-01-07  62.7    572417.0    368505.0
2020-01-08  59.61   1.190608e6  355552.0
2020-01-09  59.56   738556.0    321112.0
2020-01-10  59.04   579590.0    281957.0
2020-01-13  58.08   572099.0    235115.0
2020-01-14  58.23   494837.0    185715.0
2020-01-15  57.81   426110.0    136771.0

julia&gt; crude[&quot;2014/2015&quot;, :Settle]  # retrieve settle prices for the years 2014 and 2015
473x1 TS{Float64,Dates.Date}: 2014-02-18 to 2015-12-31

Index       Settle
2014-02-18  102.43
2014-02-19  103.31
2014-02-20  102.92
2014-02-21  102.2
2014-02-24  102.82
2014-02-25  101.83
2014-02-26  102.59
⋮
2015-12-21  34.74
2015-12-22  36.14
2015-12-23  37.5
2015-12-24  38.1
2015-12-28  36.81
2015-12-29  37.87
2015-12-30  36.6
2015-12-31  37.04</code></pre><h2 id="Combining/Joining-1"><a class="docs-heading-anchor" href="#Combining/Joining-1">Combining/Joining</a><a class="docs-heading-anchor-permalink" href="#Combining/Joining-1" title="Permalink"></a></h2><pre><code class="language-julia-repl">julia&gt; gasoline = quandl(&quot;CHRIS/CME_RB1&quot;)
3588x8 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Open    High    Low     Last    Change  Settle  Volume    Previous Day Open Interest
2005-10-03  1.995   2.0     1.94    1.9488  NaN     1.9488  2774.0    14940.0
2005-10-04  1.91    1.9203  1.87    1.9203  NaN     1.9203  2533.0    15287.0
2005-10-05  1.928   1.93    1.832   1.8361  NaN     1.8361  3474.0    15297.0
2005-10-06  1.795   1.795   1.76    1.7867  NaN     1.7867  4675.0    15554.0
2005-10-07  1.79    1.8076  1.77    1.8076  NaN     1.8076  6554.0    15634.0
2005-10-10  1.78    1.7975  1.77    1.7971  NaN     1.7971  4434.0    15960.0
2005-10-11  1.8225  1.838   1.805   1.838   NaN     1.838   5185.0    17434.0
⋮
2020-01-06  1.7556  1.7943  1.7353  1.7438  0.0056  1.7544  51979.0   143515.0
2020-01-07  1.7471  1.7515  1.7057  1.7179  0.0322  1.7222  60065.0   139948.0
2020-01-08  1.7222  1.8011  1.6289  1.6564  0.0734  1.6488  96893.0   135983.0
2020-01-09  1.6547  1.6655  1.6302  1.6571  0.0039  1.6527  64516.0   124051.0
2020-01-10  1.6579  1.6786  1.6508  1.6596  0.0069  1.6596  67041.0   115888.0
2020-01-13  1.6668  1.6668  1.6383  1.661   0.0023  1.6573  70476.0   113512.0
2020-01-14  1.6644  1.6851  1.6502  1.6586  0.0029  1.6544  78431.0   105037.0
2020-01-15  1.6605  1.6617  1.6262  1.6494  0.0176  1.6368  70047.0   96016.0

julia&gt; gasoline_settles = cl(gasoline)
3588x1 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Settle
2005-10-03  1.9488
2005-10-04  1.9203
2005-10-05  1.8361
2005-10-06  1.7867
2005-10-07  1.8076
2005-10-10  1.7971
2005-10-11  1.838
⋮
2020-01-06  1.7544
2020-01-07  1.7222
2020-01-08  1.6488
2020-01-09  1.6527
2020-01-10  1.6596
2020-01-13  1.6573
2020-01-14  1.6544
2020-01-15  1.6368

julia&gt; gasoline_settles.fields = [:Gasoline]
1-element Array{Symbol,1}:
 :Gasoline

julia&gt; crude_settles = cl(crude)
1485x1 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Settle
2014-02-18  102.43
2014-02-19  103.31
2014-02-20  102.92
2014-02-21  102.2
2014-02-24  102.82
2014-02-25  101.83
2014-02-26  102.59
⋮
2020-01-06  63.27
2020-01-07  62.7
2020-01-08  59.61
2020-01-09  59.56
2020-01-10  59.04
2020-01-13  58.08
2020-01-14  58.23
2020-01-15  57.81

julia&gt; crude_settles.fields[1] = :Crude;

julia&gt; # full outer join
       A = ojoin(crude_settles, gasoline_settles)
3588x2 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Crude   Gasoline
2005-10-03  NaN     1.9488
2005-10-04  NaN     1.9203
2005-10-05  NaN     1.8361
2005-10-06  NaN     1.7867
2005-10-07  NaN     1.8076
2005-10-10  NaN     1.7971
2005-10-11  NaN     1.838
⋮
2020-01-06  63.27   1.7544
2020-01-07  62.7    1.7222
2020-01-08  59.61   1.6488
2020-01-09  59.56   1.6527
2020-01-10  59.04   1.6596
2020-01-13  58.08   1.6573
2020-01-14  58.23   1.6544
2020-01-15  57.81   1.6368

julia&gt; # hcat -- same as full outer join
       A = [crude_settles gasoline_settles]
3588x2 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Crude   Gasoline
2005-10-03  NaN     1.9488
2005-10-04  NaN     1.9203
2005-10-05  NaN     1.8361
2005-10-06  NaN     1.7867
2005-10-07  NaN     1.8076
2005-10-10  NaN     1.7971
2005-10-11  NaN     1.838
⋮
2020-01-06  63.27   1.7544
2020-01-07  62.7    1.7222
2020-01-08  59.61   1.6488
2020-01-09  59.56   1.6527
2020-01-10  59.04   1.6596
2020-01-13  58.08   1.6573
2020-01-14  58.23   1.6544
2020-01-15  57.81   1.6368</code></pre><pre><code class="language-julia"># can join to arrays of same size
A = [A randn(size(A,1))]</code></pre><pre><code class="language-none">3588x3 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Crude   Gasoline  A        
2005-10-03  NaN     1.9488    1.0599   
2005-10-04  NaN     1.9203    0.482    
2005-10-05  NaN     1.8361    1.1935   
2005-10-06  NaN     1.7867    0.8475   
2005-10-07  NaN     1.8076    -0.5439  
2005-10-10  NaN     1.7971    0.3014   
2005-10-11  NaN     1.838     0.8466   
⋮
2020-01-06  63.27   1.7544    -0.2762  
2020-01-07  62.7    1.7222    -0.4984  
2020-01-08  59.61   1.6488    0.9475   
2020-01-09  59.56   1.6527    0.8102   
2020-01-10  59.04   1.6596    -0.2255  
2020-01-13  58.08   1.6573    -1.6478  
2020-01-14  58.23   1.6544    -1.1928  
2020-01-15  57.81   1.6368    0.4599   
</code></pre><pre><code class="language-julia"># can join to single numbers as well
A = [A 0]</code></pre><pre><code class="language-none">3588x4 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Crude   Gasoline  A        A    
2005-10-03  NaN     1.9488    1.0599   0.0  
2005-10-04  NaN     1.9203    0.482    0.0  
2005-10-05  NaN     1.8361    1.1935   0.0  
2005-10-06  NaN     1.7867    0.8475   0.0  
2005-10-07  NaN     1.8076    -0.5439  0.0  
2005-10-10  NaN     1.7971    0.3014   0.0  
2005-10-11  NaN     1.838     0.8466   0.0  
⋮
2020-01-06  63.27   1.7544    -0.2762  0.0  
2020-01-07  62.7    1.7222    -0.4984  0.0  
2020-01-08  59.61   1.6488    0.9475   0.0  
2020-01-09  59.56   1.6527    0.8102   0.0  
2020-01-10  59.04   1.6596    -0.2255  0.0  
2020-01-13  58.08   1.6573    -1.6478  0.0  
2020-01-14  58.23   1.6544    -1.1928  0.0  
2020-01-15  57.81   1.6368    0.4599   0.0  
</code></pre><pre><code class="language-julia"># inner join -- keep points in time where both objects have observations
ijoin(crude_settles, gasoline_settles)</code></pre><pre><code class="language-none">1485x2 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Crude   Gasoline  
2014-02-18  102.43  2.8323    
2014-02-19  103.31  2.8247    
2014-02-20  102.92  2.8466    
2014-02-21  102.2   2.8333    
2014-02-24  102.82  2.8336    
2014-02-25  101.83  2.7981    
2014-02-26  102.59  2.7992    
⋮
2020-01-06  63.27   1.7544    
2020-01-07  62.7    1.7222    
2020-01-08  59.61   1.6488    
2020-01-09  59.56   1.6527    
2020-01-10  59.04   1.6596    
2020-01-13  58.08   1.6573    
2020-01-14  58.23   1.6544    
2020-01-15  57.81   1.6368    
</code></pre><pre><code class="language-julia"># left join
ljoin(crude_settles, gasoline_settles)</code></pre><pre><code class="language-none">1485x2 TS{Float64,Dates.Date}: 2014-02-18 to 2020-01-15

Index       Crude   Gasoline  
2014-02-18  102.43  2.8323    
2014-02-19  103.31  2.8247    
2014-02-20  102.92  2.8466    
2014-02-21  102.2   2.8333    
2014-02-24  102.82  2.8336    
2014-02-25  101.83  2.7981    
2014-02-26  102.59  2.7992    
⋮
2020-01-06  63.27   1.7544    
2020-01-07  62.7    1.7222    
2020-01-08  59.61   1.6488    
2020-01-09  59.56   1.6527    
2020-01-10  59.04   1.6596    
2020-01-13  58.08   1.6573    
2020-01-14  58.23   1.6544    
2020-01-15  57.81   1.6368    
</code></pre><pre><code class="language-julia"># right join
rjoin(crude_settles, gasoline_settles)</code></pre><pre><code class="language-none">3588x2 TS{Float64,Dates.Date}: 2005-10-03 to 2020-01-15

Index       Crude   Gasoline  
2005-10-03  NaN     1.9488    
2005-10-04  NaN     1.9203    
2005-10-05  NaN     1.8361    
2005-10-06  NaN     1.7867    
2005-10-07  NaN     1.8076    
2005-10-10  NaN     1.7971    
2005-10-11  NaN     1.838     
⋮
2020-01-06  63.27   1.7544    
2020-01-07  62.7    1.7222    
2020-01-08  59.61   1.6488    
2020-01-09  59.56   1.6527    
2020-01-10  59.04   1.6596    
2020-01-13  58.08   1.6573    
2020-01-14  58.23   1.6544    
2020-01-15  57.81   1.6368    
</code></pre><pre><code class="language-julia"># vertical concatenation also implemented!
fracker_era = [crude[&quot;/2013&quot;]; crude[&quot;2016/&quot;]]</code></pre><pre><code class="language-none">1012x8 TS{Float64,Dates.Date}: 2016-01-04 to 2020-01-15

Index       Open   High   Low    Last   Change  Settle  Volume      Previous Day Open Interest  
2016-01-04  37.6   38.39  36.33  36.88  0.28    36.76   426831.0    437108.0                    
2016-01-05  36.9   37.1   35.74  36.14  0.79    35.97   408389.0    437506.0                    
2016-01-06  36.18  36.39  33.77  34.06  2.0     33.97   528347.0    436383.0                    
2016-01-07  34.09  34.26  32.1   33.26  0.7     33.27   590277.0    431502.0                    
2016-01-08  33.3   34.34  32.64  32.88  0.11    33.16   567056.0    404315.0                    
2016-01-11  32.94  33.2   30.88  31.13  1.75    31.41   619080.0    337703.0                    
2016-01-12  30.44  32.21  29.93  30.58  0.97    30.44   620051.0    283331.0                    
⋮
2020-01-06  63.71  64.72  62.64  62.83  0.22    63.27   716888.0    388479.0                    
2020-01-07  62.91  63.15  62.11  62.69  0.57    62.7    572417.0    368505.0                    
2020-01-08  62.84  65.65  59.15  59.98  3.09    59.61   1.190608e6  355552.0                    
2020-01-09  59.99  60.31  58.66  59.59  0.05    59.56   738556.0    321112.0                    
2020-01-10  59.61  59.78  58.85  59.12  0.52    59.04   579590.0    281957.0                    
2020-01-13  59.04  59.27  57.91  58.09  0.96    58.08   572099.0    235115.0                    
2020-01-14  58.03  58.72  57.72  58.14  0.15    58.23   494837.0    185715.0                    
2020-01-15  58.2   58.36  57.36  58.1   0.42    57.81   426110.0    136771.0                    
</code></pre><h2 id="Collapsing/Aggregating-1"><a class="docs-heading-anchor" href="#Collapsing/Aggregating-1">Collapsing/Aggregating</a><a class="docs-heading-anchor-permalink" href="#Collapsing/Aggregating-1" title="Permalink"></a></h2><pre><code class="language-julia"># Get the last values observed at the end of each month
eom(crude)</code></pre><pre><code class="language-none">71x8 TS{Float64,Dates.Date}: 2014-02-28 to 2019-12-31

Index       Open    High    Low     Last    Change  Settle  Volume      Previous Day Open Interest  
2014-02-28  102.15  102.96  101.8   102.55  0.19    102.59  163899.0    307986.0                    
2014-03-31  101.69  101.97  100.88  101.58  0.09    101.58  154973.0    334474.0                    
2014-04-30  100.76  100.76  99.35   99.74   1.54    99.74   294775.0    341594.0                    
2014-05-30  103.51  103.56  102.4   102.7   0.87    102.71  185506.0    303623.0                    
2014-06-30  105.69  105.76  104.66  105.37  0.37    105.37  229049.0    293795.0                    
2014-07-31  99.47   99.85   97.6    98.15   2.1     98.17   335785.0    308055.0                    
2014-08-29  94.56   96.0    94.48   95.96   1.41    95.96   234972.0    280113.0                    
⋮
2019-05-31  56.46   56.61   53.05   53.36   3.09    53.5    1.019958e6  376374.0                    
2019-06-28  59.22   59.8    57.75   58.2    0.96    58.47   546625.0    334543.0                    
2019-07-31  58.34   58.82   57.81   57.89   0.53    58.58   604858.0    406009.0                    
2019-08-30  56.63   56.72   54.55   55.16   1.61    55.1    698554.0    373402.0                    
2019-09-30  56.54   56.57   53.98   54.24   1.84    54.07   520489.0    380790.0                    
2019-10-31  54.9    55.59   53.71   54.14   0.88    54.18   664901.0    411933.0                    
2019-11-29  58.13   58.3    55.02   55.42   2.94    55.17   716575.0    456055.0                    
2019-12-31  61.68   61.88   60.63   61.21   0.62    61.06   490241.0    411296.0                    
</code></pre><pre><code class="language-julia"># (NOTE: the `eom` function returns a Boolean Vector when passed a Vector of TimeTypes)
[crude.index eom(crude.index)]</code></pre><pre><code class="language-none">1485×2 Array{Any,2}:
 2014-02-18  false
 2014-02-19  false
 2014-02-20  false
 2014-02-21  false
 2014-02-24  false
 2014-02-25  false
 2014-02-26  false
 2014-02-27  false
 2014-02-28   true
 2014-03-03  false
 ⋮                
 2020-01-03  false
 2020-01-06  false
 2020-01-07  false
 2020-01-08  false
 2020-01-09  false
 2020-01-10  false
 2020-01-13  false
 2020-01-14  false
 2020-01-15  false</code></pre><pre><code class="language-julia"># monthly averages for all columns
collapse(crude, eom(crude.index), fun=mean)</code></pre><pre><code class="language-none">71x8 TS{Float64,Dates.Date}: 2014-02-28 to 2019-12-31

Index       Open      High      Low       Last      Change  Settle    Volume       Previous Day Open Interest  
2014-02-28  102.3989  103.1889  101.6878  102.5711  0.7444  102.5656  148776.5556  225805.7778                 
2014-03-31  100.5271  101.34    99.649    100.5243  0.959   100.509   206373.7143  231903.8095                 
2014-04-30  102.0333  102.7633  101.3405  102.0281  0.7486  102.0348  233282.8095  257696.381                  
2014-05-30  101.7     102.3552  101.2162  101.8033  0.6467  101.7948  217432.9524  250507.7143                 
2014-06-30  105.0576  105.7629  104.4638  105.1448  0.4662  105.1467  206555.9048  224720.4286                 
2014-07-31  102.5386  103.1968  101.5936  102.3782  0.795   102.3918  240224.6818  227645.2273                 
2014-08-29  95.9971   96.7362   95.3      96.1643   0.7681  96.0762   228620.4286  218962.7143                 
⋮
2019-05-31  61.2995   61.9764   60.0618   60.8673   0.8941  60.8655   729461.9091  317816.3636                 
2019-06-28  54.53     55.5395   53.716    54.7415   0.8935  54.7065   615311.3     265630.05                   
2019-07-31  57.6964   58.5318   56.8555   57.5859   0.8114  57.5464   531061.1364  272989.6364                 
2019-08-30  55.0186   55.9482   53.8891   54.93     1.2995  54.8441   629838.3182  299615.3182                 
2019-09-30  57.4045   58.144    55.977    56.957    1.3045  56.967    644389.25    280172.25                   
2019-10-31  54.0148   54.7313   53.147    54.0109   0.5848  54.0057   493907.6522  300861.9565                 
2019-11-29  57.034    57.813    56.217    57.0905   0.8775  57.07     463655.9     324869.85                   
2019-12-31  59.5745   60.2685   59.1545   59.848    0.5035  59.8735   422463.45    325668.5                    
</code></pre><pre><code class="language-julia"># Get the total yearly trading volume of crude oil
collapse(crude[:Volume], eoy(crude.index), fun=sum)</code></pre><pre><code class="language-none">6x1 TS{Float64,Dates.Date}: 2014-12-31 to 2019-12-31

Index       Volume        
2014-12-31  5.5485488e7   
2015-12-31  9.1545306e7   
2016-12-30  1.3244229e8   
2017-12-29  1.4530684e8   
2018-12-31  1.46933685e8  
2019-12-31  1.45134633e8  
</code></pre><h1 id="Visualization-1"><a class="docs-heading-anchor" href="#Visualization-1">Visualization</a><a class="docs-heading-anchor-permalink" href="#Visualization-1" title="Permalink"></a></h1><p>Visualization capabilities are made available by the plotting API&#39;s made available by the impressively thorough and all-encompassing <a href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> package. Temporal uses the <a href="https://github.com/JuliaPlots/RecipesBase.jl">RecipesBase</a> package to enable use of the whole suite of <code>Plots.jl</code> functionality while still permitting Temporal to precompile. The package <a href="https://github.com/dysonance/Indicators.jl">Indicators</a> package is used to compute the moving averages seen below.</p><pre><code class="language-"># download historical prices for crude oil futures and subset
X = quandl(&quot;CHRIS/CME_CL1&quot;)
subset = &quot;2012/&quot;
x = cl(X)[subset]
x.fields[1] = :CrudeFutures

# merge with some technical indicators
D = [x sma(x,n=200) ema(x,n=50)]

# visualize the multivariate time series object
plotlyjs()
ℓ = @layout [ a{0.7h}; b{0.3h} ]
plot(D, c=[:black :orange :cyan], w=[4 2 2], layout=ℓ, subplot=1)
plot!(wma(x,n=25), c=:red, w=2, subplot=1)
bar!(X[&quot;2012/&quot;,:Volume], c=:grey, alpha=0.5, layout=ℓ, subplot=2)</code></pre><p><img src="https://raw.githubusercontent.com/dysonance/Temporal.jl/master/examples/visualization_example1.png" alt="alt text"/></p><h1 id="Miscellany-1"><a class="docs-heading-anchor" href="#Miscellany-1">Miscellany</a><a class="docs-heading-anchor-permalink" href="#Miscellany-1" title="Permalink"></a></h1><h2 id="Acknowledgements-1"><a class="docs-heading-anchor" href="#Acknowledgements-1">Acknowledgements</a><a class="docs-heading-anchor-permalink" href="#Acknowledgements-1" title="Permalink"></a></h2><p>This package is inspired mostly by R&#39;s <a href="https://github.com/joshuaulrich/xts">xts</a> package and Python&#39;s <a href="http://pandas.pydata.org/">pandas</a> package. Both packages expedite the often tedious process of acquiring &amp; munging data and provide impressively well-developed and feature-rick toolkits for analysis.</p><p>Many thanks also to the developers/contributors to the current Julia <a href="https://github.com/JuliaStats/TimeSeries.jl">TimeSeries</a>, whose code I have referred to countless times as a resource while developing this package.</p><h2 id="Temporal-vs.-TimeSeries-1"><a class="docs-heading-anchor" href="#Temporal-vs.-TimeSeries-1">Temporal vs. TimeSeries</a><a class="docs-heading-anchor-permalink" href="#Temporal-vs.-TimeSeries-1" title="Permalink"></a></h2><p>The existing Julia type for representing time series objects is a reasonably reliable and robust solution. However, the motivation for developing <code>Temporal</code> and its flagship <code>TS</code> type was driven by a small number of design decisions and semantics used in <code>TimeSeries</code> that could arguably/subjectively prove inconvenient. A few that stood out as sufficient motivation for a new package are given below.</p><ul><li>A key difference is that Temporal&#39;s <code>TS</code> type is defined to be <code>mutable</code>, whereas the TimeSeries <code>TimeArray</code> type is defined to be <code>immutable</code><ul><li>Since in Julia, an object of <code>immutable</code> type &quot;is passed around (both in assignment statements and in function calls) by copying, whereas a mutable type is passed around by reference&quot; (see <a href="https://docs.julialang.org/en/release-0.4/manual/types/#immutable-composite-types">here</a>), the <code>TS</code> type can be a more memory-efficient option<ul><li>This assumes that proper care is taken to modify the object only when desired, a consideration inseparable from pass-by-reference semantics</li></ul></li><li>Additionally, making the <code>TS</code> object <code>mutable</code> should provide greater ease &amp; adaptability when modifying the object&#39;s fields</li></ul></li><li>Its indexing functionality operates differently than expected for the <code>Array</code> type, such that the <code>TimeArray</code> cannot be indexed in the same manner<ul><li>For example, indexing columns must be done with <code>String</code>s, requiring <code>Array</code>-like indexing syntax to be done on the underlying <code>values</code> member of the object</li><li>Additionally, this difference in indexing syntax could cause confusion for newcomers and create unnecessary headaches in basic data munging and indexing tasks</li><li>The syntax is similar to that of the <code>DataFrame</code> class in Python. While this a familiar framework, R&#39;s <code>xts</code> class is functionally equivalent to the matrix clas</li><li>In like fashion, a goal of this package is for the <code>TS</code> type to behave like an <code>Array</code> as much as possible, but offer more flexibility when joining/merging through the use of *temporal- indexing, to simplify challenges uniquely associated with managing time series data structures</li></ul></li><li>Another difference between <code>TS</code> and <code>TimeSeries</code> lies in the existence of a &quot;metadata&quot; holder for the object<ul><li>While this feature may be useful in some cases, the <code>TS</code> object will likely occupy less memory than an equivalent <code>TimeSeries</code> object, simply because it does not hold any metadata about the object</li><li>In cases where such underlying metadata is of use, there are likely ways to access it without attaching it to the object</li></ul></li><li>A deliberate stylistic decision was made in giving Temporal&#39;s time series type a compact name<ul><li>While the <code>TimeSeries</code> package names its type <code>TimeArray</code>, typing out nine characters can slow one down when prototyping in the REPL</li><li>Creating a type alias is certainly a perfectly acceptable workaround, but only having to type <code>TS</code> (or <code>ts</code>) when constructing the type can save a considerable amount of time if you&#39;re experimenting in the REPL for any length of time</li><li>Additionally, if you don&#39;t want to type out field names every time you instantiate a new time series, the <code>TS</code> class will auto-populate field names for you</li></ul></li></ul><p>So in all, the differences between the two classes are relatively stylistic, but over time will hopefully increase efficiency both when writing and running code.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../calculation/">Methods »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 16 January 2020 11:21">Thursday 16 January 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
