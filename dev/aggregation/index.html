<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Aggregation · Temporal</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Temporal</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../overview/">Overview</a></li><li><span class="tocitem">Calculations</span><ul><li><a class="tocitem" href="../calculation/">Methods</a></li><li class="is-active"><a class="tocitem" href>Aggregation</a><ul class="internal"><li><a class="tocitem" href="#Sampling-1"><span>Sampling</span></a></li><li><a class="tocitem" href="#Collapsing-1"><span>Collapsing</span></a></li><li><a class="tocitem" href="#Summarizing-1"><span>Summarizing</span></a></li></ul></li></ul></li><li><span class="tocitem">Data</span><ul><li><a class="tocitem" href="../io/">I/O</a></li><li><a class="tocitem" href="../indexing/">Subsetting</a></li><li><a class="tocitem" href="../combining/">Combining</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Calculations</a></li><li class="is-active"><a href>Aggregation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Aggregation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/aggregation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Aggregation-1"><a class="docs-heading-anchor" href="#Aggregation-1">Aggregation</a><a class="docs-heading-anchor-permalink" href="#Aggregation-1" title="Permalink"></a></h1><h2 id="Sampling-1"><a class="docs-heading-anchor" href="#Sampling-1">Sampling</a><a class="docs-heading-anchor-permalink" href="#Sampling-1" title="Permalink"></a></h2><h3 id="Weekdays-1"><a class="docs-heading-anchor" href="#Weekdays-1">Weekdays</a><a class="docs-heading-anchor-permalink" href="#Weekdays-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Temporal.mondays" href="#Temporal.mondays"><code>Temporal.mondays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mondays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Mondays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.tuesdays" href="#Temporal.tuesdays"><code>Temporal.tuesdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tuesdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Tuesdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.wednesdays" href="#Temporal.wednesdays"><code>Temporal.wednesdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">wednesdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Wednesdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.thursdays" href="#Temporal.thursdays"><code>Temporal.thursdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">thursdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Thursdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.fridays" href="#Temporal.fridays"><code>Temporal.fridays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fridays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Fridays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.saturdays" href="#Temporal.saturdays"><code>Temporal.saturdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">saturdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Saturdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.sundays" href="#Temporal.sundays"><code>Temporal.sundays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">sundays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Sundays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L66-L70">source</a></section></article><h3 id="Interval-Boundaries-1"><a class="docs-heading-anchor" href="#Interval-Boundaries-1">Interval Boundaries</a><a class="docs-heading-anchor-permalink" href="#Interval-Boundaries-1" title="Permalink"></a></h3><h4 id="Weekly-1"><a class="docs-heading-anchor" href="#Weekly-1">Weekly</a><a class="docs-heading-anchor-permalink" href="#Weekly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.bow" href="#Temporal.bow"><code>Temporal.bow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bow(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the weeks of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the week are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior week are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L85-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eow" href="#Temporal.eow"><code>Temporal.eow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eow(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the weeks of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the week are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new week are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L95-L102">source</a></section></article><h4 id="Monthly-1"><a class="docs-heading-anchor" href="#Monthly-1">Monthly</a><a class="docs-heading-anchor-permalink" href="#Monthly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.bom" href="#Temporal.bom"><code>Temporal.bom</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bom(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the months of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the month are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior month are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L105-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eom" href="#Temporal.eom"><code>Temporal.eom</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eom(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the months of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the month are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new month are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L115-L122">source</a></section></article><h4 id="Quarterly-1"><a class="docs-heading-anchor" href="#Quarterly-1">Quarterly</a><a class="docs-heading-anchor-permalink" href="#Quarterly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.boq" href="#Temporal.boq"><code>Temporal.boq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boq(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the quarters of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the quarter are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior quarter are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L125-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eoq" href="#Temporal.eoq"><code>Temporal.eoq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eoq(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the quarters of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the quarter are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new quarter are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L135-L142">source</a></section></article><h4 id="Yearly-1"><a class="docs-heading-anchor" href="#Yearly-1">Yearly</a><a class="docs-heading-anchor-permalink" href="#Yearly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.boy" href="#Temporal.boy"><code>Temporal.boy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boy(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the years of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the year are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior year are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L145-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eoy" href="#Temporal.eoy"><code>Temporal.eoy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eoy(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the years of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the year are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new year are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L155-L162">source</a></section></article><h2 id="Collapsing-1"><a class="docs-heading-anchor" href="#Collapsing-1">Collapsing</a><a class="docs-heading-anchor-permalink" href="#Collapsing-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Temporal.collapse" href="#Temporal.collapse"><code>Temporal.collapse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">collapse(x::TS{V,T}, at::Function; fun::Function=last, args...)::TS{V,T} where {V,T}</code></pre><p>Compute the function <code>fun</code> over period boundaries defined by <code>at</code> (e.g. <code>eom</code>, <code>boq</code>, etc.) and returng a time series of the results.</p><p>Keyword arguments (<code>args...</code>) are passed to the function <code>fun</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L184-L190">source</a></section></article><pre><code class="language-julia-repl">julia&gt; using Temporal, Statistics, Dates

julia&gt; X = TS(randn(100, 4))
100x4 TS{Float64,Dates.Date}: 2019-09-10 to 2019-12-18

Index       A        B        C        D
2019-09-10  1.408    -1.1322  0.1089   -0.0098
2019-09-11  1.0517   0.6333   1.5263   0.6739
2019-09-12  0.1032   1.421    -0.7046  0.0464
2019-09-13  0.4984   0.524    0.8709   -0.2199
2019-09-14  -1.6193  1.2555   0.8713   1.1116
2019-09-15  1.1955   0.0143   -0.4649  0.8897
2019-09-16  -0.9354  0.231    -1.2353  -0.4033
⋮
2019-12-11  0.3284   -0.9906  -1.2946  1.512
2019-12-12  -0.002   -0.6225  0.9681   1.7235
2019-12-13  0.1856   0.527    0.3269   -0.4176
2019-12-14  1.3645   0.8526   -0.9456  -0.4699
2019-12-15  -0.3791  0.0631   0.4853   0.4071
2019-12-16  0.0852   -0.9686  -2.3618  0.6792
2019-12-17  -0.05    0.4691   1.3157   -1.94
2019-12-18  0.7054   -0.632   1.3701   1.8384

julia&gt; collapse(X, eom, fun=mean)
3x4 TS{Float64,Dates.Date}: 2019-09-30 to 2019-11-30

Index       A        B       C       D
2019-09-30  -0.0836  0.1743  0.1112  0.1229
2019-10-31  0.0128   0.0026  0.1137  0.2576
2019-11-30  0.073    0.2493  0.2943  0.0536

julia&gt; last_month = string(X.index[end])[1:7]
&quot;2019-12&quot;

julia&gt; mean(X[last_month])
0.09379122604983177</code></pre><h2 id="Summarizing-1"><a class="docs-heading-anchor" href="#Summarizing-1">Summarizing</a><a class="docs-heading-anchor-permalink" href="#Summarizing-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Temporal.apply" href="#Temporal.apply"><code>Temporal.apply</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">apply(x::TS{V}, dim::Int=1; fun=sum) where {V}</code></pre><p>Apply function <code>fun</code> across dimension <code>dim</code> of a time series <code>x</code>.</p><ul><li>If <code>dim</code> is 1, then apply <code>fun</code> to each row of <code>x</code>, returning a time series (<code>TS</code>) object of the results</li><li>If <code>dim</code> is 2, then apply <code>fun</code> to each column of <code>x</code>, returning an <code>Array</code> of the results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/298386427a08c4e4d4f0d298ccdafa2e1555abee/src/collapse.jl#L196-L203">source</a></section></article><pre><code class="language-julia-repl">julia&gt; using Temporal, Statistics

julia&gt; X = TS(randn(100, 4))
100x4 TS{Float64,Dates.Date}: 2019-09-10 to 2019-12-18

Index       A        B        C        D
2019-09-10  -0.6707  0.5257   0.6643   -0.3159
2019-09-11  -1.677   -0.3016  -0.3742  0.7225
2019-09-12  -1.0425  0.1674   -1.2667  -0.4097
2019-09-13  -0.0256  0.2018   -0.8482  -0.9491
2019-09-14  0.3472   0.3016   -0.7894  0.7275
2019-09-15  0.2477   0.6251   -0.7763  1.0452
2019-09-16  0.0671   -2.2906  -0.0327  -0.4777
⋮
2019-12-11  1.5178   0.0626   -1.228   -0.6447
2019-12-12  -0.4675  -0.6753  -1.7641  0.5244
2019-12-13  1.3075   1.9789   1.2396   1.1915
2019-12-14  1.6201   0.1419   0.1243   0.755
2019-12-15  -0.7521  -1.0128  1.165    -1.2235
2019-12-16  0.7035   -0.41    -1.3183  1.4711
2019-12-17  -0.3593  -1.702   -0.9452  -1.5811
2019-12-18  0.6713   -0.2173  -0.6259  0.722

julia&gt; apply(X, 1, fun=sum)
100x1 TS{Float64,Dates.Date}: 2019-09-10 to 2019-12-18

Index       Sum
2019-09-10  0.2034
2019-09-11  -1.6302
2019-09-12  -2.5515
2019-09-13  -1.6211
2019-09-14  0.5868
2019-09-15  1.1416
2019-09-16  -2.734
⋮
2019-12-11  -0.2923
2019-12-12  -2.3824
2019-12-13  5.7175
2019-12-14  2.6413
2019-12-15  -1.8234
2019-12-16  0.4462
2019-12-17  -4.5876
2019-12-18  0.55

julia&gt; apply(X, 2, fun=sum)
1×4 LinearAlgebra.Adjoint{Float64,Array{Float64,1}}:
 -10.0379  -3.47233  -5.46262  11.5445</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../calculation/">« Methods</a><a class="docs-footer-nextpage" href="../io/">I/O »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 18 December 2019 02:39">Wednesday 18 December 2019</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
