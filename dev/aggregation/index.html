<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Aggregation · Temporal</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Temporal</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../overview/">Overview</a></li><li><span class="tocitem">Calculations</span><ul><li><a class="tocitem" href="../calculation/">Methods</a></li><li class="is-active"><a class="tocitem" href>Aggregation</a><ul class="internal"><li><a class="tocitem" href="#Sampling-1"><span>Sampling</span></a></li><li><a class="tocitem" href="#Collapsing-1"><span>Collapsing</span></a></li><li><a class="tocitem" href="#Summarizing-1"><span>Summarizing</span></a></li></ul></li></ul></li><li><span class="tocitem">Data</span><ul><li><a class="tocitem" href="../io/">I/O</a></li><li><a class="tocitem" href="../indexing/">Subsetting</a></li><li><a class="tocitem" href="../combining/">Combining</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Calculations</a></li><li class="is-active"><a href>Aggregation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Aggregation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/aggregation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Aggregation-1"><a class="docs-heading-anchor" href="#Aggregation-1">Aggregation</a><a class="docs-heading-anchor-permalink" href="#Aggregation-1" title="Permalink"></a></h1><h2 id="Sampling-1"><a class="docs-heading-anchor" href="#Sampling-1">Sampling</a><a class="docs-heading-anchor-permalink" href="#Sampling-1" title="Permalink"></a></h2><h3 id="Weekdays-1"><a class="docs-heading-anchor" href="#Weekdays-1">Weekdays</a><a class="docs-heading-anchor-permalink" href="#Weekdays-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Temporal.mondays" href="#Temporal.mondays"><code>Temporal.mondays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mondays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Mondays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.tuesdays" href="#Temporal.tuesdays"><code>Temporal.tuesdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tuesdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Tuesdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.wednesdays" href="#Temporal.wednesdays"><code>Temporal.wednesdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">wednesdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Wednesdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.thursdays" href="#Temporal.thursdays"><code>Temporal.thursdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">thursdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Thursdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.fridays" href="#Temporal.fridays"><code>Temporal.fridays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fridays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Fridays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.saturdays" href="#Temporal.saturdays"><code>Temporal.saturdays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">saturdays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Saturdays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.sundays" href="#Temporal.sundays"><code>Temporal.sundays</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">sundays(x::TS)</code></pre><p>Return a time series containing all observations occuring on Sundays of the given <code>TS</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L66-L70">source</a></section></article><h3 id="Interval-Boundaries-1"><a class="docs-heading-anchor" href="#Interval-Boundaries-1">Interval Boundaries</a><a class="docs-heading-anchor-permalink" href="#Interval-Boundaries-1" title="Permalink"></a></h3><h4 id="Weekly-1"><a class="docs-heading-anchor" href="#Weekly-1">Weekly</a><a class="docs-heading-anchor-permalink" href="#Weekly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.bow" href="#Temporal.bow"><code>Temporal.bow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bow(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the weeks of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the week are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior week are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L85-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eow" href="#Temporal.eow"><code>Temporal.eow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eow(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the weeks of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the week are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new week are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L95-L102">source</a></section></article><h4 id="Monthly-1"><a class="docs-heading-anchor" href="#Monthly-1">Monthly</a><a class="docs-heading-anchor-permalink" href="#Monthly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.bom" href="#Temporal.bom"><code>Temporal.bom</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bom(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the months of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the month are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior month are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L105-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eom" href="#Temporal.eom"><code>Temporal.eom</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eom(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the months of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the month are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new month are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L115-L122">source</a></section></article><h4 id="Quarterly-1"><a class="docs-heading-anchor" href="#Quarterly-1">Quarterly</a><a class="docs-heading-anchor-permalink" href="#Quarterly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.boq" href="#Temporal.boq"><code>Temporal.boq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boq(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the quarters of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the quarter are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior quarter are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L125-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eoq" href="#Temporal.eoq"><code>Temporal.eoq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eoq(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the quarters of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the quarter are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new quarter are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L135-L142">source</a></section></article><h4 id="Yearly-1"><a class="docs-heading-anchor" href="#Yearly-1">Yearly</a><a class="docs-heading-anchor-permalink" href="#Yearly-1" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="Temporal.boy" href="#Temporal.boy"><code>Temporal.boy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boy(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the beginnings of the years of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the year are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the previous index is a prior year are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L145-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Temporal.eoy" href="#Temporal.eoy"><code>Temporal.eoy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eoy(x::TS; cal::Bool=false)</code></pre><p>Return a time series containing all observations occuring at the ends of the years of the input.</p><ul><li>If <code>cal</code> is <code>false</code>, only observations occurring the last calendar day of the year are returned</li><li>If <code>cal</code> is <code>true</code>, all observation for which the next index is a new year are returned</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L155-L162">source</a></section></article><h2 id="Collapsing-1"><a class="docs-heading-anchor" href="#Collapsing-1">Collapsing</a><a class="docs-heading-anchor-permalink" href="#Collapsing-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Temporal.collapse" href="#Temporal.collapse"><code>Temporal.collapse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">collapse(x::TS, at::Function; fun::Function=last, args...)::TS</code></pre><p>Compute the function <code>fun</code> over period boundaries defined by <code>at</code> (e.g. <code>eom</code>, <code>boq</code>, etc.) and returng a time series of the results.</p><p>Keyword arguments (<code>args...</code>) are passed to the function <code>fun</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L184-L190">source</a></section></article><pre><code class="language-julia-repl">julia&gt; using Temporal, Statistics, Dates

julia&gt; X = TS(randn(100, 4))
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A        B        C        D
2019-10-09  -0.7302  0.2601   0.4975   -0.5286
2019-10-10  0.6983   1.0646   0.6224   -0.5284
2019-10-11  -0.7792  0.829    0.7014   -0.9417
2019-10-12  0.2502   -1.9908  1.193    -1.8558
2019-10-13  -0.3931  0.7053   -0.8707  0.3862
2019-10-14  1.0358   -1.2234  1.1985   0.7152
2019-10-15  -0.2894  -1.0319  -1.231   -0.9524
⋮
2020-01-09  0.2952   -0.6848  -0.8419  -0.6214
2020-01-10  -1.6163  -1.4597  -0.2946  0.8694
2020-01-11  -0.6942  0.0839   -0.9361  -1.3343
2020-01-12  0.6498   2.5684   0.4752   -0.4972
2020-01-13  0.0148   0.9143   0.2683   1.2115
2020-01-14  2.2422   -0.9324  0.6211   0.7767
2020-01-15  2.629    -0.8005  1.1533   -1.0565
2020-01-16  0.5788   0.49     0.0718   0.6368

julia&gt; collapse(X, eom, fun=mean)
3x4 TS{Float64,Dates.Date}: 2019-10-31 to 2019-12-31

Index       A        B        C        D
2019-10-31  -0.1326  -0.2095  0.1652   -0.1263
2019-11-30  0.1438   0.2357   -0.2109  0.0881
2019-12-31  0.27     0.0928   0.0365   0.0151

julia&gt; last_month = string(X.index[end])[1:7]
&quot;2020-01&quot;

julia&gt; mean(X[last_month])
0.2151089552061221</code></pre><h2 id="Summarizing-1"><a class="docs-heading-anchor" href="#Summarizing-1">Summarizing</a><a class="docs-heading-anchor-permalink" href="#Summarizing-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Temporal.apply" href="#Temporal.apply"><code>Temporal.apply</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">apply(x::TS, dim::Int=1; fun::Function=sum)</code></pre><p>Apply function <code>fun</code> across dimension <code>dim</code> of a time series <code>x</code>.</p><ul><li>If <code>dim</code> is 1, then apply <code>fun</code> to each row of <code>x</code>, returning a time series (<code>TS</code>) object of the results</li><li>If <code>dim</code> is 2, then apply <code>fun</code> to each column of <code>x</code>, returning an <code>Array</code> of the results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dysonance/Temporal.jl/blob/421ab07e077b2fb671d67bd4e9532afbf0879c24/src/data/collapse.jl#L196-L203">source</a></section></article><pre><code class="language-julia-repl">julia&gt; using Temporal, Statistics

julia&gt; X = TS(randn(100, 4))
100x4 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       A        B        C        D
2019-10-09  -0.0106  -1.11    0.8115   -0.9157
2019-10-10  1.5216   -1.1414  1.0558   -0.4153
2019-10-11  -0.5895  0.346    1.1849   0.2054
2019-10-12  -0.3383  -0.551   -0.3833  -0.732
2019-10-13  -1.8687  3.3919   0.7779   -0.0416
2019-10-14  -1.2293  -0.248   -2.2012  -1.6443
2019-10-15  0.8946   -0.1842  -1.6318  0.3735
⋮
2020-01-09  -0.1703  0.6038   -1.4672  0.9032
2020-01-10  0.5112   1.0764   -0.8032  1.085
2020-01-11  -0.3998  -0.2764  -1.4942  0.3238
2020-01-12  0.4184   1.0034   -0.0818  0.2902
2020-01-13  -1.4466  -0.4011  -0.2231  0.2227
2020-01-14  0.2752   0.184    0.6191   0.1031
2020-01-15  1.381    0.6889   -0.6406  0.34
2020-01-16  -0.1414  0.5668   0.6199   -0.4664

julia&gt; apply(X, 1, fun=sum)
100x1 TS{Float64,Dates.Date}: 2019-10-09 to 2020-01-16

Index       Sum
2019-10-09  -1.2248
2019-10-10  1.0206
2019-10-11  1.1468
2019-10-12  -2.0045
2019-10-13  2.2595
2019-10-14  -5.3229
2019-10-15  -0.5479
⋮
2020-01-09  -0.1305
2020-01-10  1.8693
2020-01-11  -1.8465
2020-01-12  1.6303
2020-01-13  -1.848
2020-01-14  1.1815
2020-01-15  1.7693
2020-01-16  0.5789

julia&gt; apply(X, 2, fun=sum)
1×4 LinearAlgebra.Adjoint{Float64,Array{Float64,1}}:
 -1.55642  9.57397  -1.66947  2.31548</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../calculation/">« Methods</a><a class="docs-footer-nextpage" href="../io/">I/O »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 16 January 2020 11:21">Thursday 16 January 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
