<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Indexing · Temporal</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Temporal</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../ts/">TS Object</a></li><li><a class="toctext" href="../operations/">Operations</a></li><li><a class="toctext" href="../io/">Data Access</a></li><li><span class="toctext">Data Manipulation</span><ul><li class="current"><a class="toctext" href>Indexing</a><ul class="internal"><li><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Numerical-Indexing-1">Numerical Indexing</a></li><li><a class="toctext" href="#Symbol-Indexing-1">Symbol Indexing</a></li><li><a class="toctext" href="#String-Indexing-1">String Indexing</a></li></ul></li><li><a class="toctext" href="../combining/">Joins</a></li><li><a class="toctext" href="../aggregation/">Aggregation</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Data Manipulation</li><li><a href>Indexing</a></li></ul><a class="edit-page" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/indexing.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Indexing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Indexing-1" href="#Indexing-1">Indexing</a></h1><h2><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h2><p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p><p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p><p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, &quot;give me all the observations from the year <em>2017</em> in the <em>price</em> column.&quot;</p><h2><a class="nav-anchor" id="Numerical-Indexing-1" href="#Numerical-Indexing-1">Numerical Indexing</a></h2><h3><a class="nav-anchor" id="Integer-1" href="#Integer-1">Integer</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A         B         C         D
2018-06-03  100.0938  99.9756   100.0987  100.7806
2018-06-04  100.551   100.6033  101.7715  99.2185
2018-06-05  98.9908   101.4017  100.9409  99.0617
2018-06-06  99.5933   102.2033  100.9638  97.8977
2018-06-07  99.2555   101.3283  101.4277  98.1331
2018-06-08  98.664    101.4307  102.1024  97.7055
2018-06-09  97.904    101.5094  101.767   98.7202
⋮
2019-02-02  96.975    102.6309  90.7092   98.1319
2019-02-03  97.5941   102.6457  91.2462   98.9044
2019-02-04  97.3104   101.4412  92.2807   99.1569
2019-02-05  98.2746   102.7778  91.6604   101.5017
2019-02-06  98.7025   102.0273  90.8455   101.0204
2019-02-07  97.6673   101.9123  92.3731   100.826
2019-02-08  98.3303   101.4946  91.7502   100.3795
2019-02-09  99.3022   101.8762  90.3977   102.0821

julia&gt; X[1]
1x4 TS{Float64,Dates.Date}: 2018-06-03 to 2018-06-03

Index       A         B        C         D
2018-06-03  100.0938  99.9756  100.0987  100.7806

julia&gt; X[1, :]
1x4 TS{Float64,Dates.Date}: 2018-06-03 to 2018-06-03

Index       A         B        C         D
2018-06-03  100.0938  99.9756  100.0987  100.7806

julia&gt; X[:, 1]
252x1 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A
2018-06-03  100.0938
2018-06-04  100.551
2018-06-05  98.9908
2018-06-06  99.5933
2018-06-07  99.2555
2018-06-08  98.664
2018-06-09  97.904
⋮
2019-02-02  96.975
2019-02-03  97.5941
2019-02-04  97.3104
2019-02-05  98.2746
2019-02-06  98.7025
2019-02-07  97.6673
2019-02-08  98.3303
2019-02-09  99.3022

julia&gt; X[1, 1]
1x1 TS{Float64,Dates.Date}: 2018-06-03 to 2018-06-03

Index       A
2018-06-03  100.0938</code></pre><h3><a class="nav-anchor" id="Boolean-1" href="#Boolean-1">Boolean</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A         B         C         D
2018-06-03  99.2209   100.1402  100.5203  99.8757
2018-06-04  100.4315  98.463    99.8325   99.8825
2018-06-05  101.7815  99.6288   98.4239   100.8332
2018-06-06  101.1093  99.13     99.9931   100.2632
2018-06-07  100.8796  98.0789   99.5007   100.285
2018-06-08  100.5549  98.5967   100.102   99.2693
2018-06-09  100.1863  98.3516   100.5058  99.1555
⋮
2019-02-02  87.9044   120.8219  114.8268  87.3149
2019-02-03  90.95     120.4997  115.1032  87.8783
2019-02-04  90.4377   119.9085  115.0328  88.6721
2019-02-05  90.8898   119.0229  115.4128  89.7452
2019-02-06  92.5197   118.0263  116.5707  89.3965
2019-02-07  93.2577   117.6057  118.9968  89.3126
2019-02-08  93.2013   117.7191  120.0662  89.403
2019-02-09  91.9197   117.0604  120.1708  89.9701

julia&gt; X[trues(size(X,1)), :]
252x4 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A         B         C         D
2018-06-03  99.2209   100.1402  100.5203  99.8757
2018-06-04  100.4315  98.463    99.8325   99.8825
2018-06-05  101.7815  99.6288   98.4239   100.8332
2018-06-06  101.1093  99.13     99.9931   100.2632
2018-06-07  100.8796  98.0789   99.5007   100.285
2018-06-08  100.5549  98.5967   100.102   99.2693
2018-06-09  100.1863  98.3516   100.5058  99.1555
⋮
2019-02-02  87.9044   120.8219  114.8268  87.3149
2019-02-03  90.95     120.4997  115.1032  87.8783
2019-02-04  90.4377   119.9085  115.0328  88.6721
2019-02-05  90.8898   119.0229  115.4128  89.7452
2019-02-06  92.5197   118.0263  116.5707  89.3965
2019-02-07  93.2577   117.6057  118.9968  89.3126
2019-02-08  93.2013   117.7191  120.0662  89.403
2019-02-09  91.9197   117.0604  120.1708  89.9701

julia&gt; X[rand(Bool, size(X,1)), 1]
126x1 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A
2018-06-03  99.2209
2018-06-05  101.7815
2018-06-06  101.1093
2018-06-07  100.8796
2018-06-10  99.1575
2018-06-18  100.9286
2018-06-19  102.078
⋮
2019-01-31  89.8953
2019-02-02  87.9044
2019-02-04  90.4377
2019-02-05  90.8898
2019-02-06  92.5197
2019-02-07  93.2577
2019-02-08  93.2013
2019-02-09  91.9197

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
133x1 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-06

Index       A
2018-06-03  99.2209
2018-06-04  100.4315
2018-06-07  100.8796
2018-06-08  100.5549
2018-06-11  100.6593
2018-06-13  101.6812
2018-06-14  102.4874
⋮
2019-01-24  91.9501
2019-01-25  91.8764
2019-01-26  90.925
2019-01-28  88.9765
2019-01-30  89.3945
2019-01-31  89.8953
2019-02-03  90.95
2019-02-06  92.5197</code></pre><h3><a class="nav-anchor" id="Arrays-and-Ranges-1" href="#Arrays-and-Ranges-1">Arrays &amp; Ranges</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A         B         C         D
2018-06-03  101.1785  101.0386  100.6674  99.542
2018-06-04  100.1093  101.0644  100.1193  100.242
2018-06-05  100.277   101.4936  99.504    101.3868
2018-06-06  99.9895   102.3186  101.3981  102.3236
2018-06-07  100.0351  101.4756  103.2493  101.8673
2018-06-08  98.3662   102.5876  102.3891  100.4756
2018-06-09  99.7261   103.3214  101.7781  99.0367
⋮
2019-02-02  117.5066  118.9395  138.0139  111.412
2019-02-03  117.862   119.0079  138.9805  111.9957
2019-02-04  117.6497  118.8032  139.622   110.584
2019-02-05  115.9591  118.3925  139.8569  108.3151
2019-02-06  114.0519  118.4033  139.8162  107.3615
2019-02-07  115.2012  118.6568  138.7175  107.625
2019-02-08  114.4604  118.898   138.9592  107.3918
2019-02-09  114.9533  118.342   139.9428  108.1461

julia&gt; X[1:10, :]
10x4 TS{Float64,Dates.Date}: 2018-06-03 to 2018-06-12

Index       A         B         C         D
2018-06-03  101.1785  101.0386  100.6674  99.542
2018-06-04  100.1093  101.0644  100.1193  100.242
2018-06-05  100.277   101.4936  99.504    101.3868
2018-06-06  99.9895   102.3186  101.3981  102.3236
2018-06-07  100.0351  101.4756  103.2493  101.8673
2018-06-08  98.3662   102.5876  102.3891  100.4756
2018-06-09  99.7261   103.3214  101.7781  99.0367
2018-06-10  99.4746   104.2092  101.8967  99.385
2018-06-11  100.0277  103.8688  102.0474  99.7185
2018-06-12  100.8141  104.0652  101.6502  100.8092

julia&gt; X[end-100:end, 2:3]
101x2 TS{Float64,Dates.Date}: 2018-11-01 to 2019-02-09

Index       B         C
2018-11-01  109.2682  122.4694
2018-11-02  110.177   124.2004
2018-11-03  110.0628  123.4607
2018-11-04  110.8554  124.3423
2018-11-05  111.667   124.1752
2018-11-06  110.5195  123.796
2018-11-07  108.2696  123.3775
⋮
2019-02-02  118.9395  138.0139
2019-02-03  119.0079  138.9805
2019-02-04  118.8032  139.622
2019-02-05  118.3925  139.8569
2019-02-06  118.4033  139.8162
2019-02-07  118.6568  138.7175
2019-02-08  118.898   138.9592
2019-02-09  118.342   139.9428

julia&gt; X[end, 2:end]
1x3 TS{Float64,Dates.Date}: 2019-02-09 to 2019-02-09

Index       B        C         D
2019-02-09  118.342  139.9428  108.1461</code></pre><h2><a class="nav-anchor" id="Symbol-Indexing-1" href="#Symbol-Indexing-1">Symbol Indexing</a></h2><p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A         B         C         D
2018-06-03  99.8249   100.4688  100.7588  100.7953
2018-06-04  99.9089   100.2417  101.1954  101.0569
2018-06-05  97.8164   101.2479  100.3225  101.0536
2018-06-06  96.9444   100.4444  100.2879  101.3782
2018-06-07  95.6386   101.0743  99.8179   102.815
2018-06-08  95.9037   99.8845   98.524    105.3481
2018-06-09  97.0145   98.5061   97.6138   103.8934
⋮
2019-02-02  121.4065  109.5375  92.2909   100.817
2019-02-03  122.1694  109.392   93.307    99.9593
2019-02-04  121.239   108.9832  94.986    100.0995
2019-02-05  120.1353  108.6521  94.1185   100.5123
2019-02-06  119.857   110.9509  92.9662   99.6715
2019-02-07  117.6159  110.5265  94.8958   99.8843
2019-02-08  116.8024  109.5981  96.2496   99.8458
2019-02-09  116.4618  110.1791  96.4216   97.6867

julia&gt; X[:, :A]
252x1 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       A
2018-06-03  99.8249
2018-06-04  99.9089
2018-06-05  97.8164
2018-06-06  96.9444
2018-06-07  95.6386
2018-06-08  95.9037
2018-06-09  97.0145
⋮
2019-02-02  121.4065
2019-02-03  122.1694
2019-02-04  121.239
2019-02-05  120.1353
2019-02-06  119.857
2019-02-07  117.6159
2019-02-08  116.8024
2019-02-09  116.4618

julia&gt; X[:, [:B, :D]]
252x2 TS{Float64,Dates.Date}: 2018-06-03 to 2019-02-09

Index       B         D
2018-06-03  100.4688  100.7953
2018-06-04  100.2417  101.0569
2018-06-05  101.2479  101.0536
2018-06-06  100.4444  101.3782
2018-06-07  101.0743  102.815
2018-06-08  99.8845   105.3481
2018-06-09  98.5061   103.8934
⋮
2019-02-02  109.5375  100.817
2019-02-03  109.392   99.9593
2019-02-04  108.9832  100.0995
2019-02-05  108.6521  100.5123
2019-02-06  110.9509  99.6715
2019-02-07  110.5265  99.8843
2019-02-08  109.5981  99.8458
2019-02-09  110.1791  97.6867</code></pre><h2><a class="nav-anchor" id="String-Indexing-1" href="#String-Indexing-1">String Indexing</a></h2><p>One of the more powerful features of Temporal&#39;s indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p><pre><code class="language-julia-repl">julia&gt; using Dates, Temporal

julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4), dims=1), t) + 100.0
731x4 TS{Float64,Dates.Date}: 2016-01-01 to 2017-12-31

Index       A         B         C         D
2016-01-01  101.5262  102.0758  98.6386   99.4093
2016-01-02  101.5331  102.3089  96.5673   98.0411
2016-01-03  101.5978  103.0033  97.8235   99.7541
2016-01-04  101.4822  103.4122  98.9654   100.2095
2016-01-05  104.2496  103.3496  98.7546   99.9011
2016-01-06  103.7712  103.3577  99.8905   100.6821
2016-01-07  105.3017  103.7299  100.2399  100.7475
⋮
2017-12-24  124.4172  89.7472   132.0081  73.5487
2017-12-25  122.8551  88.2465   132.1069  72.1129
2017-12-26  122.8463  88.3345   131.9178  71.8844
2017-12-27  122.8738  89.0242   131.2698  70.9966
2017-12-28  123.1865  88.0744   131.6285  71.4054
2017-12-29  122.3241  88.9864   132.5396  71.9563
2017-12-30  122.6948  88.2547   131.0749  70.6273
2017-12-31  121.9149  87.0898   130.3682  70.8389

julia&gt; X[&quot;2017-07-01&quot;]  # single day
1x4 TS{Float64,Dates.Date}: 2017-07-01 to 2017-07-01

Index       A         B        C         D
2017-07-01  111.7136  85.6932  129.9491  64.9796

julia&gt; X[&quot;2016&quot;]  # whole year
366x4 TS{Float64,Dates.Date}: 2016-01-01 to 2016-12-31

Index       A         B         C         D
2016-01-01  101.5262  102.0758  98.6386   99.4093
2016-01-02  101.5331  102.3089  96.5673   98.0411
2016-01-03  101.5978  103.0033  97.8235   99.7541
2016-01-04  101.4822  103.4122  98.9654   100.2095
2016-01-05  104.2496  103.3496  98.7546   99.9011
2016-01-06  103.7712  103.3577  99.8905   100.6821
2016-01-07  105.3017  103.7299  100.2399  100.7475
⋮
2016-12-24  98.5302   89.4677   104.453   85.3956
2016-12-25  98.3797   88.2916   105.2747  85.6368
2016-12-26  98.1237   88.5121   104.1736  85.8121
2016-12-27  98.2461   88.6278   103.4104  84.2176
2016-12-28  97.8589   90.5093   103.358   83.1988
2016-12-29  99.027    91.1668   103.6826  83.6166
2016-12-30  98.3407   91.295    102.5332  83.003
2016-12-31  98.3884   90.8094   103.396   81.3795

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01</code></pre><footer><hr/><a class="previous" href="../io/"><span class="direction">Previous</span><span class="title">Data Access</span></a><a class="next" href="../combining/"><span class="direction">Next</span><span class="title">Joins</span></a></footer></article></body></html>
