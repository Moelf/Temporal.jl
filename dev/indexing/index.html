<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Indexing · Temporal</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Temporal</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../ts/">TS Object</a></li><li><a class="toctext" href="../calculation/">Calculation</a></li><li><a class="toctext" href="../io/">Data Access</a></li><li><span class="toctext">Data Manipulation</span><ul><li class="current"><a class="toctext" href>Indexing</a><ul class="internal"><li><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Numerical-Indexing-1">Numerical Indexing</a></li><li><a class="toctext" href="#Symbol-Indexing-1">Symbol Indexing</a></li><li><a class="toctext" href="#String-Indexing-1">String Indexing</a></li></ul></li><li><a class="toctext" href="../combining/">Joins</a></li><li><a class="toctext" href="../aggregation/">Aggregation</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Data Manipulation</li><li><a href>Indexing</a></li></ul><a class="edit-page" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/indexing.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Indexing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Indexing-1" href="#Indexing-1">Indexing</a></h1><h2><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h2><p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p><p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p><p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, &quot;give me all the observations from the year <em>2017</em> in the <em>price</em> column.&quot;</p><h2><a class="nav-anchor" id="Numerical-Indexing-1" href="#Numerical-Indexing-1">Numerical Indexing</a></h2><h3><a class="nav-anchor" id="Integer-1" href="#Integer-1">Integer</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C        D
2018-06-07  100.6735  99.9236   98.5289  99.5314
2018-06-08  102.014   100.4073  96.621   100.0093
2018-06-09  103.4539  101.5588  97.3524  100.0362
2018-06-10  102.4466  101.5111  96.5234  99.9014
2018-06-11  102.0769  101.1572  97.3102  98.9559
2018-06-12  102.4162  99.8908   97.4461  99.6001
2018-06-13  101.8239  99.7573   98.3191  100.1882
⋮
2019-02-06  98.3468   93.78     93.9171  114.8743
2019-02-07  99.7549   92.6006   93.7346  114.6704
2019-02-08  98.6016   93.1898   94.5669  113.9549
2019-02-09  97.9386   92.0322   96.4309  112.8855
2019-02-10  97.4791   92.5996   97.7218  111.6768
2019-02-11  97.309    92.2351   97.5488  113.4735
2019-02-12  96.4355   91.2725   96.1772  114.4368
2019-02-13  96.196    92.0636   95.2725  114.3666

julia&gt; X[1]
1x4 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-07

Index       A         B        C        D
2018-06-07  100.6735  99.9236  98.5289  99.5314

julia&gt; X[1, :]
1x4 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-07

Index       A         B        C        D
2018-06-07  100.6735  99.9236  98.5289  99.5314

julia&gt; X[:, 1]
252x1 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A
2018-06-07  100.6735
2018-06-08  102.014
2018-06-09  103.4539
2018-06-10  102.4466
2018-06-11  102.0769
2018-06-12  102.4162
2018-06-13  101.8239
⋮
2019-02-06  98.3468
2019-02-07  99.7549
2019-02-08  98.6016
2019-02-09  97.9386
2019-02-10  97.4791
2019-02-11  97.309
2019-02-12  96.4355
2019-02-13  96.196

julia&gt; X[1, 1]
1x1 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-07

Index       A
2018-06-07  100.6735</code></pre><h3><a class="nav-anchor" id="Boolean-1" href="#Boolean-1">Boolean</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  101.8017  101.1582  100.1277  98.8448
2018-06-08  103.5544  99.7383   97.6101   99.6971
2018-06-09  103.7125  100.8799  95.2308   100.8817
2018-06-10  102.2779  100.7352  96.6814   101.5906
2018-06-11  102.1249  99.8676   97.2537   102.0953
2018-06-12  101.2439  98.9315   97.1423   101.7424
2018-06-13  100.6477  99.705    96.8728   103.0113
⋮
2019-02-06  89.2931   96.0874   89.1943   86.1242
2019-02-07  88.2474   96.7752   90.3175   86.6281
2019-02-08  87.5403   96.7182   90.7551   86.6799
2019-02-09  88.9846   97.4637   91.432    86.0758
2019-02-10  89.5537   97.2113   90.4555   85.2956
2019-02-11  89.6732   95.1077   92.1023   84.4383
2019-02-12  88.5695   95.505    92.7216   85.01
2019-02-13  88.7225   95.5077   90.1497   84.5517

julia&gt; X[trues(size(X,1)), :]
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  101.8017  101.1582  100.1277  98.8448
2018-06-08  103.5544  99.7383   97.6101   99.6971
2018-06-09  103.7125  100.8799  95.2308   100.8817
2018-06-10  102.2779  100.7352  96.6814   101.5906
2018-06-11  102.1249  99.8676   97.2537   102.0953
2018-06-12  101.2439  98.9315   97.1423   101.7424
2018-06-13  100.6477  99.705    96.8728   103.0113
⋮
2019-02-06  89.2931   96.0874   89.1943   86.1242
2019-02-07  88.2474   96.7752   90.3175   86.6281
2019-02-08  87.5403   96.7182   90.7551   86.6799
2019-02-09  88.9846   97.4637   91.432    86.0758
2019-02-10  89.5537   97.2113   90.4555   85.2956
2019-02-11  89.6732   95.1077   92.1023   84.4383
2019-02-12  88.5695   95.505    92.7216   85.01
2019-02-13  88.7225   95.5077   90.1497   84.5517

julia&gt; X[rand(Bool, size(X,1)), 1]
133x1 TS{Float64,Dates.Date}: 2018-06-08 to 2019-02-06

Index       A
2018-06-08  103.5544
2018-06-09  103.7125
2018-06-10  102.2779
2018-06-11  102.1249
2018-06-12  101.2439
2018-06-14  99.0338
2018-06-16  98.2626
⋮
2019-01-27  86.7155
2019-01-29  86.3971
2019-01-30  85.3359
2019-02-01  87.9015
2019-02-02  87.3415
2019-02-03  87.1559
2019-02-04  88.8322
2019-02-06  89.2931

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
131x1 TS{Float64,Dates.Date}: 2018-06-09 to 2019-02-13

Index       A
2018-06-09  103.7125
2018-06-10  102.2779
2018-06-13  100.6477
2018-06-19  94.9773
2018-06-21  95.1822
2018-06-22  94.6954
2018-06-24  96.2145
⋮
2019-01-26  87.0097
2019-01-30  85.3359
2019-02-02  87.3415
2019-02-03  87.1559
2019-02-04  88.8322
2019-02-07  88.2474
2019-02-10  89.5537
2019-02-13  88.7225</code></pre><h3><a class="nav-anchor" id="Arrays-and-Ranges-1" href="#Arrays-and-Ranges-1">Arrays &amp; Ranges</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  101.1223  100.9729  98.7      100.2346
2018-06-08  100.2175  100.7166  100.3347  100.1929
2018-06-09  99.7905   98.9488   99.8258   100.9559
2018-06-10  99.1097   100.1406  99.7676   99.9833
2018-06-11  99.5076   100.2467  99.5335   102.4032
2018-06-12  98.7907   101.1305  99.1387   104.6281
2018-06-13  98.9056   100.5062  100.0547  104.7089
⋮
2019-02-06  89.9337   92.9976   101.2722  107.3534
2019-02-07  90.1358   92.8886   100.82    108.1671
2019-02-08  90.4368   93.2731   100.6656  110.0895
2019-02-09  89.7599   89.7534   102.2211  108.526
2019-02-10  91.2025   89.3225   102.3241  109.4053
2019-02-11  90.4105   90.2282   105.8076  108.8603
2019-02-12  91.389    92.5246   106.2277  108.026
2019-02-13  93.0374   92.2298   104.6182  106.4934

julia&gt; X[1:10, :]
10x4 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-16

Index       A         B         C         D
2018-06-07  101.1223  100.9729  98.7      100.2346
2018-06-08  100.2175  100.7166  100.3347  100.1929
2018-06-09  99.7905   98.9488   99.8258   100.9559
2018-06-10  99.1097   100.1406  99.7676   99.9833
2018-06-11  99.5076   100.2467  99.5335   102.4032
2018-06-12  98.7907   101.1305  99.1387   104.6281
2018-06-13  98.9056   100.5062  100.0547  104.7089
2018-06-14  100.6656  101.1504  99.9274   105.9794
2018-06-15  100.8939  100.0266  98.54     105.6428
2018-06-16  100.8858  100.6318  98.7644   106.2041

julia&gt; X[end-100:end, 2:3]
101x2 TS{Float64,Dates.Date}: 2018-11-05 to 2019-02-13

Index       B         C
2018-11-05  98.9354   104.4627
2018-11-06  99.0704   105.2049
2018-11-07  98.9603   105.3429
2018-11-08  99.0258   105.4839
2018-11-09  100.0593  104.5762
2018-11-10  100.944   101.4606
2018-11-11  101.352   101.7655
⋮
2019-02-06  92.9976   101.2722
2019-02-07  92.8886   100.82
2019-02-08  93.2731   100.6656
2019-02-09  89.7534   102.2211
2019-02-10  89.3225   102.3241
2019-02-11  90.2282   105.8076
2019-02-12  92.5246   106.2277
2019-02-13  92.2298   104.6182

julia&gt; X[end, 2:end]
1x3 TS{Float64,Dates.Date}: 2019-02-13 to 2019-02-13

Index       B        C         D
2019-02-13  92.2298  104.6182  106.4934</code></pre><h2><a class="nav-anchor" id="Symbol-Indexing-1" href="#Symbol-Indexing-1">Symbol Indexing</a></h2><p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  97.7208   100.7105  97.2471   100.8363
2018-06-08  99.6645   103.3937  97.0609   100.1781
2018-06-09  98.6188   103.0497  97.012    99.683
2018-06-10  101.2264  104.182   96.709    99.2381
2018-06-11  101.3294  105.0085  96.8633   99.1803
2018-06-12  102.9755  106.005   96.7084   99.9315
2018-06-13  103.965   105.4667  96.5493   100.0626
⋮
2019-02-06  109.9213  109.8721  104.3453  93.0925
2019-02-07  109.427   111.349   104.4249  94.4893
2019-02-08  109.1674  109.8677  103.828   94.5321
2019-02-09  108.7463  109.9695  104.4385  95.4414
2019-02-10  107.4348  109.4314  103.3693  95.5484
2019-02-11  109.1499  109.3339  104.9325  95.8845
2019-02-12  106.726   109.195   105.3134  96.5619
2019-02-13  108.3271  106.8342  105.4202  95.3889

julia&gt; X[:, :A]
252x1 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A
2018-06-07  97.7208
2018-06-08  99.6645
2018-06-09  98.6188
2018-06-10  101.2264
2018-06-11  101.3294
2018-06-12  102.9755
2018-06-13  103.965
⋮
2019-02-06  109.9213
2019-02-07  109.427
2019-02-08  109.1674
2019-02-09  108.7463
2019-02-10  107.4348
2019-02-11  109.1499
2019-02-12  106.726
2019-02-13  108.3271

julia&gt; X[:, [:B, :D]]
252x2 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       B         D
2018-06-07  100.7105  100.8363
2018-06-08  103.3937  100.1781
2018-06-09  103.0497  99.683
2018-06-10  104.182   99.2381
2018-06-11  105.0085  99.1803
2018-06-12  106.005   99.9315
2018-06-13  105.4667  100.0626
⋮
2019-02-06  109.8721  93.0925
2019-02-07  111.349   94.4893
2019-02-08  109.8677  94.5321
2019-02-09  109.9695  95.4414
2019-02-10  109.4314  95.5484
2019-02-11  109.3339  95.8845
2019-02-12  109.195   96.5619
2019-02-13  106.8342  95.3889</code></pre><h2><a class="nav-anchor" id="String-Indexing-1" href="#String-Indexing-1">String Indexing</a></h2><p>One of the more powerful features of Temporal&#39;s indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p><pre><code class="language-julia-repl">julia&gt; using Dates, Temporal

julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4), dims=1), t) + 100.0
731x4 TS{Float64,Dates.Date}: 2016-01-01 to 2017-12-31

Index       A         B         C         D
2016-01-01  100.1103  98.6108   101.3019  100.6398
2016-01-02  98.7378   98.0391   99.7287   99.6484
2016-01-03  97.6963   98.1748   99.4996   99.578
2016-01-04  98.0596   97.7728   99.836    100.7323
2016-01-05  96.9939   100.3204  98.5097   99.7554
2016-01-06  96.9832   99.8681   97.391    97.8615
2016-01-07  95.9446   99.5774   97.9319   97.045
⋮
2017-12-24  91.273    106.985   60.1985   92.9388
2017-12-25  93.0326   107.1677  59.9086   92.8448
2017-12-26  93.3999   108.3659  59.4331   92.5122
2017-12-27  93.2785   109.6191  60.281    91.5253
2017-12-28  92.5301   110.0728  60.7349   91.3724
2017-12-29  93.2704   109.4608  59.4425   91.0719
2017-12-30  94.7862   108.6631  59.0203   91.3897
2017-12-31  95.0204   108.5296  58.9661   91.3178

julia&gt; X[&quot;2017-07-01&quot;]  # single day
1x4 TS{Float64,Dates.Date}: 2017-07-01 to 2017-07-01

Index       A         B        C       D
2017-07-01  106.1703  94.0653  72.546  71.1448

julia&gt; X[&quot;2016&quot;]  # whole year
366x4 TS{Float64,Dates.Date}: 2016-01-01 to 2016-12-31

Index       A         B         C         D
2016-01-01  100.1103  98.6108   101.3019  100.6398
2016-01-02  98.7378   98.0391   99.7287   99.6484
2016-01-03  97.6963   98.1748   99.4996   99.578
2016-01-04  98.0596   97.7728   99.836    100.7323
2016-01-05  96.9939   100.3204  98.5097   99.7554
2016-01-06  96.9832   99.8681   97.391    97.8615
2016-01-07  95.9446   99.5774   97.9319   97.045
⋮
2016-12-24  106.6181  105.8411  69.9875   74.2562
2016-12-25  106.6307  107.3108  70.1534   74.4125
2016-12-26  106.1771  107.9993  70.3622   73.531
2016-12-27  107.2037  108.3494  70.0811   73.7535
2016-12-28  108.2148  109.0835  71.8334   74.2266
2016-12-29  108.5723  108.0043  72.0816   73.7183
2016-12-30  108.6319  108.0066  70.5672   73.6327
2016-12-31  108.0075  106.5188  67.9202   73.2382

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01</code></pre><footer><hr/><a class="previous" href="../io/"><span class="direction">Previous</span><span class="title">Data Access</span></a><a class="next" href="../combining/"><span class="direction">Next</span><span class="title">Joins</span></a></footer></article></body></html>
