<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Indexing · Temporal</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Temporal</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../ts/">TS Object</a></li><li><a class="toctext" href="../operations/">Operations</a></li><li><a class="toctext" href="../io/">Data Access</a></li><li><span class="toctext">Data Manipulation</span><ul><li class="current"><a class="toctext" href>Indexing</a><ul class="internal"><li><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Numerical-Indexing-1">Numerical Indexing</a></li><li><a class="toctext" href="#Symbol-Indexing-1">Symbol Indexing</a></li><li><a class="toctext" href="#String-Indexing-1">String Indexing</a></li></ul></li><li><a class="toctext" href="../combining/">Joins</a></li><li><a class="toctext" href="../aggregation/">Aggregation</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Data Manipulation</li><li><a href>Indexing</a></li></ul><a class="edit-page" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/indexing.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Indexing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Indexing-1" href="#Indexing-1">Indexing</a></h1><h2><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h2><p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p><p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p><p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, &quot;give me all the observations from the year <em>2017</em> in the <em>price</em> column.&quot;</p><h2><a class="nav-anchor" id="Numerical-Indexing-1" href="#Numerical-Indexing-1">Numerical Indexing</a></h2><h3><a class="nav-anchor" id="Integer-1" href="#Integer-1">Integer</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A         B         C         D
2018-06-02  99.7661   99.0202   100.7995  100.0325
2018-06-03  100.396   98.7249   103.4718  99.1422
2018-06-04  101.1213  98.2328   105.0744  99.3669
2018-06-05  101.1737  98.9973   104.4787  99.1819
2018-06-06  99.9325   98.0491   105.5142  99.3851
2018-06-07  100.4174  97.4644   102.7997  98.7151
2018-06-08  99.0506   97.8938   104.2149  97.3121
⋮
2019-02-01  80.4237   107.8368  107.7084  101.498
2019-02-02  84.0522   108.3151  107.5017  101.4186
2019-02-03  84.4969   110.7128  108.7934  100.5398
2019-02-04  84.0626   110.5841  107.8813  100.7598
2019-02-05  82.5933   110.6168  107.2228  99.3297
2019-02-06  83.9891   109.9208  107.3489  98.5968
2019-02-07  85.7518   109.8054  107.9064  98.5277
2019-02-08  85.3512   109.5591  107.5033  96.2

julia&gt; X[1]
1x4 TS{Float64,Dates.Date}: 2018-06-02 to 2018-06-02

Index       A        B        C         D
2018-06-02  99.7661  99.0202  100.7995  100.0325

julia&gt; X[1, :]
1x4 TS{Float64,Dates.Date}: 2018-06-02 to 2018-06-02

Index       A        B        C         D
2018-06-02  99.7661  99.0202  100.7995  100.0325

julia&gt; X[:, 1]
252x1 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A
2018-06-02  99.7661
2018-06-03  100.396
2018-06-04  101.1213
2018-06-05  101.1737
2018-06-06  99.9325
2018-06-07  100.4174
2018-06-08  99.0506
⋮
2019-02-01  80.4237
2019-02-02  84.0522
2019-02-03  84.4969
2019-02-04  84.0626
2019-02-05  82.5933
2019-02-06  83.9891
2019-02-07  85.7518
2019-02-08  85.3512

julia&gt; X[1, 1]
1x1 TS{Float64,Dates.Date}: 2018-06-02 to 2018-06-02

Index       A
2018-06-02  99.7661</code></pre><h3><a class="nav-anchor" id="Boolean-1" href="#Boolean-1">Boolean</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A         B        C         D
2018-06-02  100.2466  99.0827  101.1702  100.1704
2018-06-03  99.4062   98.0996  101.0738  100.166
2018-06-04  99.6327   99.3069  100.3731  100.6448
2018-06-05  101.7387  99.9895  100.7332  100.6624
2018-06-06  102.7316  98.8093  99.152    102.4767
2018-06-07  101.715   98.8025  99.3859   100.7414
2018-06-08  102.0169  97.7953  98.2408   101.3594
⋮
2019-02-01  100.1705  79.6695  104.6227  92.5929
2019-02-02  98.7859   77.4602  105.7266  93.2645
2019-02-03  99.5306   77.0044  105.7292  93.6692
2019-02-04  101.3086  77.219   105.3211  91.2608
2019-02-05  102.6154  76.349   104.6258  90.3263
2019-02-06  102.2046  77.5989  106.1252  90.47
2019-02-07  102.8433  78.3342  106.1579  91.8771
2019-02-08  102.5545  79.0227  106.0416  92.2103

julia&gt; X[trues(size(X,1)), :]
252x4 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A         B        C         D
2018-06-02  100.2466  99.0827  101.1702  100.1704
2018-06-03  99.4062   98.0996  101.0738  100.166
2018-06-04  99.6327   99.3069  100.3731  100.6448
2018-06-05  101.7387  99.9895  100.7332  100.6624
2018-06-06  102.7316  98.8093  99.152    102.4767
2018-06-07  101.715   98.8025  99.3859   100.7414
2018-06-08  102.0169  97.7953  98.2408   101.3594
⋮
2019-02-01  100.1705  79.6695  104.6227  92.5929
2019-02-02  98.7859   77.4602  105.7266  93.2645
2019-02-03  99.5306   77.0044  105.7292  93.6692
2019-02-04  101.3086  77.219   105.3211  91.2608
2019-02-05  102.6154  76.349   104.6258  90.3263
2019-02-06  102.2046  77.5989  106.1252  90.47
2019-02-07  102.8433  78.3342  106.1579  91.8771
2019-02-08  102.5545  79.0227  106.0416  92.2103

julia&gt; X[rand(Bool, size(X,1)), 1]
141x1 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A
2018-06-02  100.2466
2018-06-03  99.4062
2018-06-06  102.7316
2018-06-07  101.715
2018-06-09  102.3591
2018-06-10  101.7642
2018-06-13  101.3961
⋮
2019-01-29  100.8523
2019-01-30  101.375
2019-01-31  101.334
2019-02-02  98.7859
2019-02-03  99.5306
2019-02-05  102.6154
2019-02-07  102.8433
2019-02-08  102.5545

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
114x1 TS{Float64,Dates.Date}: 2018-06-04 to 2019-02-08

Index       A
2018-06-04  99.6327
2018-06-05  101.7387
2018-06-06  102.7316
2018-06-07  101.715
2018-06-11  102.3326
2018-06-15  101.4026
2018-06-16  99.899
⋮
2019-01-25  100.3688
2019-01-27  99.3811
2019-01-28  99.4557
2019-02-01  100.1705
2019-02-05  102.6154
2019-02-06  102.2046
2019-02-07  102.8433
2019-02-08  102.5545</code></pre><h3><a class="nav-anchor" id="Arrays-and-Ranges-1" href="#Arrays-and-Ranges-1">Arrays &amp; Ranges</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A         B         C         D
2018-06-02  98.6909   100.7716  100.6418  100.2082
2018-06-03  100.6645  101.4069  101.2307  102.1371
2018-06-04  99.8808   101.7173  99.8369   102.4736
2018-06-05  99.2671   103.3131  100.0055  104.6264
2018-06-06  99.8682   103.9735  102.4121  105.669
2018-06-07  99.5645   103.381   101.3747  105.2991
2018-06-08  99.6834   102.5194  102.198   106.7896
⋮
2019-02-01  103.9553  92.9538   106.0666  119.6405
2019-02-02  103.5863  92.7128   105.2816  120.5484
2019-02-03  104.8829  93.6376   105.8665  119.6032
2019-02-04  103.7993  94.4696   105.3709  119.3972
2019-02-05  103.861   94.4998   104.8053  119.7539
2019-02-06  104.217   92.7532   106.7473  118.4428
2019-02-07  104.6783  92.6397   108.2937  118.0211
2019-02-08  103.3458  92.6283   108.9945  117.7325

julia&gt; X[1:10, :]
10x4 TS{Float64,Dates.Date}: 2018-06-02 to 2018-06-11

Index       A         B         C         D
2018-06-02  98.6909   100.7716  100.6418  100.2082
2018-06-03  100.6645  101.4069  101.2307  102.1371
2018-06-04  99.8808   101.7173  99.8369   102.4736
2018-06-05  99.2671   103.3131  100.0055  104.6264
2018-06-06  99.8682   103.9735  102.4121  105.669
2018-06-07  99.5645   103.381   101.3747  105.2991
2018-06-08  99.6834   102.5194  102.198   106.7896
2018-06-09  98.0385   103.5618  101.91    107.4465
2018-06-10  97.2403   103.5671  103.5617  109.07
2018-06-11  96.5404   103.6106  103.318   108.9962

julia&gt; X[end-100:end, 2:3]
101x2 TS{Float64,Dates.Date}: 2018-10-31 to 2019-02-08

Index       B         C
2018-10-31  109.4493  112.0941
2018-11-01  109.6186  111.7036
2018-11-02  110.8414  111.6168
2018-11-03  109.9565  113.224
2018-11-04  109.9892  112.6187
2018-11-05  111.485   111.2115
2018-11-06  110.8058  111.8039
⋮
2019-02-01  92.9538   106.0666
2019-02-02  92.7128   105.2816
2019-02-03  93.6376   105.8665
2019-02-04  94.4696   105.3709
2019-02-05  94.4998   104.8053
2019-02-06  92.7532   106.7473
2019-02-07  92.6397   108.2937
2019-02-08  92.6283   108.9945

julia&gt; X[end, 2:end]
1x3 TS{Float64,Dates.Date}: 2019-02-08 to 2019-02-08

Index       B        C         D
2019-02-08  92.6283  108.9945  117.7325</code></pre><h2><a class="nav-anchor" id="Symbol-Indexing-1" href="#Symbol-Indexing-1">Symbol Indexing</a></h2><p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A         B         C         D
2018-06-02  99.9947   100.2972  100.3565  99.0295
2018-06-03  99.3637   101.0339  100.2661  98.0713
2018-06-04  99.5153   99.8174   101.4985  99.3126
2018-06-05  99.9879   99.0842   100.9714  98.6382
2018-06-06  99.8179   100.475   102.1117  100.3044
2018-06-07  98.7127   100.1647  102.5773  101.2733
2018-06-08  97.0995   101.1352  100.9763  103.75
⋮
2019-02-01  120.8625  118.6612  105.1126  92.7206
2019-02-02  120.7347  120.1199  105.0853  92.3581
2019-02-03  120.0655  121.2995  105.1339  92.3444
2019-02-04  119.9215  121.4908  105.2664  93.186
2019-02-05  119.4729  121.6433  104.653   92.6589
2019-02-06  119.2851  121.1813  104.4777  94.2325
2019-02-07  119.4362  120.7642  103.492   94.3139
2019-02-08  120.2977  119.8074  101.6013  94.6394

julia&gt; X[:, :A]
252x1 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       A
2018-06-02  99.9947
2018-06-03  99.3637
2018-06-04  99.5153
2018-06-05  99.9879
2018-06-06  99.8179
2018-06-07  98.7127
2018-06-08  97.0995
⋮
2019-02-01  120.8625
2019-02-02  120.7347
2019-02-03  120.0655
2019-02-04  119.9215
2019-02-05  119.4729
2019-02-06  119.2851
2019-02-07  119.4362
2019-02-08  120.2977

julia&gt; X[:, [:B, :D]]
252x2 TS{Float64,Dates.Date}: 2018-06-02 to 2019-02-08

Index       B         D
2018-06-02  100.2972  99.0295
2018-06-03  101.0339  98.0713
2018-06-04  99.8174   99.3126
2018-06-05  99.0842   98.6382
2018-06-06  100.475   100.3044
2018-06-07  100.1647  101.2733
2018-06-08  101.1352  103.75
⋮
2019-02-01  118.6612  92.7206
2019-02-02  120.1199  92.3581
2019-02-03  121.2995  92.3444
2019-02-04  121.4908  93.186
2019-02-05  121.6433  92.6589
2019-02-06  121.1813  94.2325
2019-02-07  120.7642  94.3139
2019-02-08  119.8074  94.6394</code></pre><h2><a class="nav-anchor" id="String-Indexing-1" href="#String-Indexing-1">String Indexing</a></h2><p>One of the more powerful features of Temporal&#39;s indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p><pre><code class="language-julia-repl">julia&gt; using Dates, Temporal

julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4), dims=1), t) + 100.0
731x4 TS{Float64,Dates.Date}: 2016-01-01 to 2017-12-31

Index       A         B         C         D
2016-01-01  100.846   100.0608  100.0924  100.9024
2016-01-02  100.4777  99.6358   99.4684   98.0779
2016-01-03  99.4332   101.1278  99.8662   97.6364
2016-01-04  100.7406  101.675   99.9229   96.9203
2016-01-05  100.8414  102.7373  100.3122  97.0546
2016-01-06  101.9647  103.069   102.4721  95.6128
2016-01-07  102.2145  102.2288  101.2195  96.3298
⋮
2017-12-24  111.8393  75.6873   86.9013   143.8995
2017-12-25  112.3283  76.3365   87.7642   144.9641
2017-12-26  113.2349  76.4862   86.9352   145.8899
2017-12-27  112.7454  75.9234   89.0608   146.1692
2017-12-28  111.2613  76.5349   88.9899   145.3736
2017-12-29  111.1882  76.0775   88.5973   144.7808
2017-12-30  111.2379  75.6317   88.2592   146.1943
2017-12-31  111.1891  74.6376   87.6871   146.6906

julia&gt; X[&quot;2017-07-01&quot;]  # single day
1x4 TS{Float64,Dates.Date}: 2017-07-01 to 2017-07-01

Index       A         B        C        D
2017-07-01  116.0424  81.0875  78.8425  119.7517

julia&gt; X[&quot;2016&quot;]  # whole year
366x4 TS{Float64,Dates.Date}: 2016-01-01 to 2016-12-31

Index       A         B         C         D
2016-01-01  100.846   100.0608  100.0924  100.9024
2016-01-02  100.4777  99.6358   99.4684   98.0779
2016-01-03  99.4332   101.1278  99.8662   97.6364
2016-01-04  100.7406  101.675   99.9229   96.9203
2016-01-05  100.8414  102.7373  100.3122  97.0546
2016-01-06  101.9647  103.069   102.4721  95.6128
2016-01-07  102.2145  102.2288  101.2195  96.3298
⋮
2016-12-24  127.0468  72.2216   91.2459   111.0591
2016-12-25  126.9968  70.9508   91.6024   111.8392
2016-12-26  125.6411  70.574    91.8355   111.4897
2016-12-27  125.1969  71.4475   92.6867   112.1821
2016-12-28  125.3295  71.9492   92.4672   112.6113
2016-12-29  126.1409  70.4259   93.055    113.7509
2016-12-30  128.946   70.9805   95.7055   112.8133
2016-12-31  128.7998  70.4115   95.7192   113.8285

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01</code></pre><footer><hr/><a class="previous" href="../io/"><span class="direction">Previous</span><span class="title">Data Access</span></a><a class="next" href="../combining/"><span class="direction">Next</span><span class="title">Joins</span></a></footer></article></body></html>
