<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Indexing · Temporal</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Temporal</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../ts/">TS Object</a></li><li><a class="toctext" href="../calculation/">Calculation</a></li><li><a class="toctext" href="../io/">Data Access</a></li><li><span class="toctext">Data Manipulation</span><ul><li class="current"><a class="toctext" href>Indexing</a><ul class="internal"><li><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Numerical-Indexing-1">Numerical Indexing</a></li><li><a class="toctext" href="#Symbol-Indexing-1">Symbol Indexing</a></li><li><a class="toctext" href="#String-Indexing-1">String Indexing</a></li></ul></li><li><a class="toctext" href="../combining/">Joins</a></li><li><a class="toctext" href="../aggregation/">Aggregation</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Data Manipulation</li><li><a href>Indexing</a></li></ul><a class="edit-page" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/indexing.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Indexing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Indexing-1" href="#Indexing-1">Indexing</a></h1><h2><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h2><p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p><p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p><p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, &quot;give me all the observations from the year <em>2017</em> in the <em>price</em> column.&quot;</p><h2><a class="nav-anchor" id="Numerical-Indexing-1" href="#Numerical-Indexing-1">Numerical Indexing</a></h2><h3><a class="nav-anchor" id="Integer-1" href="#Integer-1">Integer</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  100.035   98.8173   101.4778  100.0845
2018-06-08  102.2737  98.4461   101.7829  99.763
2018-06-09  102.0922  98.1869   103.1294  100.5729
2018-06-10  101.1119  98.158    102.9686  100.0173
2018-06-11  100.782   98.6721   104.8963  99.0158
2018-06-12  99.4923   99.8699   105.7451  99.1391
2018-06-13  100.3122  98.6211   103.6729  97.9915
⋮
2019-02-06  112.6494  102.561   101.1561  85.732
2019-02-07  113.421   102.3182  99.654    86.9969
2019-02-08  112.6477  101.3544  99.2418   88.3876
2019-02-09  112.5671  101.3332  101.2551  88.0028
2019-02-10  112.2599  101.7644  102.5333  88.127
2019-02-11  112.5439  101.6406  102.3089  88.2323
2019-02-12  112.1347  100.6659  103.0892  89.0235
2019-02-13  112.5244  101.3716  102.4821  88.5324

julia&gt; X[1]
1x4 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-07

Index       A        B        C         D
2018-06-07  100.035  98.8173  101.4778  100.0845

julia&gt; X[1, :]
1x4 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-07

Index       A        B        C         D
2018-06-07  100.035  98.8173  101.4778  100.0845

julia&gt; X[:, 1]
252x1 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A
2018-06-07  100.035
2018-06-08  102.2737
2018-06-09  102.0922
2018-06-10  101.1119
2018-06-11  100.782
2018-06-12  99.4923
2018-06-13  100.3122
⋮
2019-02-06  112.6494
2019-02-07  113.421
2019-02-08  112.6477
2019-02-09  112.5671
2019-02-10  112.2599
2019-02-11  112.5439
2019-02-12  112.1347
2019-02-13  112.5244

julia&gt; X[1, 1]
1x1 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-07

Index       A
2018-06-07  100.035</code></pre><h3><a class="nav-anchor" id="Boolean-1" href="#Boolean-1">Boolean</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  100.5073  100.1482  99.9578   98.7329
2018-06-08  100.472   99.691    99.882    99.8218
2018-06-09  97.2698   99.5341   99.5372   99.2942
2018-06-10  98.3598   101.0354  100.7511  98.666
2018-06-11  97.3729   99.8881   100.524   99.4214
2018-06-12  97.4421   101.0004  99.7931   98.833
2018-06-13  98.3768   101.5612  99.2963   98.8097
⋮
2019-02-06  88.2123   80.443    99.3667   89.2024
2019-02-07  90.0186   78.1065   99.5316   88.5798
2019-02-08  88.8616   77.0123   101.4019  88.2311
2019-02-09  89.9415   77.0239   101.0964  87.2107
2019-02-10  88.9904   76.6201   102.2608  86.7447
2019-02-11  90.1655   77.082    103.1397  84.6291
2019-02-12  90.2812   76.7057   103.8895  84.9626
2019-02-13  91.6962   77.4169   102.0621  84.5245

julia&gt; X[trues(size(X,1)), :]
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  100.5073  100.1482  99.9578   98.7329
2018-06-08  100.472   99.691    99.882    99.8218
2018-06-09  97.2698   99.5341   99.5372   99.2942
2018-06-10  98.3598   101.0354  100.7511  98.666
2018-06-11  97.3729   99.8881   100.524   99.4214
2018-06-12  97.4421   101.0004  99.7931   98.833
2018-06-13  98.3768   101.5612  99.2963   98.8097
⋮
2019-02-06  88.2123   80.443    99.3667   89.2024
2019-02-07  90.0186   78.1065   99.5316   88.5798
2019-02-08  88.8616   77.0123   101.4019  88.2311
2019-02-09  89.9415   77.0239   101.0964  87.2107
2019-02-10  88.9904   76.6201   102.2608  86.7447
2019-02-11  90.1655   77.082    103.1397  84.6291
2019-02-12  90.2812   76.7057   103.8895  84.9626
2019-02-13  91.6962   77.4169   102.0621  84.5245

julia&gt; X[rand(Bool, size(X,1)), 1]
126x1 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A
2018-06-07  100.5073
2018-06-10  98.3598
2018-06-11  97.3729
2018-06-13  98.3768
2018-06-14  98.0806
2018-06-15  97.7283
2018-06-16  97.2914
⋮
2019-01-25  90.9879
2019-01-27  91.3976
2019-01-30  91.313
2019-01-31  89.7682
2019-02-05  90.036
2019-02-07  90.0186
2019-02-08  88.8616
2019-02-13  91.6962

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
126x1 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-11

Index       A
2018-06-07  100.5073
2018-06-08  100.472
2018-06-09  97.2698
2018-06-11  97.3729
2018-06-12  97.4421
2018-06-14  98.0806
2018-06-15  97.7283
⋮
2019-01-26  89.9408
2019-01-29  90.2795
2019-01-30  91.313
2019-02-01  88.5317
2019-02-05  90.036
2019-02-08  88.8616
2019-02-09  89.9415
2019-02-11  90.1655</code></pre><h3><a class="nav-anchor" id="Arrays-and-Ranges-1" href="#Arrays-and-Ranges-1">Arrays &amp; Ranges</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  99.5544   99.9196   99.2787   100.2216
2018-06-08  99.0227   101.0274  100.6509  98.2624
2018-06-09  99.0249   100.6094  98.1392   98.0398
2018-06-10  98.5895   100.1097  96.6788   98.1706
2018-06-11  96.8164   100.1198  97.4551   98.3451
2018-06-12  98.1215   99.0765   98.8407   99.2035
2018-06-13  98.4057   99.018    100.4642  99.611
⋮
2019-02-06  119.778   76.274    114.7792  87.4067
2019-02-07  120.5554  76.1481   115.3036  87.7371
2019-02-08  120.3479  76.9163   114.3969  87.6312
2019-02-09  119.6867  77.1387   114.2179  88.6536
2019-02-10  118.3266  76.3671   112.2095  87.9676
2019-02-11  115.8224  76.2307   113.4627  87.5143
2019-02-12  116.5585  76.1921   114.0368  88.9787
2019-02-13  115.3687  75.2167   111.8675  89.746

julia&gt; X[1:10, :]
10x4 TS{Float64,Dates.Date}: 2018-06-07 to 2018-06-16

Index       A        B         C         D
2018-06-07  99.5544  99.9196   99.2787   100.2216
2018-06-08  99.0227  101.0274  100.6509  98.2624
2018-06-09  99.0249  100.6094  98.1392   98.0398
2018-06-10  98.5895  100.1097  96.6788   98.1706
2018-06-11  96.8164  100.1198  97.4551   98.3451
2018-06-12  98.1215  99.0765   98.8407   99.2035
2018-06-13  98.4057  99.018    100.4642  99.611
2018-06-14  97.1151  98.6463   101.6117  98.5086
2018-06-15  96.8893  98.0247   102.3503  100.2203
2018-06-16  96.8704  97.4834   100.9657  100.8516

julia&gt; X[end-100:end, 2:3]
101x2 TS{Float64,Dates.Date}: 2018-11-05 to 2019-02-13

Index       B        C
2018-11-05  88.7039  110.3516
2018-11-06  86.8371  110.945
2018-11-07  87.8196  111.8232
2018-11-08  87.4383  111.3978
2018-11-09  87.1182  111.0057
2018-11-10  87.5685  111.9666
2018-11-11  86.4911  112.0574
⋮
2019-02-06  76.274   114.7792
2019-02-07  76.1481  115.3036
2019-02-08  76.9163  114.3969
2019-02-09  77.1387  114.2179
2019-02-10  76.3671  112.2095
2019-02-11  76.2307  113.4627
2019-02-12  76.1921  114.0368
2019-02-13  75.2167  111.8675

julia&gt; X[end, 2:end]
1x3 TS{Float64,Dates.Date}: 2019-02-13 to 2019-02-13

Index       B        C         D
2019-02-13  75.2167  111.8675  89.746</code></pre><h2><a class="nav-anchor" id="Symbol-Indexing-1" href="#Symbol-Indexing-1">Symbol Indexing</a></h2><p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A         B         C         D
2018-06-07  100.7417  99.6277   99.6654   99.7872
2018-06-08  102.4278  98.708    98.4677   99.6097
2018-06-09  104.0509  99.3036   99.8291   101.1884
2018-06-10  104.4874  98.6372   98.6772   100.9361
2018-06-11  104.7634  99.1932   97.3791   99.1577
2018-06-12  104.9658  98.3631   99.1947   99.0998
2018-06-13  104.8438  96.5103   97.7915   99.2223
⋮
2019-02-06  128.2998  111.0153  90.278    126.4714
2019-02-07  129.2037  110.6935  90.7864   125.8848
2019-02-08  129.1479  110.4693  90.7017   127.7148
2019-02-09  130.3087  108.674   90.709    126.2349
2019-02-10  130.8472  108.8365  92.1458   125.3184
2019-02-11  132.0635  109.5066  92.1438   125.4986
2019-02-12  134.5525  110.3234  93.8207   124.4797
2019-02-13  135.7751  112.6764  95.398    123.6399

julia&gt; X[:, :A]
252x1 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       A
2018-06-07  100.7417
2018-06-08  102.4278
2018-06-09  104.0509
2018-06-10  104.4874
2018-06-11  104.7634
2018-06-12  104.9658
2018-06-13  104.8438
⋮
2019-02-06  128.2998
2019-02-07  129.2037
2019-02-08  129.1479
2019-02-09  130.3087
2019-02-10  130.8472
2019-02-11  132.0635
2019-02-12  134.5525
2019-02-13  135.7751

julia&gt; X[:, [:B, :D]]
252x2 TS{Float64,Dates.Date}: 2018-06-07 to 2019-02-13

Index       B         D
2018-06-07  99.6277   99.7872
2018-06-08  98.708    99.6097
2018-06-09  99.3036   101.1884
2018-06-10  98.6372   100.9361
2018-06-11  99.1932   99.1577
2018-06-12  98.3631   99.0998
2018-06-13  96.5103   99.2223
⋮
2019-02-06  111.0153  126.4714
2019-02-07  110.6935  125.8848
2019-02-08  110.4693  127.7148
2019-02-09  108.674   126.2349
2019-02-10  108.8365  125.3184
2019-02-11  109.5066  125.4986
2019-02-12  110.3234  124.4797
2019-02-13  112.6764  123.6399</code></pre><h2><a class="nav-anchor" id="String-Indexing-1" href="#String-Indexing-1">String Indexing</a></h2><p>One of the more powerful features of Temporal&#39;s indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p><pre><code class="language-julia-repl">julia&gt; using Dates, Temporal

julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4), dims=1), t) + 100.0
731x4 TS{Float64,Dates.Date}: 2016-01-01 to 2017-12-31

Index       A         B         C         D
2016-01-01  100.2481  99.5307   99.3761   100.451
2016-01-02  101.0447  100.1424  98.5336   99.0894
2016-01-03  102.0346  100.027   98.125    101.1432
2016-01-04  102.6122  100.1649  100.355   101.3798
2016-01-05  102.022   99.6364   100.6309  102.3883
2016-01-06  101.3897  98.9154   100.7982  103.6277
2016-01-07  99.0559   99.4915   100.5861  103.2627
⋮
2017-12-24  158.3316  71.7301   89.1057   111.0723
2017-12-25  157.6543  72.1511   90.7448   111.2167
2017-12-26  157.1593  70.1234   91.2573   112.0378
2017-12-27  155.1842  71.3326   92.4844   109.7512
2017-12-28  156.6521  71.7164   92.5208   110.1332
2017-12-29  155.2607  72.5184   93.0954   110.212
2017-12-30  155.8162  71.2512   93.1499   110.2011
2017-12-31  157.6126  72.551    93.1386   111.8106

julia&gt; X[&quot;2017-07-01&quot;]  # single day
1x4 TS{Float64,Dates.Date}: 2017-07-01 to 2017-07-01

Index       A         B        C       D
2017-07-01  145.5608  87.8393  95.587  108.6401

julia&gt; X[&quot;2016&quot;]  # whole year
366x4 TS{Float64,Dates.Date}: 2016-01-01 to 2016-12-31

Index       A         B         C         D
2016-01-01  100.2481  99.5307   99.3761   100.451
2016-01-02  101.0447  100.1424  98.5336   99.0894
2016-01-03  102.0346  100.027   98.125    101.1432
2016-01-04  102.6122  100.1649  100.355   101.3798
2016-01-05  102.022   99.6364   100.6309  102.3883
2016-01-06  101.3897  98.9154   100.7982  103.6277
2016-01-07  99.0559   99.4915   100.5861  103.2627
⋮
2016-12-24  99.369    82.3238   108.8529  113.7292
2016-12-25  99.3547   81.7164   108.754   113.5649
2016-12-26  100.0954  81.6849   109.8162  112.8685
2016-12-27  100.6346  81.4044   110.6528  112.4155
2016-12-28  101.6936  79.8678   111.7062  112.6638
2016-12-29  102.6698  80.2965   111.972   110.4713
2016-12-30  102.4416  79.6185   110.6217  112.1211
2016-12-31  101.9712  81.2677   109.6938  110.9363

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01</code></pre><footer><hr/><a class="previous" href="../io/"><span class="direction">Previous</span><span class="title">Data Access</span></a><a class="next" href="../combining/"><span class="direction">Next</span><span class="title">Joins</span></a></footer></article></body></html>
