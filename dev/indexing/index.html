<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Indexing · Temporal</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Temporal</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../ts/">TS Object</a></li><li><a class="toctext" href="../calculation/">Calculation</a></li><li><a class="toctext" href="../io/">Data Access</a></li><li><span class="toctext">Data Manipulation</span><ul><li class="current"><a class="toctext" href>Indexing</a><ul class="internal"><li><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Numerical-Indexing-1">Numerical Indexing</a></li><li><a class="toctext" href="#Symbol-Indexing-1">Symbol Indexing</a></li><li><a class="toctext" href="#String-Indexing-1">String Indexing</a></li></ul></li><li><a class="toctext" href="../combining/">Joins</a></li><li><a class="toctext" href="../aggregation/">Aggregation</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Data Manipulation</li><li><a href>Indexing</a></li></ul><a class="edit-page" href="https://github.com/dysonance/Temporal.jl/blob/master/docs/src/indexing.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Indexing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Indexing-1" href="#Indexing-1">Indexing</a></h1><h2><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h2><p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p><p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p><p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, &quot;give me all the observations from the year <em>2017</em> in the <em>price</em> column.&quot;</p><h2><a class="nav-anchor" id="Numerical-Indexing-1" href="#Numerical-Indexing-1">Numerical Indexing</a></h2><h3><a class="nav-anchor" id="Integer-1" href="#Integer-1">Integer</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A         B        C         D
2018-06-06  97.8355   101.159  98.1546   100.6416
2018-06-07  95.5452   99.875   100.286   97.9717
2018-06-08  96.2027   99.4685  100.1904  97.694
2018-06-09  95.9624   98.7035  100.3951  97.2051
2018-06-10  95.0812   98.892   100.0065  96.7397
2018-06-11  96.402    98.2862  100.0288  96.8907
2018-06-12  96.4659   98.8241  99.8254   96.521
⋮
2019-02-05  101.6238  83.8496  95.5654   99.833
2019-02-06  100.1371  83.1645  96.1369   100.1664
2019-02-07  98.5474   83.5939  95.2568   100.9476
2019-02-08  100.2315  83.4859  94.2103   100.6776
2019-02-09  98.5647   83.4021  94.559    100.1021
2019-02-10  99.0749   84.0358  95.5461   100.1656
2019-02-11  97.7122   84.3779  95.6863   100.1696
2019-02-12  97.1895   84.0733  98.0481   101.7882

julia&gt; X[1]
1x4 TS{Float64,Dates.Date}: 2018-06-06 to 2018-06-06

Index       A        B        C        D
2018-06-06  97.8355  101.159  98.1546  100.6416

julia&gt; X[1, :]
1x4 TS{Float64,Dates.Date}: 2018-06-06 to 2018-06-06

Index       A        B        C        D
2018-06-06  97.8355  101.159  98.1546  100.6416

julia&gt; X[:, 1]
252x1 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A
2018-06-06  97.8355
2018-06-07  95.5452
2018-06-08  96.2027
2018-06-09  95.9624
2018-06-10  95.0812
2018-06-11  96.402
2018-06-12  96.4659
⋮
2019-02-05  101.6238
2019-02-06  100.1371
2019-02-07  98.5474
2019-02-08  100.2315
2019-02-09  98.5647
2019-02-10  99.0749
2019-02-11  97.7122
2019-02-12  97.1895

julia&gt; X[1, 1]
1x1 TS{Float64,Dates.Date}: 2018-06-06 to 2018-06-06

Index       A
2018-06-06  97.8355</code></pre><h3><a class="nav-anchor" id="Boolean-1" href="#Boolean-1">Boolean</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A         B         C        D
2018-06-06  99.1154   100.3583  99.9687  98.7359
2018-06-07  98.8087   99.5888   98.8342  98.3237
2018-06-08  99.6519   99.8084   98.7742  98.2024
2018-06-09  98.2183   99.1356   97.06    97.8668
2018-06-10  98.0031   98.8826   97.4685  100.015
2018-06-11  97.6696   100.7825  97.4041  99.2602
2018-06-12  96.1463   100.9725  97.2378  98.2899
⋮
2019-02-05  104.1137  122.1291  84.673   95.3041
2019-02-06  103.2638  121.9733  85.3463  96.8177
2019-02-07  103.4641  120.1077  86.6909  96.0268
2019-02-08  104.5962  121.5454  89.0029  96.0237
2019-02-09  104.3041  121.0252  87.2071  95.0785
2019-02-10  103.2884  122.098   87.5206  93.8215
2019-02-11  103.2464  123.0929  85.4369  93.7514
2019-02-12  102.9311  123.5675  85.5518  95.1862

julia&gt; X[trues(size(X,1)), :]
252x4 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A         B         C        D
2018-06-06  99.1154   100.3583  99.9687  98.7359
2018-06-07  98.8087   99.5888   98.8342  98.3237
2018-06-08  99.6519   99.8084   98.7742  98.2024
2018-06-09  98.2183   99.1356   97.06    97.8668
2018-06-10  98.0031   98.8826   97.4685  100.015
2018-06-11  97.6696   100.7825  97.4041  99.2602
2018-06-12  96.1463   100.9725  97.2378  98.2899
⋮
2019-02-05  104.1137  122.1291  84.673   95.3041
2019-02-06  103.2638  121.9733  85.3463  96.8177
2019-02-07  103.4641  120.1077  86.6909  96.0268
2019-02-08  104.5962  121.5454  89.0029  96.0237
2019-02-09  104.3041  121.0252  87.2071  95.0785
2019-02-10  103.2884  122.098   87.5206  93.8215
2019-02-11  103.2464  123.0929  85.4369  93.7514
2019-02-12  102.9311  123.5675  85.5518  95.1862

julia&gt; X[rand(Bool, size(X,1)), 1]
115x1 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-09

Index       A
2018-06-06  99.1154
2018-06-07  98.8087
2018-06-12  96.1463
2018-06-15  97.2597
2018-06-16  97.9311
2018-06-20  98.9044
2018-06-25  95.0182
⋮
2019-01-27  105.2116
2019-01-28  104.8455
2019-01-29  104.7897
2019-01-30  105.3481
2019-01-31  104.2783
2019-02-01  103.5336
2019-02-06  103.2638
2019-02-09  104.3041

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
118x1 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A
2018-06-06  99.1154
2018-06-09  98.2183
2018-06-10  98.0031
2018-06-12  96.1463
2018-06-14  97.8887
2018-06-15  97.2597
2018-06-16  97.9311
⋮
2019-01-29  104.7897
2019-02-02  103.1715
2019-02-05  104.1137
2019-02-06  103.2638
2019-02-08  104.5962
2019-02-10  103.2884
2019-02-11  103.2464
2019-02-12  102.9311</code></pre><h3><a class="nav-anchor" id="Arrays-and-Ranges-1" href="#Arrays-and-Ranges-1">Arrays &amp; Ranges</a></h3><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A         B         C         D
2018-06-06  100.2846  100.0341  101.5199  99.7461
2018-06-07  98.9376   99.9256   102.0506  101.8635
2018-06-08  99.7746   100.5972  102.8114  100.8833
2018-06-09  101.0395  100.1533  101.2241  100.8355
2018-06-10  101.1572  101.1572  102.6855  100.275
2018-06-11  103.4169  98.2827   101.8232  101.3372
2018-06-12  105.043   99.244    100.9129  100.4775
⋮
2019-02-05  84.2837   91.0771   94.2254   110.8104
2019-02-06  83.9594   91.8381   93.2887   112.9295
2019-02-07  83.7392   92.6502   92.7057   114.0903
2019-02-08  82.4028   93.8415   93.3777   113.7235
2019-02-09  81.007    91.6363   92.2093   113.6592
2019-02-10  82.6467   91.7809   91.615    113.1941
2019-02-11  81.9796   92.0414   93.6297   113.8324
2019-02-12  82.8547   91.6883   94.1172   114.9619

julia&gt; X[1:10, :]
10x4 TS{Float64,Dates.Date}: 2018-06-06 to 2018-06-15

Index       A         B         C         D
2018-06-06  100.2846  100.0341  101.5199  99.7461
2018-06-07  98.9376   99.9256   102.0506  101.8635
2018-06-08  99.7746   100.5972  102.8114  100.8833
2018-06-09  101.0395  100.1533  101.2241  100.8355
2018-06-10  101.1572  101.1572  102.6855  100.275
2018-06-11  103.4169  98.2827   101.8232  101.3372
2018-06-12  105.043   99.244    100.9129  100.4775
2018-06-13  104.9484  100.9185  98.3705   101.1156
2018-06-14  104.7878  98.2067   97.5307   101.6003
2018-06-15  106.0334  96.522    97.5502   101.179

julia&gt; X[end-100:end, 2:3]
101x2 TS{Float64,Dates.Date}: 2018-11-04 to 2019-02-12

Index       B         C
2018-11-04  101.5202  106.0654
2018-11-05  99.746    105.6663
2018-11-06  98.523    107.6489
2018-11-07  97.7401   107.5265
2018-11-08  97.2106   107.4519
2018-11-09  98.8085   109.9463
2018-11-10  99.1632   111.0256
⋮
2019-02-05  91.0771   94.2254
2019-02-06  91.8381   93.2887
2019-02-07  92.6502   92.7057
2019-02-08  93.8415   93.3777
2019-02-09  91.6363   92.2093
2019-02-10  91.7809   91.615
2019-02-11  92.0414   93.6297
2019-02-12  91.6883   94.1172

julia&gt; X[end, 2:end]
1x3 TS{Float64,Dates.Date}: 2019-02-12 to 2019-02-12

Index       B        C        D
2019-02-12  91.6883  94.1172  114.9619</code></pre><h2><a class="nav-anchor" id="Symbol-Indexing-1" href="#Symbol-Indexing-1">Symbol Indexing</a></h2><p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p><pre><code class="language-julia-repl">julia&gt; using Temporal

julia&gt; X = TS(cumsum(randn(252, 4), dims=1)) + 100.0
252x4 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A         B         C         D
2018-06-06  101.0044  102.3101  99.2633   100.7513
2018-06-07  100.8621  102.8877  100.2706  101.0758
2018-06-08  99.6534   102.1914  101.9401  100.3745
2018-06-09  97.7227   100.723   101.0055  101.6377
2018-06-10  98.2015   98.1565   100.1111  99.5518
2018-06-11  96.8762   97.4986   98.8129   100.5377
2018-06-12  95.1312   97.6384   99.2973   99.8759
⋮
2019-02-05  74.9339   102.8189  98.7038   84.2655
2019-02-06  75.8852   102.8098  98.2229   85.0396
2019-02-07  75.9566   104.2526  97.6098   84.4767
2019-02-08  76.8502   105.5781  97.7499   83.6348
2019-02-09  76.9367   104.3112  97.8887   81.071
2019-02-10  77.6459   105.3305  99.7402   81.3469
2019-02-11  77.0323   105.5469  100.9928  80.5816
2019-02-12  77.126    105.601   102.066   81.1218

julia&gt; X[:, :A]
252x1 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       A
2018-06-06  101.0044
2018-06-07  100.8621
2018-06-08  99.6534
2018-06-09  97.7227
2018-06-10  98.2015
2018-06-11  96.8762
2018-06-12  95.1312
⋮
2019-02-05  74.9339
2019-02-06  75.8852
2019-02-07  75.9566
2019-02-08  76.8502
2019-02-09  76.9367
2019-02-10  77.6459
2019-02-11  77.0323
2019-02-12  77.126

julia&gt; X[:, [:B, :D]]
252x2 TS{Float64,Dates.Date}: 2018-06-06 to 2019-02-12

Index       B         D
2018-06-06  102.3101  100.7513
2018-06-07  102.8877  101.0758
2018-06-08  102.1914  100.3745
2018-06-09  100.723   101.6377
2018-06-10  98.1565   99.5518
2018-06-11  97.4986   100.5377
2018-06-12  97.6384   99.8759
⋮
2019-02-05  102.8189  84.2655
2019-02-06  102.8098  85.0396
2019-02-07  104.2526  84.4767
2019-02-08  105.5781  83.6348
2019-02-09  104.3112  81.071
2019-02-10  105.3305  81.3469
2019-02-11  105.5469  80.5816
2019-02-12  105.601   81.1218</code></pre><h2><a class="nav-anchor" id="String-Indexing-1" href="#String-Indexing-1">String Indexing</a></h2><p>One of the more powerful features of Temporal&#39;s indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p><pre><code class="language-julia-repl">julia&gt; using Dates, Temporal

julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4), dims=1), t) + 100.0
731x4 TS{Float64,Dates.Date}: 2016-01-01 to 2017-12-31

Index       A         B         C         D
2016-01-01  98.6936   99.1837   99.4879   100.1017
2016-01-02  98.1599   101.4331  99.8399   99.0175
2016-01-03  97.1395   103.5046  99.1332   98.6677
2016-01-04  96.6777   102.5069  98.4939   97.5168
2016-01-05  96.3074   104.2669  98.0385   98.1215
2016-01-06  95.5682   103.8692  97.9297   98.5816
2016-01-07  96.423    104.975   98.9731   96.7789
⋮
2017-12-24  53.0319   89.4749   82.0311   114.5274
2017-12-25  51.3817   89.4384   82.3201   114.3874
2017-12-26  53.0784   89.7795   82.5723   113.4893
2017-12-27  53.2993   87.7846   82.2658   113.1348
2017-12-28  53.815    87.777    81.3989   112.0501
2017-12-29  53.3887   89.4361   82.1882   111.0374
2017-12-30  53.9878   88.7339   81.1718   109.6764
2017-12-31  54.0238   89.5003   81.4935   108.8245

julia&gt; X[&quot;2017-07-01&quot;]  # single day
1x4 TS{Float64,Dates.Date}: 2017-07-01 to 2017-07-01

Index       A        B        C        D
2017-07-01  59.9979  80.7416  78.8823  103.5509

julia&gt; X[&quot;2016&quot;]  # whole year
366x4 TS{Float64,Dates.Date}: 2016-01-01 to 2016-12-31

Index       A         B         C         D
2016-01-01  98.6936   99.1837   99.4879   100.1017
2016-01-02  98.1599   101.4331  99.8399   99.0175
2016-01-03  97.1395   103.5046  99.1332   98.6677
2016-01-04  96.6777   102.5069  98.4939   97.5168
2016-01-05  96.3074   104.2669  98.0385   98.1215
2016-01-06  95.5682   103.8692  97.9297   98.5816
2016-01-07  96.423    104.975   98.9731   96.7789
⋮
2016-12-24  76.031    82.5211   104.2542  92.4388
2016-12-25  76.5453   82.9012   103.8823  92.4875
2016-12-26  78.4041   83.7254   103.5439  92.2357
2016-12-27  77.0757   85.1617   102.2913  91.7295
2016-12-28  76.2827   85.9359   102.1424  90.7521
2016-12-29  77.0787   85.6241   100.1944  90.1871
2016-12-30  75.9345   87.0095   100.0067  89.7828
2016-12-31  75.7044   85.3897   99.7756   91.0259

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01</code></pre><footer><hr/><a class="previous" href="../io/"><span class="direction">Previous</span><span class="title">Data Access</span></a><a class="next" href="../combining/"><span class="direction">Next</span><span class="title">Joins</span></a></footer></article></body></html>
