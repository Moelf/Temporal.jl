<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  100.5025  98.1444   100.0813  100.5488
2017-11-24  99.5626   97.8201   101.3202  100.6184
2017-11-25  100.3631  98.8543   102.3015  101.0111
2017-11-26  101.0444  96.5676   100.9095  99.6742
2017-11-27  101.2033  96.5826   99.646    98.2467
2017-11-28  101.2183  96.7121   100.0514  97.1734
2017-11-29  100.8715  95.29     101.9287  98.2354
2017-11-30  100.0218  95.7359   102.4159  98.4353
2017-12-01  101.0845  95.869    103.0753  99.4709
⋮
2018-07-23  99.4152   112.6242  117.7071  107.8224
2018-07-24  100.7051  110.7196  119.7916  108.9584
2018-07-25  100.2295  111.9607  118.9272  109.9714
2018-07-26  99.2734   110.9238  117.7054  109.6627
2018-07-27  100.8795  111.0509  117.2452  106.9392
2018-07-28  101.3503  111.155   115.7005  109.1338
2018-07-29  101.7215  110.3909  117.1189  108.7836
2018-07-30  101.6865  108.038   116.7308  107.5284
2018-07-31  102.824   108.5268  115.6603  107.417
2018-08-01  102.4521  109.1688  114.661   106.8212

julia&gt; X[1]
Index       A         B        C         D
2017-11-23  100.5025  98.1444  100.0813  100.5488

julia&gt; X[1, :]
Index       A         B        C         D
2017-11-23  100.5025  98.1444  100.0813  100.5488

julia&gt; X[:, 1]
Index       A
2017-11-23  100.5025
2017-11-24  99.5626
2017-11-25  100.3631
2017-11-26  101.0444
2017-11-27  101.2033
2017-11-28  101.2183
2017-11-29  100.8715
2017-11-30  100.0218
2017-12-01  101.0845
⋮
2018-07-23  99.4152
2018-07-24  100.7051
2018-07-25  100.2295
2018-07-26  99.2734
2018-07-27  100.8795
2018-07-28  101.3503
2018-07-29  101.7215
2018-07-30  101.6865
2018-07-31  102.824
2018-08-01  102.4521

julia&gt; X[1, 1]
Index       A
2017-11-23  100.5025
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  98.2908   101.4015  100.2657  98.6539
2017-11-24  97.192    102.6839  98.8601   98.0107
2017-11-25  98.5756   103.6071  97.886    96.354
2017-11-26  99.4698   105.0633  97.9188   95.222
2017-11-27  99.6025   105.0022  98.0533   94.4256
2017-11-28  101.005   104.5439  99.3087   94.1897
2017-11-29  100.6031  104.202   100.2462  93.9151
2017-11-30  101.1944  102.6476  98.6645   92.6721
2017-12-01  103.1142  102.3285  97.7559   92.7208
⋮
2018-07-23  126.8483  99.7708   117.7582  62.2611
2018-07-24  127.5591  99.2646   119.2022  63.4011
2018-07-25  126.9741  100.1345  117.8092  62.9439
2018-07-26  128.1237  100.8821  116.6233  62.5156
2018-07-27  128.0817  99.6531   116.8455  63.969
2018-07-28  127.4828  99.913    115.7129  64.5969
2018-07-29  127.8454  98.2791   115.2374  65.8865
2018-07-30  129.5362  96.9963   115.0278  65.0533
2018-07-31  130.0346  98.5462   115.3747  62.8757
2018-08-01  131.5471  99.4886   115.8448  61.6395

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-11-23  98.2908   101.4015  100.2657  98.6539
2017-11-24  97.192    102.6839  98.8601   98.0107
2017-11-25  98.5756   103.6071  97.886    96.354
2017-11-26  99.4698   105.0633  97.9188   95.222
2017-11-27  99.6025   105.0022  98.0533   94.4256
2017-11-28  101.005   104.5439  99.3087   94.1897
2017-11-29  100.6031  104.202   100.2462  93.9151
2017-11-30  101.1944  102.6476  98.6645   92.6721
2017-12-01  103.1142  102.3285  97.7559   92.7208
⋮
2018-07-23  126.8483  99.7708   117.7582  62.2611
2018-07-24  127.5591  99.2646   119.2022  63.4011
2018-07-25  126.9741  100.1345  117.8092  62.9439
2018-07-26  128.1237  100.8821  116.6233  62.5156
2018-07-27  128.0817  99.6531   116.8455  63.969
2018-07-28  127.4828  99.913    115.7129  64.5969
2018-07-29  127.8454  98.2791   115.2374  65.8865
2018-07-30  129.5362  96.9963   115.0278  65.0533
2018-07-31  130.0346  98.5462   115.3747  62.8757
2018-08-01  131.5471  99.4886   115.8448  61.6395

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-23  98.2908
2017-11-24  97.192
2017-11-25  98.5756
2017-11-26  99.4698
2017-11-29  100.6031
2017-11-30  101.1944
2017-12-03  101.3687
2017-12-04  101.3035
2017-12-05  101.8128
⋮
2018-07-13  125.374
2018-07-14  124.221
2018-07-15  123.7628
2018-07-16  125.5453
2018-07-18  127.2584
2018-07-19  126.2169
2018-07-20  126.7912
2018-07-25  126.9741
2018-07-27  128.0817
2018-07-31  130.0346

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-23  98.2908
2017-11-27  99.6025
2017-11-30  101.1944
2017-12-01  103.1142
2017-12-03  101.3687
2017-12-04  101.3035
2017-12-05  101.8128
2017-12-06  102.1411
2017-12-08  102.4193
⋮
2018-07-10  124.9674
2018-07-12  125.4416
2018-07-15  123.7628
2018-07-16  125.5453
2018-07-17  125.9751
2018-07-18  127.2584
2018-07-20  126.7912
2018-07-25  126.9741
2018-07-26  128.1237
2018-07-31  130.0346
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  100.9161  102.2678  101.6956  99.8422
2017-11-24  101.2665  103.1448  100.7953  101.01
2017-11-25  102.132   102.0469  100.9661  101.4437
2017-11-26  101.8793  101.9904  100.042   101.1299
2017-11-27  102.7251  102.2618  100.4205  100.4032
2017-11-28  103.8323  102.9251  99.9098   100.4185
2017-11-29  103.7311  104.1945  99.7754   100.8108
2017-11-30  104.0839  104.4726  98.0539   100.3592
2017-12-01  103.4123  103.4582  98.1783   100.3745
⋮
2018-07-23  97.4472   101.4105  114.0485  83.4898
2018-07-24  99.5752   101.0455  114.0641  82.834
2018-07-25  98.2521   102.1865  114.4514  84.2942
2018-07-26  97.0365   102.2326  113.6056  83.8491
2018-07-27  97.1736   102.6042  116.1833  84.7046
2018-07-28  98.3865   101.6799  116.0937  83.7347
2018-07-29  97.6181   100.8099  116.0232  83.5885
2018-07-30  97.211    98.7295   115.1608  84.5063
2018-07-31  96.7576   97.808    115.4555  84.1841
2018-08-01  97.043    96.7073   114.9246  84.834

julia&gt; X[1:10, :]
Index       A         B         C         D
2017-11-23  100.9161  102.2678  101.6956  99.8422
2017-11-24  101.2665  103.1448  100.7953  101.01
2017-11-25  102.132   102.0469  100.9661  101.4437
2017-11-26  101.8793  101.9904  100.042   101.1299
2017-11-27  102.7251  102.2618  100.4205  100.4032
2017-11-28  103.8323  102.9251  99.9098   100.4185
2017-11-29  103.7311  104.1945  99.7754   100.8108
2017-11-30  104.0839  104.4726  98.0539   100.3592
2017-12-01  103.4123  103.4582  98.1783   100.3745
2017-12-02  104.2094  102.9056  97.0253   100.3094

julia&gt; X[end-100:end, 2:3]
Index       B         C
2018-04-23  106.2937  99.4767
2018-04-24  107.0945  99.0866
2018-04-25  108.6038  97.1472
2018-04-26  107.0333  98.8029
2018-04-27  107.247   98.1776
2018-04-28  108.6921  100.7632
2018-04-29  110.848   99.9769
2018-04-30  110.1161  100.9558
2018-05-01  109.5805  100.3585
⋮
2018-07-23  101.4105  114.0485
2018-07-24  101.0455  114.0641
2018-07-25  102.1865  114.4514
2018-07-26  102.2326  113.6056
2018-07-27  102.6042  116.1833
2018-07-28  101.6799  116.0937
2018-07-29  100.8099  116.0232
2018-07-30  98.7295   115.1608
2018-07-31  97.808    115.4555
2018-08-01  96.7073   114.9246

julia&gt; X[end, 2:end]
Index       B        C         D
2018-08-01  96.7073  114.9246  84.834
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-23  100.7497  100.503   99.0445   99.3639
2017-11-24  100.6328  100.7002  100.3108  100.4882
2017-11-25  102.2071  100.4989  101.7136  99.8514
2017-11-26  102.937   100.9981  101.8833  98.5373
2017-11-27  102.2448  101.4436  101.966   97.9145
2017-11-28  102.7773  100.827   104.106   97.4583
2017-11-29  102.7284  99.6103   102.6668  97.0765
2017-11-30  101.9769  98.1512   102.4674  96.7353
2017-12-01  101.203   98.7047   102.1218  96.8687
⋮
2018-07-23  101.6878  54.8377   110.2852  98.0035
2018-07-24  102.6526  55.4408   111.1932  99.8339
2018-07-25  102.6333  55.842    113.0082  99.6129
2018-07-26  102.8353  55.3008   112.3899  99.5354
2018-07-27  103.0425  54.9956   112.6537  100.188
2018-07-28  105.4889  54.4527   112.7704  101.0789
2018-07-29  104.1759  52.8894   112.1453  100.2356
2018-07-30  103.4553  51.0441   113.1208  99.8792
2018-07-31  103.5264  51.2989   112.9403  99.8575
2018-08-01  102.4781  52.3803   112.898   99.6091

julia&gt; X[:, :A]
Index       A
2017-11-23  100.7497
2017-11-24  100.6328
2017-11-25  102.2071
2017-11-26  102.937
2017-11-27  102.2448
2017-11-28  102.7773
2017-11-29  102.7284
2017-11-30  101.9769
2017-12-01  101.203
⋮
2018-07-23  101.6878
2018-07-24  102.6526
2018-07-25  102.6333
2018-07-26  102.8353
2018-07-27  103.0425
2018-07-28  105.4889
2018-07-29  104.1759
2018-07-30  103.4553
2018-07-31  103.5264
2018-08-01  102.4781

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-11-23  100.503   99.3639
2017-11-24  100.7002  100.4882
2017-11-25  100.4989  99.8514
2017-11-26  100.9981  98.5373
2017-11-27  101.4436  97.9145
2017-11-28  100.827   97.4583
2017-11-29  99.6103   97.0765
2017-11-30  98.1512   96.7353
2017-12-01  98.7047   96.8687
⋮
2018-07-23  54.8377   98.0035
2018-07-24  55.4408   99.8339
2018-07-25  55.842    99.6129
2018-07-26  55.3008   99.5354
2018-07-27  54.9956   100.188
2018-07-28  54.4527   101.0789
2018-07-29  52.8894   100.2356
2018-07-30  51.0441   99.8792
2018-07-31  51.2989   99.8575
2018-08-01  52.3803   99.6091
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A        B         C         D
2016-01-01  98.5591  100.6748  99.4478   99.8511
2016-01-02  98.7514  101.2701  101.4324  97.9025
2016-01-03  97.0985  103.0823  101.2734  98.3842
2016-01-04  98.0823  101.8497  100.6986  98.5587
2016-01-05  96.9073  102.6321  100.4898  98.5528
2016-01-06  98.4132  102.9859  100.9451  98.0059
2016-01-07  98.6179  104.4268  100.7     96.4086
2016-01-08  99.0612  104.1073  99.1041   94.6036
2016-01-09  98.3294  105.8588  100.273   93.4884
⋮
2017-12-22  87.5449  128.9224  118.7502  68.125
2017-12-23  88.2823  128.1788  116.786   67.1193
2017-12-24  87.9664  127.6979  115.678   66.8395
2017-12-25  87.7583  127.9241  117.0939  66.7834
2017-12-26  86.5115  129.2952  117.2402  66.8318
2017-12-27  88.8914  129.441   116.7008  68.3442
2017-12-28  89.2871  130.0919  117.2986  69.8317
2017-12-29  89.4424  131.37    117.3355  69.1414
2017-12-30  88.4807  130.2245  118.162   68.7388
2017-12-31  86.8707  129.5718  119.1236  67.4858

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A       B         C         D
2017-07-01  92.554  128.5862  111.0742  85.6918

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C         D
2016-01-01  98.5591   100.6748  99.4478   99.8511
2016-01-02  98.7514   101.2701  101.4324  97.9025
2016-01-03  97.0985   103.0823  101.2734  98.3842
2016-01-04  98.0823   101.8497  100.6986  98.5587
2016-01-05  96.9073   102.6321  100.4898  98.5528
2016-01-06  98.4132   102.9859  100.9451  98.0059
2016-01-07  98.6179   104.4268  100.7     96.4086
2016-01-08  99.0612   104.1073  99.1041   94.6036
2016-01-09  98.3294   105.8588  100.273   93.4884
⋮
2016-12-22  98.3679   110.3813  105.6451  96.4015
2016-12-23  97.2345   111.5264  105.62    96.1775
2016-12-24  98.7972   110.5063  105.4905  97.2427
2016-12-25  98.2028   112.2271  105.798   96.6313
2016-12-26  98.2664   113.781   105.4167  95.6273
2016-12-27  100.0734  115.0498  106.0803  95.7977
2016-12-28  100.5919  115.1624  105.5772  95.5724
2016-12-29  100.7683  115.7295  105.2561  94.198
2016-12-30  100.7233  115.8865  105.5872  92.9408
2016-12-31  98.9763   116.2018  103.6751  92.4659

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
