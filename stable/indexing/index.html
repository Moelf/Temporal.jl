<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="dysonance">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Indexing - Temporal.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Indexing";
    var mkdocs_page_input_path = "indexing.md";
    var mkdocs_page_url = "/indexing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Temporal.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ts/">TS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../operations/">Operations</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Indexing</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l2"><a href="#numerical-indexing">Numerical Indexing</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#integer">Integer</a></li>
        
            <li><a class="toctree-l3" href="#boolean">Boolean</a></li>
        
            <li><a class="toctree-l3" href="#arrays-ranges">Arrays &amp; Ranges</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#symbol-indexing">Symbol Indexing</a></li>
    

    <li class="toctree-l2"><a href="#string-indexing">String Indexing</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../combining/">Combining</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregation/">Aggregation</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Temporal.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Indexing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dysonance/Temporal.jl/edit/master/docs/indexing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Overview-1'></a></p>
<h1 id="overview">Overview</h1>
<p>One of the chief aims of the <code>Temporal.jl</code> package is to simplify the process of extracting a desired subset from a time series dataset. To that end, there are quite a few different methods by which one can index specific rows/columns of a <code>TS</code> object.</p>
<p>One goal has been to keep as much of the relevant indexing operations from the base <code>Array</code> type as possible to maintain consistency. However, there are certain indexing idioms that are specifically more familiar and meaningful to tabular time series data, particularly when prototyping in the REPL.</p>
<p>In other words, if you want to use standard <code>Array</code> indexing syntax, it should work as you would expect, but you should also be able to essentially say, "give me all the observations from the year <em>2017</em> in the <em>price</em> column."</p>
<p><a id='Numerical-Indexing-1'></a></p>
<h1 id="numerical-indexing">Numerical Indexing</h1>
<p><a id='Integer-1'></a></p>
<h2 id="integer">Integer</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-19  99.2958   100.8757  100.6179  100.8985
2017-11-20  98.9786   100.4797  100.3827  101.287
2017-11-21  98.1393   99.4784   101.1112  101.7501
2017-11-22  97.4411   100.7777  100.6431  102.4291
2017-11-23  98.0675   101.4401  99.9197   101.021
2017-11-24  100.155   101.1637  100.8228  102.668
2017-11-25  100.2423  101.6127  99.92     102.6594
2017-11-26  98.6891   100.5908  98.853    103.3408
2017-11-27  100.7421  100.193   98.3289   102.9349
⋮
2018-07-19  94.897    87.4128   91.1183   97.3729
2018-07-20  93.9676   85.9971   92.3363   98.1325
2018-07-21  95.4269   85.4228   92.6338   97.4313
2018-07-22  93.935    85.6732   93.1595   97.5688
2018-07-23  94.1849   85.0258   92.6329   99.0213
2018-07-24  95.639    85.9362   91.5375   99.3691
2018-07-25  95.443    85.2272   90.654    98.9038
2018-07-26  94.9826   86.5297   91.1022   99.857
2018-07-27  94.3867   86.1937   89.95     101.2407
2018-07-28  93.0571   85.7049   89.968    100.5816

julia&gt; X[1]
Index       A        B         C         D
2017-11-19  99.2958  100.8757  100.6179  100.8985

julia&gt; X[1, :]
Index       A        B         C         D
2017-11-19  99.2958  100.8757  100.6179  100.8985

julia&gt; X[:, 1]
Index       A
2017-11-19  99.2958
2017-11-20  98.9786
2017-11-21  98.1393
2017-11-22  97.4411
2017-11-23  98.0675
2017-11-24  100.155
2017-11-25  100.2423
2017-11-26  98.6891
2017-11-27  100.7421
⋮
2018-07-19  94.897
2018-07-20  93.9676
2018-07-21  95.4269
2018-07-22  93.935
2018-07-23  94.1849
2018-07-24  95.639
2018-07-25  95.443
2018-07-26  94.9826
2018-07-27  94.3867
2018-07-28  93.0571

julia&gt; X[1, 1]
Index       A
2017-11-19  99.2958
</code></pre>

<p><a id='Boolean-1'></a></p>
<h2 id="boolean">Boolean</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-19  100.2094  100.6741  100.6919  99.5939
2017-11-20  100.3542  101.9022  100.3963  98.5532
2017-11-21  100.9042  102.4327  100.1859  99.0017
2017-11-22  101.3292  101.8391  96.7843   100.069
2017-11-23  102.1972  104.5018  98.0793   98.6116
2017-11-24  101.9892  103.3152  98.2964   99.8296
2017-11-25  101.1739  102.0474  97.505    99.6997
2017-11-26  102.263   101.4005  96.9174   100.8686
2017-11-27  104.0253  101.8253  97.97     99.991
⋮
2018-07-19  90.844    115.6516  79.3877   81.7461
2018-07-20  90.7459   114.8801  79.1774   80.2975
2018-07-21  90.3732   114.5844  81.6539   79.899
2018-07-22  89.2464   114.7872  81.2944   80.7614
2018-07-23  89.4594   115.7686  81.3803   79.0831
2018-07-24  88.3212   115.7108  79.2967   77.4422
2018-07-25  89.0878   114.7897  79.6601   78.3249
2018-07-26  88.5274   114.284   79.1082   77.2415
2018-07-27  87.9015   113.6226  79.224    78.4548
2018-07-28  86.9899   113.0736  79.5338   78.4296

julia&gt; X[trues(size(X,1)), :]
Index       A         B         C         D
2017-11-19  100.2094  100.6741  100.6919  99.5939
2017-11-20  100.3542  101.9022  100.3963  98.5532
2017-11-21  100.9042  102.4327  100.1859  99.0017
2017-11-22  101.3292  101.8391  96.7843   100.069
2017-11-23  102.1972  104.5018  98.0793   98.6116
2017-11-24  101.9892  103.3152  98.2964   99.8296
2017-11-25  101.1739  102.0474  97.505    99.6997
2017-11-26  102.263   101.4005  96.9174   100.8686
2017-11-27  104.0253  101.8253  97.97     99.991
⋮
2018-07-19  90.844    115.6516  79.3877   81.7461
2018-07-20  90.7459   114.8801  79.1774   80.2975
2018-07-21  90.3732   114.5844  81.6539   79.899
2018-07-22  89.2464   114.7872  81.2944   80.7614
2018-07-23  89.4594   115.7686  81.3803   79.0831
2018-07-24  88.3212   115.7108  79.2967   77.4422
2018-07-25  89.0878   114.7897  79.6601   78.3249
2018-07-26  88.5274   114.284   79.1082   77.2415
2018-07-27  87.9015   113.6226  79.224    78.4548
2018-07-28  86.9899   113.0736  79.5338   78.4296

julia&gt; X[rand(Bool, size(X,1)), 1]
Index       A
2017-11-19  100.2094
2017-11-20  100.3542
2017-11-21  100.9042
2017-11-24  101.9892
2017-11-25  101.1739
2017-12-02  101.1809
2017-12-05  102.5026
2017-12-07  101.6575
2017-12-08  100.9888
⋮
2018-07-06  92.2906
2018-07-07  90.8928
2018-07-08  89.3198
2018-07-12  90.199
2018-07-13  89.3238
2018-07-18  92.1384
2018-07-19  90.844
2018-07-20  90.7459
2018-07-23  89.4594
2018-07-28  86.9899

julia&gt; X[rand(Bool, size(X,1)), [true, false, false, false]]
Index       A
2017-11-19  100.2094
2017-11-20  100.3542
2017-11-21  100.9042
2017-11-22  101.3292
2017-11-24  101.9892
2017-11-25  101.1739
2017-11-26  102.263
2017-11-27  104.0253
2017-11-29  103.452
⋮
2018-07-13  89.3238
2018-07-14  90.36
2018-07-15  91.2145
2018-07-16  92.4099
2018-07-17  91.8074
2018-07-20  90.7459
2018-07-22  89.2464
2018-07-23  89.4594
2018-07-25  89.0878
2018-07-27  87.9015
</code></pre>

<p><a id='Arrays-and-Ranges-1'></a></p>
<h2 id="arrays-ranges">Arrays &amp; Ranges</h2>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-19  101.9269  101.778   98.9673   100.0389
2017-11-20  101.7222  100.9181  97.7148   99.6822
2017-11-21  100.0475  100.4931  98.9467   98.4529
2017-11-22  100.3516  99.6382   99.8501   99.7977
2017-11-23  99.6612   99.4192   99.5238   98.6628
2017-11-24  99.7499   99.9029   97.3078   98.1512
2017-11-25  97.3202   99.6457   99.5036   98.1275
2017-11-26  95.9624   100.4185  100.2904  98.432
2017-11-27  95.5447   100.815   100.3089  98.5393
⋮
2018-07-19  125.2796  95.5907   104.2622  92.3902
2018-07-20  124.8911  95.7194   104.2223  93.0939
2018-07-21  125.3261  93.9157   102.7376  92.1519
2018-07-22  125.9974  94.6005   103.9263  92.4663
2018-07-23  124.8122  94.9774   103.5235  92.9516
2018-07-24  123.1996  95.1884   103.3894  94.4655
2018-07-25  123.7339  96.1588   103.8059  94.322
2018-07-26  124.978   96.8931   104.2553  95.0489
2018-07-27  125.3946  96.1271   104.3289  96.1678
2018-07-28  125.5701  96.3774   104.2335  94.2905

julia&gt; X[1:10, :]
Index       A         B         C         D
2017-11-19  101.9269  101.778   98.9673   100.0389
2017-11-20  101.7222  100.9181  97.7148   99.6822
2017-11-21  100.0475  100.4931  98.9467   98.4529
2017-11-22  100.3516  99.6382   99.8501   99.7977
2017-11-23  99.6612   99.4192   99.5238   98.6628
2017-11-24  99.7499   99.9029   97.3078   98.1512
2017-11-25  97.3202   99.6457   99.5036   98.1275
2017-11-26  95.9624   100.4185  100.2904  98.432
2017-11-27  95.5447   100.815   100.3089  98.5393
2017-11-28  96.9962   100.3548  101.0251  98.0552

julia&gt; X[end-100:end, 2:3]
Index       B        C
2018-04-19  90.3093  96.9603
2018-04-20  89.3182  96.2505
2018-04-21  90.6309  96.368
2018-04-22  90.55    97.6796
2018-04-23  88.9741  97.3787
2018-04-24  88.0328  97.386
2018-04-25  88.9533  96.6883
2018-04-26  89.9523  97.4524
2018-04-27  89.4428  96.9133
⋮
2018-07-19  95.5907  104.2622
2018-07-20  95.7194  104.2223
2018-07-21  93.9157  102.7376
2018-07-22  94.6005  103.9263
2018-07-23  94.9774  103.5235
2018-07-24  95.1884  103.3894
2018-07-25  96.1588  103.8059
2018-07-26  96.8931  104.2553
2018-07-27  96.1271  104.3289
2018-07-28  96.3774  104.2335

julia&gt; X[end, 2:end]
Index       B        C         D
2018-07-28  96.3774  104.2335  94.2905
</code></pre>

<p><a id='Symbol-Indexing-1'></a></p>
<h1 id="symbol-indexing">Symbol Indexing</h1>
<p>You can also index specific columns you want using the <code>fields</code> member of the <code>TS</code> object, so that columns can be fetched by name rather than by numerical index.</p>
<pre><code class="julia-repl">
julia&gt; X = TS(cumsum(randn(252, 4))) + 100.0
Index       A         B         C         D
2017-11-19  102.2033  98.5306   100.4214  97.3592
2017-11-20  99.9578   97.3561   101.1242  96.8923
2017-11-21  100.6463  98.9318   99.4149   97.398
2017-11-22  99.304    98.353    100.1237  97.7331
2017-11-23  100.7317  99.0667   99.4813   97.9815
2017-11-24  100.5552  97.1868   96.9927   97.3088
2017-11-25  101.6396  97.0784   96.6296   97.3791
2017-11-26  101.9406  97.4074   96.5638   99.4406
2017-11-27  102.5603  98.5987   96.7882   100.7281
⋮
2018-07-19  90.1652   116.0452  93.237    115.7229
2018-07-20  90.2579   116.5474  93.6955   116.6877
2018-07-21  91.3775   114.7913  92.6797   115.5055
2018-07-22  90.0704   113.8429  92.5019   116.9205
2018-07-23  90.595    113.3927  91.6587   117.9146
2018-07-24  89.2      113.5664  93.5761   115.6153
2018-07-25  91.0549   113.2588  92.6684   116.5322
2018-07-26  91.7463   112.3542  92.1978   116.3216
2018-07-27  90.5384   110.6058  93.2171   115.6411
2018-07-28  91.8231   110.4757  91.6951   113.9696

julia&gt; X[:, :A]
Index       A
2017-11-19  102.2033
2017-11-20  99.9578
2017-11-21  100.6463
2017-11-22  99.304
2017-11-23  100.7317
2017-11-24  100.5552
2017-11-25  101.6396
2017-11-26  101.9406
2017-11-27  102.5603
⋮
2018-07-19  90.1652
2018-07-20  90.2579
2018-07-21  91.3775
2018-07-22  90.0704
2018-07-23  90.595
2018-07-24  89.2
2018-07-25  91.0549
2018-07-26  91.7463
2018-07-27  90.5384
2018-07-28  91.8231

julia&gt; X[:, [:B, :D]]
Index       B         D
2017-11-19  98.5306   97.3592
2017-11-20  97.3561   96.8923
2017-11-21  98.9318   97.398
2017-11-22  98.353    97.7331
2017-11-23  99.0667   97.9815
2017-11-24  97.1868   97.3088
2017-11-25  97.0784   97.3791
2017-11-26  97.4074   99.4406
2017-11-27  98.5987   100.7281
⋮
2018-07-19  116.0452  115.7229
2018-07-20  116.5474  116.6877
2018-07-21  114.7913  115.5055
2018-07-22  113.8429  116.9205
2018-07-23  113.3927  117.9146
2018-07-24  113.5664  115.6153
2018-07-25  113.2588  116.5322
2018-07-26  112.3542  116.3216
2018-07-27  110.6058  115.6411
2018-07-28  110.4757  113.9696
</code></pre>

<p><a id='String-Indexing-1'></a></p>
<h1 id="string-indexing">String Indexing</h1>
<p>One of the more powerful features of Temporal's indexing functionality is that you can index rows of a <code>TS</code> object using <code>String</code>s formatted in such a way as to express specific periods of time in a natural idiomatic way. (If you have used the <code>xts</code> package in R this functionality will feel very familiar.)</p>
<pre><code class="julia-repl">
julia&gt; t = Date(2016,1,1):Day(1):Date(2017,12,31)
2016-01-01:1 day:2017-12-31

julia&gt; X = TS(cumsum(randn(length(t), 4)), t) + 100.0
Index       A         B         C         D
2016-01-01  101.343   99.5378   102.0802  99.2765
2016-01-02  101.1183  99.0144   100.1566  99.0028
2016-01-03  101.4186  100.0433  98.6285   98.8629
2016-01-04  103.1871  98.5301   96.4922   98.3368
2016-01-05  102.5251  99.2638   96.5219   97.38
2016-01-06  100.9829  99.6313   98.0704   96.8018
2016-01-07  102.1916  101.4188  100.512   96.0941
2016-01-08  101.3155  100.399   99.2067   96.6065
2016-01-09  101.0002  101.2584  100.1786  97.1841
⋮
2017-12-22  98.0168   111.6535  99.9439   64.0697
2017-12-23  96.993    111.2706  100.1612  62.566
2017-12-24  96.6708   110.2678  99.2645   63.9994
2017-12-25  97.0057   107.769   98.8196   63.5193
2017-12-26  98.0709   106.5559  99.1331   64.5022
2017-12-27  98.389    106.0957  98.6856   61.6914
2017-12-28  98.3605   105.6215  98.2      61.1799
2017-12-29  98.1167   108.0949  99.5131   59.867
2017-12-30  98.0681   109.3573  99.2266   60.0755
2017-12-31  98.9005   109.772   97.4562   59.893

julia&gt; X[&quot;2017-07-01&quot;]  # single day
Index       A         B         C        D
2017-07-01  100.6249  124.5497  93.8871  76.4091

julia&gt; X[&quot;2016&quot;]  # whole year
Index       A         B         C         D
2016-01-01  101.343   99.5378   102.0802  99.2765
2016-01-02  101.1183  99.0144   100.1566  99.0028
2016-01-03  101.4186  100.0433  98.6285   98.8629
2016-01-04  103.1871  98.5301   96.4922   98.3368
2016-01-05  102.5251  99.2638   96.5219   97.38
2016-01-06  100.9829  99.6313   98.0704   96.8018
2016-01-07  102.1916  101.4188  100.512   96.0941
2016-01-08  101.3155  100.399   99.2067   96.6065
2016-01-09  101.0002  101.2584  100.1786  97.1841
⋮
2016-12-22  93.9664   114.1274  87.6274   68.653
2016-12-23  92.7945   113.1783  89.1208   69.2861
2016-12-24  91.8052   114.1763  89.1018   69.1201
2016-12-25  90.3013   113.9698  89.6838   69.3039
2016-12-26  91.7277   114.1584  88.4012   69.4976
2016-12-27  91.9259   115.2764  89.3071   68.0187
2016-12-28  91.8415   116.1837  91.4058   67.3922
2016-12-29  93.0244   116.2391  90.8213   67.6068
2016-12-30  91.3062   117.6272  91.037    67.9689
2016-12-31  92.2796   118.1146  89.7717   65.6082

julia&gt; X[&quot;2016-09-15/&quot;]  # everything after a specific day
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/

julia&gt; X[&quot;/2017-07-01&quot;]  # everything up through a specific month
ERROR: AssertionError: Invalid indexing string: Unable to parse /2017-07-01

julia&gt; X[&quot;2016-09-15/2017-07-01&quot;]  # mix &amp; match
ERROR: AssertionError: Invalid indexing string: Unable to parse 2016-09-15/2017-07-01
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../combining/" class="btn btn-neutral float-right" title="Combining">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../operations/" class="btn btn-neutral" title="Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dysonance/Temporal.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../operations/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../combining/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
